import{r as s,f as k,j as e,e as b}from"./index-DJ40OD_I.js";import{L as P}from"./loadingButton-BzTpu-ci.js";import{u as A}from"./useApi-CdL-Hv1t.js";import{H as E,F as L}from"./Header-QuBUwkkL.js";import{B as C}from"./backgroundWithHome-B-N6kkXd.js";import{w as c,T as i,z as B}from"./TextField-DbQGskJz.js";import{A as g}from"./Alert-B_67j3yr.js";import"./CircularProgress-CWzzA20Q.js";import"./index.esm-Bh5S3kpo.js";import"./index-CwXf6fe9.js";import"./modal-Bhf68z0j.js";import"./IconButton-BLKugJlb.js";import"./useSlot-mbHhkoSz.js";const F=()=>{const[a,u]=s.useState(""),[d,l]=s.useState(""),[t,m]=s.useState(!1),[f,h]=s.useState(""),[n,p]=s.useState(0),{loading:y,error:w,callApi:j}=A(),S=k();s.useEffect(()=>{let r;return t&&n>0&&(r=setInterval(()=>{p(o=>{const x=o-1;return x<=0&&m(!1),x})},1e3)),()=>clearInterval(r)},[t,n]);const v=async r=>{if(r.preventDefault(),l(""),!a)return l("Please enter your email");const o=await j(b.PASSWORD_LINK,"POST",{email:a});o&&o.message&&o.message==="Password reset link sent successfully"?(l("Password reset link sent. Kindly check your email!"),u(""),m(!0),p(60)):h("Password link not sent, something went wrong or you can check if your email is correctly inputted")};return e.jsxs(c,{children:[e.jsx(E,{}),e.jsx(c,{sx:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"30px",mx:{xs:4,sm:4,md:0}},children:e.jsxs(c,{sx:{p:3,textAlign:"start",backgroundColor:"white",boxShadow:10,borderRadius:2},children:[e.jsx(i,{variant:"h5",color:"#000",gutterBottom:!0,children:"Forgot your password?"}),e.jsx(i,{variant:"body2",color:"textSecondary",mb:2,children:"Enter your email and we will send you a password reset link."}),d&&e.jsx(g,{severity:"success",children:d}),w&&e.jsx(g,{severity:"error",children:f}),e.jsxs("form",{onSubmit:v,children:[e.jsx(B,{fullWidth:!0,label:"Email",variant:"outlined",type:"email",margin:"normal",value:a,onChange:r=>u(r.target.value)}),e.jsx(P,{type:"submit",variant:"contained",fullWidth:!0,isLoading:y,disabled:t,sx:{filter:t?"blur(0.1px)":"none",cursor:t?"not-allowed":"pointer"},children:t?"Reset Link Sent":"Request Reset Link"})]}),t&&n>0&&e.jsxs(i,{variant:"body2",color:"textSecondary",sx:{mt:2,textAlign:"center"},children:["You can resend the link in ",n," seconds."]}),e.jsx(i,{variant:"body2",color:"primary",sx:{mt:2,textAlign:"center",cursor:"pointer"},onClick:()=>S("/signin"),children:"Back to Login"})]})}),e.jsx(L,{})]})},R=C(F),G=()=>e.jsx(R,{});export{G as default};
