import{r as o}from"./index-BC37bsQa.js";const A=()=>{const[f,l]=o.useState(!1),[h,m]=o.useState(""),[w,n]=o.useState(null),d=o.useCallback(async(c,i="GET",s=null,S={})=>{console.log(`API call initiated: URL=${c}, Method=${i}, Body=`,s),l(!0),n(null);const a=sessionStorage.getItem("accessToken");console.log(`Access Token: ${a}`);const r={...S.headers};a&&(r.Authorization=`Bearer ${a}`),s instanceof FormData||(r["Content-Type"]="application/json");const u={method:i,headers:r,body:s&&!(s instanceof FormData)?JSON.stringify(s):s};console.log("Request options:",u);try{const e=await fetch(c,u);if(console.log(`Response status: ${e.status}`),!e.ok){const p=await e.json();return console.log("Error response:",p),n(p.message||"Something went wrong"),null}const g=e.headers.get("Content-Type");let t;return g&&g.includes("application/json")?t=await e.json():t=await e.text(),console.log("Response data:",t),m(t),t}catch(e){return console.error("Error during API call:",e),n(e.message||"Something went wrong"),null}finally{l(!1)}},[]);return{loading:f,data:h,error:w,callApi:d}};export{A as u};
