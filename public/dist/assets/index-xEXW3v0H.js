import{r as t,j as e}from"./index-22HUb1_z.js";import{t as T}from"./modal-CFzM2TvC.js";import{H as w}from"./Header-CXtHvVsg.js";import{T as M}from"./table-iQGSzLj8.js";import{u as j}from"./useApi-BivKV4bK.js";import{j as k,A as l,w as s,z as a,y as A,T as u}from"./constants-BJW4J9P5.js";import{w as G}from"./dasboardPagesContainer-qh7jt9JW.js";import"./IconButton-xWupQFdG.js";import"./index-dxrUZtLq.js";import"./MenuItem-38XN_-vW.js";import"./confirmationModal-BxJ-28ob.js";import"./index-DF2Knd0X.js";import"./loadingButton-DUprIo-A.js";import"./useSlot-Bb0ot7dQ.js";import"./useMediaQuery-vabypUKQ.js";const N=()=>{const I=k(),o=T(I.palette.mode),[m,c]=t.useState(""),[d,p]=t.useState(""),[b,g]=t.useState(""),[x,h]=t.useState(""),{data:y,loading:E,error:f,callApi:i}=j(),{callApi:C,loading:S,error:n}=j();t.useEffect(()=>{i(l.ENQUIRIES,"GET")},[i]);const v=async r=>{r.preventDefault();const q={name:m,email:d,date:b,message:x};await C(l.ENQUIRIES,"POST",q),n||(i(l.ENQUIRIES,"GET"),c(""),p(""),g(""),h(""))},D={columns:[{id:"id",label:"ID",flex:.5},{id:"name",label:"Name",flex:1},{id:"email",label:"Email",flex:1},{id:"date",label:"Date",flex:1},{id:"message",label:"Message",flex:2}],tableHeader:"Support Inquiries",data:y||[],sortBy:"id",sortDirection:"asc",page:0,rowsPerPage:5,onRowClick:r=>console.log("Row clicked:",r)};return e.jsxs(s,{children:[e.jsx(w,{title:"Support and Customer Care",subtitle:"Submit your inquiries and concerns"}),e.jsxs(s,{component:"form",onSubmit:v,sx:{mt:3,mb:3},children:[e.jsx(a,{label:"Name",value:m,onChange:r=>c(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Email",type:"email",value:d,onChange:r=>p(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Date",type:"date",value:b,onChange:r=>g(r.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(a,{label:"Message",value:x,onChange:r=>h(r.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},disabled:S,children:S?"Submitting...":"Submit Inquiry"}),n&&e.jsx(u,{color:"error",children:n})]}),E?e.jsx(u,{children:"Loading inquiries..."}):f?e.jsx(u,{color:"error",children:f}):e.jsx(s,{height:"75vh",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:o.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:o.primary[400]},"& .MuiDataGrid-footerContainer":{borderTop:"none",backgroundColor:o.blueAccent[700]},"& .MuiCheckbox-root":{color:`${o.greenAccent[200]} !important`}},children:e.jsx(M,{...D})})]})},Y=G(N);export{Y as default};
