import{B as rr,r as C,j as v,F as nr}from"./index-Crajziag.js";import{c as ar,A as ir,e as or,i as ve,a as lr,F as sr,b as pe,g as pt,h as vt,d as ur,r as dr,f as cr,j as fr,k as hr,l as gr,D as ut,u as Dt,M as Me,w as _n,m as mr,n as At,o as Bn,R as Fn,p as Bt,q as Jt,s as Ft,I as Vn,v as Dn,x as zn,y as Nn,$ as Kr,z as Jr,B as Zr,C as Hn,P as Un,E as Gn,T as Yn,G as Qr,H as Sr,J as Ut,K as en,L as Xn,Y as Cr,N as qn,O as Kn,Q as Jn,S as Gt,U as Zn,V as Qn}from"./nivo-pie--_sW957m.js";import{b as ea,i as tn,c as br,d as ta,k as rn,e as nn,s as ra,f as na,g as aa,h as ia,j as pr,l as an,m as on,n as oa,o as la,p as sa,q as ua,r as da,u as ln,v as ca,w as fa}from"./_baseIsEqual-DWI_xUe4.js";import{m as ha,u as ga,h as ma,a as ba,b as pa,c as va,s as Tr,d as $r,e as ya,l as xa,f as ka,t as wa,g as Sa,i as Ca,j as Ta,v as $a,_ as Oa,J as Or}from"./nivo-line.es-Cfn-MQ4x.js";import{c as Pt,a as ja,y as Aa,u as Wa,s as La,b as Ma,f as Pa,d as Ea,t as Ia,e as Ra,w as _a,g as Ba,h as Fa,i as Va,m as Da,j as za,k as jr,l as Ar,n as Wr,p as Na,o as Ha,q as Ua,r as Ga,v as Ya,_ as Wt,x as vr,z as Xa,A as sn,B as qa,C as Ka,D as Ja,E as Za,F as Qa,G as ei,H as ti,I as ri}from"./isEqual-CtguVyRi.js";import{_ as ni}from"./_baseForOwn-BuIGVdYG.js";import{_ as ai}from"./_baseSlice-z0Zd1-Ev.js";function Lr(e,t){if((o=e.length)>1)for(var r=1,a,n,i=e[t[0]],o,l=i.length;r<o;++r)for(n=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Mr(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ii(e,t){return e[t]}function oi(e){const t=[];return t.key=e,t}function li(){var e=Pt([]),t=Mr,r=Lr,a=ii;function n(i){var o=Array.from(e.apply(this,arguments),oi),l,s=o.length,d=-1,c;for(const h of i)for(l=0,++d;l<s;++l)(o[l][d]=[0,+a(h,o[l].key,d,i)]).data=h;for(l=0,c=ja(t(o));l<s;++l)o[c[l]].index=l;return r(o,c),o}return n.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Pt(Array.from(i)),n):e},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:Pt(+i),n):a},n.order=function(i){return arguments.length?(t=i==null?Mr:typeof i=="function"?i:Pt(Array.from(i)),n):t},n.offset=function(i){return arguments.length?(r=i??Lr,n):r},n}function si(e,t){if((s=e.length)>0)for(var r,a=0,n,i,o,l,s,d=e[t[0]].length;a<d;++a)for(o=l=0,r=0;r<s;++r)(i=(n=e[t[r]][a])[1]-n[0])>0?(n[0]=o,n[1]=o+=i):i<0?(n[1]=l,n[0]=l+=i):(n[0]=0,n[1]=i)}var un=/^--/;function ui(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!un.test(e)&&!(Ct.hasOwnProperty(e)&&Ct[e])?t+"px":(""+t).trim()}var Pr={};function di(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:a,style:n,children:i,scrollTop:o,scrollLeft:l,viewBox:s,...d}=t,c=Object.values(d),h=Object.keys(d).map(u=>r||e.hasAttribute(u)?u:Pr[u]||(Pr[u]=u.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(const u in n)if(n.hasOwnProperty(u)){const f=ui(u,n[u]);un.test(u)?e.style.setProperty(u,f):e.style[u]=f}h.forEach((u,f)=>{e.setAttribute(u,c[f])}),a!==void 0&&(e.className=a),o!==void 0&&(e.scrollTop=o),l!==void 0&&(e.scrollLeft=l),s!==void 0&&e.setAttribute("viewBox",s)}var Ct={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ci=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),fi=["Webkit","Ms","Moz","O"];Ct=Object.keys(Ct).reduce((e,t)=>(fi.forEach(r=>e[ci(r,t)]=e[t]),e),Ct);var hi=/^(matrix|translate|scale|rotate|skew)/,gi=/^(translate)/,mi=/^(rotate|skew)/,Yt=(e,t)=>ve.num(e)&&e!==0?e+t:e,Et=(e,t)=>ve.arr(e)?e.every(r=>Et(r,t)):ve.num(e)?e===t:parseFloat(e)===t,bi=class extends ir{constructor({x:t,y:r,z:a,...n}){const i=[],o=[];(t||r||a)&&(i.push([t||0,r||0,a||0]),o.push(l=>[`translate3d(${l.map(s=>Yt(s,"px")).join(",")})`,Et(l,0)])),or(n,(l,s)=>{if(s==="transform")i.push([l||""]),o.push(d=>[d,d===""]);else if(hi.test(s)){if(delete n[s],ve.und(l))return;const d=gi.test(s)?"px":mi.test(s)?"deg":"";i.push(lr(l)),o.push(s==="rotate3d"?([c,h,u,f])=>[`rotate3d(${c},${h},${u},${Yt(f,d)})`,Et(f,0)]:c=>[`${s}(${c.map(h=>Yt(h,d)).join(",")})`,Et(c,s.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new pi(i,o)),super(n)}},pi=class extends sr{constructor(t,r){super(),this.inputs=t,this.transforms=r,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",r=!0;return pe(this.inputs,(a,n)=>{const i=pt(a[0]),[o,l]=this.transforms[n](ve.arr(i)?i:a.map(pt));t+=" "+o,r=r&&l}),r?"none":t}observerAdded(t){t==1&&pe(this.inputs,r=>pe(r,a=>vt(a)&&ur(a,this)))}observerRemoved(t){t==0&&pe(this.inputs,r=>pe(r,a=>vt(a)&&dr(a,this)))}eventObserved(t){t.type=="change"&&(this._value=null),cr(this,t)}},vi=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];fr.assign({batchedUpdates:rr.unstable_batchedUpdates,createStringInterpolator:gr,colors:hr});var yi=ar(vi,{applyAnimatedValues:di,createAnimatedStyle:e=>new bi(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Vt=yi.animated,ht=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],xi={millisecond:[],second:ht.slice(0,1),minute:ht.slice(0,2),hour:ht.slice(0,3),day:ht.slice(0,4),month:ht.slice(0,5),year:ht.slice(0,6)},ki=function(e){return function(t){return xi[e].forEach(function(r){r(t)}),t}},wi=function(e){var t=e.format,r=t===void 0?"native":t,a=e.precision,n=a===void 0?"millisecond":a,i=e.useUTC,o=i===void 0||i,l=ki(n);return function(s){if(s===void 0)return s;if(r==="native"||s instanceof Date)return l(s);var d=o?Ha(r):Ua(r);return l(d(s))}},st={min:0,max:"auto",stacked:!1,reverse:!1,clamp:!1,nice:!0,round:!1},Si=function(e,t,r,a){var n,i,o,l,s=e.min,d=s===void 0?st.min:s,c=e.max,h=c===void 0?st.max:c,u=e.stacked,f=u===void 0?st.stacked:u,x=e.reverse,m=x===void 0?st.reverse:x,g=e.clamp,p=g===void 0?st.clamp:g,y=e.nice,S=y===void 0?st.nice:y,b=e.round,T=b===void 0?st.round:b;d==="auto"?n=f===!0?(i=t.minStacked)!=null?i:0:t.min:n=d,h==="auto"?o=f===!0?(l=t.maxStacked)!=null?l:0:t.max:o=h;var k=Ta().range(a==="x"?[0,r]:[r,0]).interpolate(T?$a:Na).domain(m?[o,n]:[n,o]).clamp(p);return S===!0?k.nice():typeof S=="number"&&k.nice(S),Ci(k,f)},Ci=function(e,t){t===void 0&&(t=!1);var r=e;return r.type="linear",r.stacked=t,r},Ti=function(e,t,r){var a=Ca().range([0,r]).domain(t.all);return a.type="point",a},$i={round:!1},Oi=function(e,t,r,a){var n=e.round,i=n===void 0?$i.round:n,o=Sa().range(a==="x"?[0,r]:[r,0]).domain(t.all).round(i);return ji(o)},ji=function(e){var t=e;return t.type="band",t},gt={format:"native",precision:"millisecond",min:"auto",max:"auto",useUTC:!0,nice:!1},Ai=function(e,t,r){var a,n,i=e.format,o=i===void 0?gt.format:i,l=e.precision,s=l===void 0?gt.precision:l,d=e.min,c=d===void 0?gt.min:d,h=e.max,u=h===void 0?gt.max:h,f=e.useUTC,x=f===void 0?gt.useUTC:f,m=e.nice,g=m===void 0?gt.nice:m,p=wi({format:o,precision:s,useUTC:x});a=c==="auto"?p(t.min):o!=="native"?p(c):c,n=u==="auto"?p(t.max):o!=="native"?p(u):u;var y=x?ka():wa();y.range([0,r]),a&&n&&y.domain([a,n]),g===!0?y.nice():typeof g!="object"&&typeof g!="number"||y.nice(g);var S=y;return S.type="time",S.useUTC=x,S},mt={base:10,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},Wi=function(e,t,r,a){var n,i=e.base,o=i===void 0?mt.base:i,l=e.min,s=l===void 0?mt.min:l,d=e.max,c=d===void 0?mt.max:d,h=e.round,u=h===void 0?mt.round:h,f=e.reverse,x=f===void 0?mt.reverse:f,m=e.nice,g=m===void 0?mt.nice:m;if(t.all.some(function(O){return O===0}))throw new Error("a log scale domain must not include or cross zero");var p,y,S=!1;if(t.all.filter(function(O){return O!=null}).forEach(function(O){S||(n===void 0?n=Math.sign(O):Math.sign(O)!==n&&(S=!0))}),S)throw new Error("a log scale domain must be strictly-positive or strictly-negative");p=s==="auto"?t.min:s,y=c==="auto"?t.max:c;var b=xa().base(o),T=a==="x"?[0,r]:[r,0];u===!0?b.rangeRound(T):b.range(T),x===!0?b.domain([y,p]):b.domain([p,y]),g===!0?b.nice():typeof g=="number"&&b.nice(g);var k=b;return k.type="log",k},bt={constant:1,min:"auto",max:"auto",round:!1,reverse:!1,nice:!0},Li=function(e,t,r,a){var n,i,o=e.constant,l=o===void 0?bt.constant:o,s=e.min,d=s===void 0?bt.min:s,c=e.max,h=c===void 0?bt.max:c,u=e.round,f=u===void 0?bt.round:u,x=e.reverse,m=x===void 0?bt.reverse:x,g=e.nice,p=g===void 0?bt.nice:g;n=d==="auto"?t.min:d,i=h==="auto"?t.max:h;var y=ya().constant(l),S=a==="x"?[0,r]:[r,0];f===!0?y.rangeRound(S):y.range(S),m===!0?y.domain([i,n]):y.domain([n,i]),p===!0?y.nice():typeof p=="number"&&y.nice(p);var b=y;return b.type="symlog",b};function yr(e,t,r,a){switch(e.type){case"linear":return Si(e,t,r,a);case"point":return Ti(0,t,r);case"band":return Oi(e,t,r,a);case"time":return Ai(e,t,r);case"log":return Wi(e,t,r,a);case"symlog":return Li(e,t,r,a);default:throw new Error("invalid scale spec")}}var dn=function(e){var t=e.bandwidth();if(t===0)return e;var r=t/2;return e.round()&&(r=Math.round(r)),function(a){var n;return((n=e(a))!=null?n:0)+r}},cn={millisecond:[$r,$r],second:[Tr,Tr],minute:[pa,va],hour:[ma,ba],day:[Wr(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),Wr(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[jr,Ar],sunday:[jr,Ar],monday:[Da,za],tuesday:[Fa,Va],wednesday:[_a,Ba],thursday:[Ia,Ra],friday:[Pa,Ea],saturday:[La,Ma],month:[ha,ga],year:[Aa,Wa]},Mi=Object.keys(cn),Pi=new RegExp("^every\\s*(\\d+)?\\s*("+Mi.join("|")+")s?$","i"),fn=function(e,t){if(Array.isArray(t))return t;if(typeof t=="string"&&"useUTC"in e){var r=t.match(Pi);if(r){var a=r[1],n=r[2],i=cn[n][e.useUTC?1:0];if(n==="day"){var o,l,s=e.domain(),d=s[0],c=s[1],h=new Date(c);return h.setDate(h.getDate()+1),(o=(l=i.every(Number(a??1)))==null?void 0:l.range(d,h))!=null?o:[]}if(a===void 0)return e.ticks(i);var u=i.every(Number(a));if(u)return e.ticks(u)}throw new Error("Invalid tickValues: "+t)}if("ticks"in e){if(t===void 0)return e.ticks();if(typeof(f=t)=="number"&&isFinite(f)&&Math.floor(f)===f)return e.ticks(t)}var f;return e.domain()};function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Le.apply(null,arguments)}var hn=function(e){var t,r=e.axis,a=e.scale,n=e.ticksPosition,i=e.tickValues,o=e.tickSize,l=e.tickPadding,s=e.tickRotation,d=e.truncateTickAt,c=e.engine,h=c===void 0?"svg":c,u=fn(a,i),f=Bn[h],x="bandwidth"in a?dn(a):a,m={lineX:0,lineY:0},g={textX:0,textY:0},p=typeof document=="object"&&document.dir==="rtl",y=f.align.center,S=f.baseline.center;return r==="x"?(t=function(b){var T;return{x:(T=x(b))!=null?T:0,y:0}},m.lineY=o*(n==="after"?1:-1),g.textY=(o+l)*(n==="after"?1:-1),S=n==="after"?f.baseline.top:f.baseline.bottom,s===0?y=f.align.center:n==="after"&&s<0||n==="before"&&s>0?(y=f.align[p?"left":"right"],S=f.baseline.center):(n==="after"&&s>0||n==="before"&&s<0)&&(y=f.align[p?"right":"left"],S=f.baseline.center)):(t=function(b){var T;return{x:0,y:(T=x(b))!=null?T:0}},m.lineX=o*(n==="after"?1:-1),g.textX=(o+l)*(n==="after"?1:-1),y=n==="after"?f.align.left:f.align.right),{ticks:u.map(function(b){var T=typeof b=="string"?function(k){var O=String(k).length;return d&&d>0&&O>d?""+String(k).slice(0,d).concat("..."):""+k}(b):b;return Le({key:b instanceof Date?""+b.valueOf():""+b,value:T},t(b),m,g)}),textAlign:y,textBaseline:S}},gn=function(e,t){if(e===void 0||typeof e=="function")return e;if(t.type==="time"){var r=Ga(e);return function(a){return r(a instanceof Date?a:new Date(a))}}return Ya(e)},Zt=function(e){var t,r=e.width,a=e.height,n=e.scale,i=e.axis,o=e.values,l=(t=o,(Array.isArray(t)?o:void 0)||fn(n,o)),s="bandwidth"in n?dn(n):n,d=i==="x"?l.map(function(c){var h,u;return{key:c instanceof Date?""+c.valueOf():""+c,x1:(h=s(c))!=null?h:0,x2:(u=s(c))!=null?u:0,y1:0,y2:a}}):l.map(function(c){var h,u;return{key:c instanceof Date?""+c.valueOf():""+c,x1:0,x2:r,y1:(h=s(c))!=null?h:0,y2:(u=s(c))!=null?u:0}});return d},Ei=C.memo(function(e){var t,r=e.value,a=e.format,n=e.lineX,i=e.lineY,o=e.onClick,l=e.textBaseline,s=e.textAnchor,d=e.theme,c=e.animatedProps,h=(t=a==null?void 0:a(r))!=null?t:r,u=C.useMemo(function(){var f={opacity:c.opacity};return o?{style:Le({},f,{cursor:"pointer"}),onClick:function(x){return o(x,h)}}:{style:f}},[c.opacity,o,h]);return v.jsxs(Vt.g,Le({transform:c.transform},u,{children:[v.jsx("line",{x1:0,x2:n,y1:0,y2:i,style:d.line}),v.jsx(mr,{dominantBaseline:l,textAnchor:s,transform:c.textTransform,style:d.text,children:""+h})]}))}),Re={tickSize:5,tickPadding:5,tickRotation:0,legendPosition:"middle",legendOffset:0},Ii=function(e){var t=e.axis,r=e.scale,a=e.x,n=a===void 0?0:a,i=e.y,o=i===void 0?0:i,l=e.length,s=e.ticksPosition,d=e.tickValues,c=e.tickSize,h=c===void 0?Re.tickSize:c,u=e.tickPadding,f=u===void 0?Re.tickPadding:u,x=e.tickRotation,m=x===void 0?Re.tickRotation:x,g=e.format,p=e.renderTick,y=p===void 0?Ei:p,S=e.truncateTickAt,b=e.legend,T=e.legendPosition,k=T===void 0?Re.legendPosition:T,O=e.legendOffset,M=O===void 0?Re.legendOffset:O,P=e.style,W=e.onClick,j=e.ariaHidden,I=Me(),F=_n(I.axis,P),q=C.useMemo(function(){return gn(g,r)},[g,r]),$=hn({axis:t,scale:r,ticksPosition:s,tickValues:d,tickSize:h,tickPadding:f,tickRotation:m,truncateTickAt:S}),H=$.ticks,D=$.textAlign,G=$.textBaseline,ee=null;if(b!==void 0){var V,le=0,se=0,re=0;t==="y"?(re=-90,le=M,k==="start"?(V="start",se=l):k==="middle"?(V="middle",se=l/2):k==="end"&&(V="end")):(se=M,k==="start"?V="start":k==="middle"?(V="middle",le=l/2):k==="end"&&(V="end",le=l)),ee=v.jsx(v.Fragment,{children:v.jsx(mr,{transform:"translate("+le+", "+se+") rotate("+re+")",textAnchor:V,style:Le({},F.legend.text,{dominantBaseline:"central"}),children:b})})}var _=ut(),ye=_.animate,we=_.config,K=At({transform:"translate("+n+","+o+")",lineX2:t==="x"?l:0,lineY2:t==="x"?0:l,config:we,immediate:!ye}),Te=C.useCallback(function(J){return{opacity:1,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+m+")"}},[m]),$e=C.useCallback(function(J){return{opacity:0,transform:"translate("+J.x+","+J.y+")",textTransform:"translate("+J.textX+","+J.textY+") rotate("+m+")"}},[m]),Pe=Dt(H,{keys:function(J){return J.key},initial:Te,from:$e,enter:Te,update:Te,leave:{opacity:0},config:we,immediate:!ye});return v.jsxs(Vt.g,{transform:K.transform,"aria-hidden":j,children:[Pe(function(J,Be,Ee,Ye){return C.createElement(y,Le({tickIndex:Ye,format:q,rotate:m,textBaseline:G,textAnchor:D,truncateTickAt:S,animatedProps:J,theme:F.ticks},Be,W?{onClick:W}:{}))}),v.jsx(Vt.line,{style:F.domain.line,x1:0,x2:K.lineX2,y1:0,y2:K.lineY2}),ee]})},Ri=C.memo(Ii),mn=["top","right","bottom","left"],_i=C.memo(function(e){var t=e.xScale,r=e.yScale,a=e.width,n=e.height,i={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return v.jsx(v.Fragment,{children:mn.map(function(o){var l=i[o];if(!l)return null;var s=o==="top"||o==="bottom";return v.jsx(Ri,Le({},l,{axis:s?"x":"y",x:o==="right"?a:0,y:o==="bottom"?n:0,scale:s?t:r,length:s?a:n,ticksPosition:o==="top"||o==="left"?"before":"after",truncateTickAt:l.truncateTickAt}),o)})})}),Bi=C.memo(function(e){var t=e.animatedProps,r=Me();return v.jsx(Vt.line,Le({},t,r.grid.line))}),Er=C.memo(function(e){var t=e.lines,r=ut(),a=r.animate,n=r.config,i=Dt(t,{keys:function(o){return o.key},initial:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},from:function(o){return{opacity:0,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},enter:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},update:function(o){return{opacity:1,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2}},leave:{opacity:0},config:n,immediate:!a});return v.jsx("g",{children:i(function(o,l){return C.createElement(Bi,Le({},l,{key:l.key,animatedProps:o}))})})}),Fi=C.memo(function(e){var t=e.width,r=e.height,a=e.xScale,n=e.yScale,i=e.xValues,o=e.yValues,l=C.useMemo(function(){return!!a&&Zt({width:t,height:r,scale:a,axis:"x",values:i})},[a,i,t,r]),s=C.useMemo(function(){return!!n&&Zt({width:t,height:r,scale:n,axis:"y",values:o})},[r,t,n,o]);return v.jsxs(v.Fragment,{children:[l&&v.jsx(Er,{lines:l}),s&&v.jsx(Er,{lines:s})]})}),Vi=function(e,t){var r,a,n=t.axis,i=t.scale,o=t.x,l=o===void 0?0:o,s=t.y,d=s===void 0?0:s,c=t.length,h=t.ticksPosition,u=t.tickValues,f=t.tickSize,x=f===void 0?Re.tickSize:f,m=t.tickPadding,g=m===void 0?Re.tickPadding:m,p=t.tickRotation,y=p===void 0?Re.tickRotation:p,S=t.format,b=t.legend,T=t.legendPosition,k=T===void 0?Re.legendPosition:T,O=t.legendOffset,M=O===void 0?Re.legendOffset:O,P=t.theme,W=t.style,j=hn({axis:n,scale:i,ticksPosition:h,tickValues:u,tickSize:x,tickPadding:g,tickRotation:y,engine:"canvas"}),I=j.ticks,F=j.textAlign,q=j.textBaseline;e.save(),e.translate(l,d);var $=Fn(P.axis,W);e.textAlign=F,e.textBaseline=q,Bt(e,$.ticks.text);var H=(r=$.domain.line.strokeWidth)!=null?r:0;typeof H!="string"&&H>0&&(e.lineWidth=H,e.lineCap="square",$.domain.line.stroke&&(e.strokeStyle=$.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo(n==="x"?c:0,n==="x"?0:c),e.stroke());var D=typeof S=="function"?S:function(_){return""+_},G=(a=$.ticks.line.strokeWidth)!=null?a:0,ee=typeof G!="string"&&G>0;if(I.forEach(function(_){ee&&(e.lineWidth=G,e.lineCap="square",$.ticks.line.stroke&&(e.strokeStyle=$.ticks.line.stroke),e.beginPath(),e.moveTo(_.x,_.y),e.lineTo(_.x+_.lineX,_.y+_.lineY),e.stroke());var ye=D(_.value);e.save(),e.translate(_.x+_.textX,_.y+_.textY),e.rotate(Jt(y)),Ft(e,$.ticks.text,""+ye),e.fillText(""+ye,0,0),e.restore()}),b!==void 0){var V=0,le=0,se=0,re="center";n==="y"?(se=-90,V=M,k==="start"?(re="start",le=c):k==="middle"?(re="center",le=c/2):k==="end"&&(re="end")):(le=M,k==="start"?re="start":k==="middle"?(re="center",V=c/2):k==="end"&&(re="end",V=c)),e.translate(V,le),e.rotate(Jt(se)),Bt(e,$.legend.text),$.legend.text.fill&&(e.fillStyle=$.legend.text.fill),e.textAlign=re,e.textBaseline="middle",Ft(e,$.legend.text,b)}e.restore()},Di=function(e,t){var r=t.xScale,a=t.yScale,n=t.width,i=t.height,o=t.top,l=t.right,s=t.bottom,d=t.left,c=t.theme,h={top:o,right:l,bottom:s,left:d};mn.forEach(function(u){var f=h[u];if(!f)return null;var x=u==="top"||u==="bottom",m=u==="top"||u==="left"?"before":"after",g=x?r:a,p=gn(f.format,g);Vi(e,Le({},f,{axis:x?"x":"y",x:u==="right"?n:0,y:u==="bottom"?i:0,scale:g,format:p,length:x?n:i,ticksPosition:m,theme:c}))})},Ir=function(e,t){var r=t.width,a=t.height,n=t.scale,i=t.axis,o=t.values;Zt({width:r,height:a,scale:n,axis:i,values:o}).forEach(function(l){e.beginPath(),e.moveTo(l.x1,l.y1),e.lineTo(l.x2,l.y2),e.stroke()})},bn=/^--/;function zi(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!bn.test(e)&&!(Tt.hasOwnProperty(e)&&Tt[e])?t+"px":(""+t).trim()}var Rr={};function Ni(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:a,style:n,children:i,scrollTop:o,scrollLeft:l,viewBox:s,...d}=t,c=Object.values(d),h=Object.keys(d).map(u=>r||e.hasAttribute(u)?u:Rr[u]||(Rr[u]=u.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(const u in n)if(n.hasOwnProperty(u)){const f=zi(u,n[u]);bn.test(u)?e.style.setProperty(u,f):e.style[u]=f}h.forEach((u,f)=>{e.setAttribute(u,c[f])}),a!==void 0&&(e.className=a),o!==void 0&&(e.scrollTop=o),l!==void 0&&(e.scrollLeft=l),s!==void 0&&e.setAttribute("viewBox",s)}var Tt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Ui=["Webkit","Ms","Moz","O"];Tt=Object.keys(Tt).reduce((e,t)=>(Ui.forEach(r=>e[Hi(r,t)]=e[t]),e),Tt);var Gi=/^(matrix|translate|scale|rotate|skew)/,Yi=/^(translate)/,Xi=/^(rotate|skew)/,Xt=(e,t)=>ve.num(e)&&e!==0?e+t:e,It=(e,t)=>ve.arr(e)?e.every(r=>It(r,t)):ve.num(e)?e===t:parseFloat(e)===t,qi=class extends ir{constructor({x:t,y:r,z:a,...n}){const i=[],o=[];(t||r||a)&&(i.push([t||0,r||0,a||0]),o.push(l=>[`translate3d(${l.map(s=>Xt(s,"px")).join(",")})`,It(l,0)])),or(n,(l,s)=>{if(s==="transform")i.push([l||""]),o.push(d=>[d,d===""]);else if(Gi.test(s)){if(delete n[s],ve.und(l))return;const d=Yi.test(s)?"px":Xi.test(s)?"deg":"";i.push(lr(l)),o.push(s==="rotate3d"?([c,h,u,f])=>[`rotate3d(${c},${h},${u},${Xt(f,d)})`,It(f,0)]:c=>[`${s}(${c.map(h=>Xt(h,d)).join(",")})`,It(c,s.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new Ki(i,o)),super(n)}},Ki=class extends sr{constructor(t,r){super(),this.inputs=t,this.transforms=r,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",r=!0;return pe(this.inputs,(a,n)=>{const i=pt(a[0]),[o,l]=this.transforms[n](ve.arr(i)?i:a.map(pt));t+=" "+o,r=r&&l}),r?"none":t}observerAdded(t){t==1&&pe(this.inputs,r=>pe(r,a=>vt(a)&&ur(a,this)))}observerRemoved(t){t==0&&pe(this.inputs,r=>pe(r,a=>vt(a)&&dr(a,this)))}eventObserved(t){t.type=="change"&&(this._value=null),cr(this,t)}},Ji=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];fr.assign({batchedUpdates:rr.unstable_batchedUpdates,createStringInterpolator:gr,colors:hr});var Zi=ar(Ji,{applyAnimatedValues:Ni,createAnimatedStyle:e=>new qi(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Qt=Zi.animated,Qi=Oa;function eo(e,t){var r=[];return Qi(e,function(a,n,i){t(a,n,i)&&r.push(a)}),r}var to=eo,ro=ea,no=to,ao=ni,io=tn;function oo(e,t){var r=io(e)?ro:no;return r(e,ao(t))}var lo=oo;const so=nr(lo);var uo=ta,co=br,fo="[object Number]";function ho(e){return typeof e=="number"||co(e)&&uo(e)==fo}var go=ho;const _r=nr(go);function mo(e,t){for(var r=-1,a=e==null?0:e.length;++r<a&&t(e[r],r,e)!==!1;);return e}var bo=mo,po=Wt,vo=rn;function yo(e,t){return e&&po(t,vo(t),e)}var xo=yo,ko=Wt,wo=vr;function So(e,t){return e&&ko(t,wo(t),e)}var Co=So,To=Wt,$o=nn;function Oo(e,t){return To(e,$o(e),t)}var jo=Oo,Ao=na,Wo=Xa,Lo=nn,Mo=ra,Po=Object.getOwnPropertySymbols,Eo=Po?function(e){for(var t=[];e;)Ao(t,Lo(e)),e=Wo(e);return t}:Mo,pn=Eo,Io=Wt,Ro=pn;function _o(e,t){return Io(e,Ro(e),t)}var Bo=_o,Fo=aa,Vo=pn,Do=vr;function zo(e){return Fo(e,Do,Vo)}var vn=zo,No=Object.prototype,Ho=No.hasOwnProperty;function Uo(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Ho.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Go=Uo,Yo=sn;function Xo(e,t){var r=t?Yo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var qo=Xo,Ko=/\w*$/;function Jo(e){var t=new e.constructor(e.source,Ko.exec(e));return t.lastIndex=e.lastIndex,t}var Zo=Jo,Br=ia,Fr=Br?Br.prototype:void 0,Vr=Fr?Fr.valueOf:void 0;function Qo(e){return Vr?Object(Vr.call(e)):{}}var el=Qo,tl=sn,rl=qo,nl=Zo,al=el,il=qa,ol="[object Boolean]",ll="[object Date]",sl="[object Map]",ul="[object Number]",dl="[object RegExp]",cl="[object Set]",fl="[object String]",hl="[object Symbol]",gl="[object ArrayBuffer]",ml="[object DataView]",bl="[object Float32Array]",pl="[object Float64Array]",vl="[object Int8Array]",yl="[object Int16Array]",xl="[object Int32Array]",kl="[object Uint8Array]",wl="[object Uint8ClampedArray]",Sl="[object Uint16Array]",Cl="[object Uint32Array]";function Tl(e,t,r){var a=e.constructor;switch(t){case gl:return tl(e);case ol:case ll:return new a(+e);case ml:return rl(e,r);case bl:case pl:case vl:case yl:case xl:case kl:case wl:case Sl:case Cl:return il(e,r);case sl:return new a;case ul:case fl:return new a(e);case dl:return nl(e);case cl:return new a;case hl:return al(e)}}var $l=Tl,Ol=pr,jl=br,Al="[object Map]";function Wl(e){return jl(e)&&Ol(e)==Al}var Ll=Wl,Ml=Ll,Pl=on,Dr=an,zr=Dr&&Dr.isMap,El=zr?Pl(zr):Ml,Il=El,Rl=pr,_l=br,Bl="[object Set]";function Fl(e){return _l(e)&&Rl(e)==Bl}var Vl=Fl,Dl=Vl,zl=on,Nr=an,Hr=Nr&&Nr.isSet,Nl=Hr?zl(Hr):Dl,Hl=Nl,Ul=sa,Gl=bo,Yl=Qa,Xl=xo,ql=Co,Kl=Ja,Jl=Ka,Zl=jo,Ql=Bo,es=ua,ts=vn,rs=pr,ns=Go,as=$l,is=Za,os=tn,ls=la,ss=Il,us=oa,ds=Hl,cs=rn,fs=vr,hs=1,gs=2,ms=4,yn="[object Arguments]",bs="[object Array]",ps="[object Boolean]",vs="[object Date]",ys="[object Error]",xn="[object Function]",xs="[object GeneratorFunction]",ks="[object Map]",ws="[object Number]",kn="[object Object]",Ss="[object RegExp]",Cs="[object Set]",Ts="[object String]",$s="[object Symbol]",Os="[object WeakMap]",js="[object ArrayBuffer]",As="[object DataView]",Ws="[object Float32Array]",Ls="[object Float64Array]",Ms="[object Int8Array]",Ps="[object Int16Array]",Es="[object Int32Array]",Is="[object Uint8Array]",Rs="[object Uint8ClampedArray]",_s="[object Uint16Array]",Bs="[object Uint32Array]",U={};U[yn]=U[bs]=U[js]=U[As]=U[ps]=U[vs]=U[Ws]=U[Ls]=U[Ms]=U[Ps]=U[Es]=U[ks]=U[ws]=U[kn]=U[Ss]=U[Cs]=U[Ts]=U[$s]=U[Is]=U[Rs]=U[_s]=U[Bs]=!0;U[ys]=U[xn]=U[Os]=!1;function Rt(e,t,r,a,n,i){var o,l=t&hs,s=t&gs,d=t&ms;if(r&&(o=n?r(e,a,n,i):r(e)),o!==void 0)return o;if(!us(e))return e;var c=os(e);if(c){if(o=ns(e),!l)return Jl(e,o)}else{var h=rs(e),u=h==xn||h==xs;if(ls(e))return Kl(e,l);if(h==kn||h==yn||u&&!n){if(o=s||u?{}:is(e),!l)return s?Ql(e,ql(o,e)):Zl(e,Xl(o,e))}else{if(!U[h])return n?e:{};o=as(e,h,l)}}i||(i=new Ul);var f=i.get(e);if(f)return f;i.set(e,o),ds(e)?e.forEach(function(g){o.add(Rt(g,t,r,g,e,i))}):ss(e)&&e.forEach(function(g,p){o.set(p,Rt(g,t,r,p,e,i))});var x=d?s?ts:es:s?fs:cs,m=c?void 0:x(e);return Gl(m||e,function(g,p){m&&(p=g,g=e[p]),Yl(o,p,Rt(g,t,r,p,e,i))}),o}var Fs=Rt,Vs=da,Ds=ai;function zs(e,t){return t.length<2?e:Vs(e,Ds(t,0,-1))}var Ns=zs,Hs=ln,Us=ei,Gs=Ns,Ys=ca;function Xs(e,t){return t=Hs(t,e),e=Gs(e,t),e==null||delete e[Ys(Us(t))]}var qs=Xs,Ks=ti;function Js(e){return Ks(e)?void 0:e}var Zs=Js,Qs=fa,eu=Fs,tu=qs,ru=ln,nu=Wt,au=Zs,iu=ri,ou=vn,lu=1,su=2,uu=4,du=iu(function(e,t){var r={};if(e==null)return r;var a=!1;t=Qs(t,function(i){return i=ru(i,e),a||(a=i.length>1),i}),nu(e,ou(e),r),a&&(r=eu(r,lu|su|uu,au));for(var n=t.length;n--;)tu(r,t[n]);return r}),cu=du;const wn=nr(cu);var Sn=/^--/;function fu(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Sn.test(e)&&!($t.hasOwnProperty(e)&&$t[e])?t+"px":(""+t).trim()}var Ur={};function hu(e,t){if(!e.nodeType||!e.setAttribute)return!1;const r=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:a,style:n,children:i,scrollTop:o,scrollLeft:l,viewBox:s,...d}=t,c=Object.values(d),h=Object.keys(d).map(u=>r||e.hasAttribute(u)?u:Ur[u]||(Ur[u]=u.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));i!==void 0&&(e.textContent=i);for(const u in n)if(n.hasOwnProperty(u)){const f=fu(u,n[u]);Sn.test(u)?e.style.setProperty(u,f):e.style[u]=f}h.forEach((u,f)=>{e.setAttribute(u,c[f])}),a!==void 0&&(e.className=a),o!==void 0&&(e.scrollTop=o),l!==void 0&&(e.scrollLeft=l),s!==void 0&&e.setAttribute("viewBox",s)}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gu=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),mu=["Webkit","Ms","Moz","O"];$t=Object.keys($t).reduce((e,t)=>(mu.forEach(r=>e[gu(r,t)]=e[t]),e),$t);var bu=/^(matrix|translate|scale|rotate|skew)/,pu=/^(translate)/,vu=/^(rotate|skew)/,qt=(e,t)=>ve.num(e)&&e!==0?e+t:e,_t=(e,t)=>ve.arr(e)?e.every(r=>_t(r,t)):ve.num(e)?e===t:parseFloat(e)===t,yu=class extends ir{constructor({x:e,y:t,z:r,...a}){const n=[],i=[];(e||t||r)&&(n.push([e||0,t||0,r||0]),i.push(o=>[`translate3d(${o.map(l=>qt(l,"px")).join(",")})`,_t(o,0)])),or(a,(o,l)=>{if(l==="transform")n.push([o||""]),i.push(s=>[s,s===""]);else if(bu.test(l)){if(delete a[l],ve.und(o))return;const s=pu.test(l)?"px":vu.test(l)?"deg":"";n.push(lr(o)),i.push(l==="rotate3d"?([d,c,h,u])=>[`rotate3d(${d},${c},${h},${qt(u,s)})`,_t(u,0)]:d=>[`${l}(${d.map(c=>qt(c,s)).join(",")})`,_t(d,l.startsWith("scale")?1:0)])}}),n.length&&(a.transform=new xu(n,i)),super(a)}},xu=class extends sr{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return pe(this.inputs,(r,a)=>{const n=pt(r[0]),[i,o]=this.transforms[a](ve.arr(n)?n:r.map(pt));e+=" "+i,t=t&&o}),t?"none":e}observerAdded(e){e==1&&pe(this.inputs,t=>pe(t,r=>vt(r)&&ur(r,this)))}observerRemoved(e){e==0&&pe(this.inputs,t=>pe(t,r=>vt(r)&&dr(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),cr(this,e)}},ku=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];fr.assign({batchedUpdates:rr.unstable_batchedUpdates,createStringInterpolator:gr,colors:hr});var wu=ar(ku,{applyAnimatedValues:hu,createAnimatedStyle:e=>new yu(e),getComponentProps:({scrollTop:e,scrollLeft:t,...r})=>r}),Ge=wu.animated;function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_e.apply(null,arguments)}var er={dotSize:4,noteWidth:120,noteTextOffset:8},Su=function(e){var t=typeof e;return C.isValidElement(e)||t==="string"||t==="function"||t==="object"},Cu=function(e){var t=typeof e;return t==="string"||t==="function"},Ot=function(e){return e.type==="circle"},tr=function(e){return e.type==="dot"},jt=function(e){return e.type==="rect"},Tu=function(e){var t=e.data,r=e.annotations,a=e.getPosition,n=e.getDimensions;return r.reduce(function(i,o){var l=o.offset||0;return[].concat(i,so(t,o.match).map(function(s){var d=a(s),c=n(s);return(Ot(o)||jt(o))&&(c.size=c.size+2*l,c.width=c.width+2*l,c.height=c.height+2*l),_e({},wn(o,["match","offset"]),d,c,{size:o.size||c.size,datum:s})}))},[])},$u=function(e,t,r,a){var n=Math.atan2(a-t,r-e);return zn(Nn(n))},Cn=function(e){var t,r,a=e.x,n=e.y,i=e.noteX,o=e.noteY,l=e.noteWidth,s=l===void 0?er.noteWidth:l,d=e.noteTextOffset,c=d===void 0?er.noteTextOffset:d;if(_r(i))t=a+i;else{if(i.abs===void 0)throw new Error("noteX should be either a number or an object containing an 'abs' property");t=i.abs}if(_r(o))r=n+o;else{if(o.abs===void 0)throw new Error("noteY should be either a number or an object containing an 'abs' property");r=o.abs}var h=a,u=n,f=$u(a,n,t,r);if(Ot(e)){var x=Dn(Jt(f),e.size/2);h+=x.x,u+=x.y}if(jt(e)){var m=Math.round((f+90)/45)%8;m===0&&(u-=e.height/2),m===1&&(h+=e.width/2,u-=e.height/2),m===2&&(h+=e.width/2),m===3&&(h+=e.width/2,u+=e.height/2),m===4&&(u+=e.height/2),m===5&&(h-=e.width/2,u+=e.height/2),m===6&&(h-=e.width/2),m===7&&(h-=e.width/2,u-=e.height/2)}var g=t,p=t;return(f+90)%360>180?(g-=s,p-=s):p+=s,{points:[[h,u],[t,r],[p,r]],text:[g,r-c],angle:f+90}},Tn=function(e){var t=e.data,r=e.annotations,a=e.getPosition,n=e.getDimensions;return C.useMemo(function(){return Tu({data:t,annotations:r,getPosition:a,getDimensions:n})},[t,r,a,n])},Ou=function(e){var t=e.annotations;return C.useMemo(function(){return t.map(function(r){return _e({},r,{computed:Cn(_e({},r))})})},[t])},ju=function(e){return C.useMemo(function(){return Cn(e)},[e])},Au=function(e){var t=e.datum,r=e.x,a=e.y,n=e.note,i=Me(),o=ut(),l=o.animate,s=o.config,d=At({x:r,y:a,config:s,immediate:!l});return typeof n=="function"?C.createElement(n,{x:r,y:a,datum:t}):v.jsxs(v.Fragment,{children:[i.annotations.text.outlineWidth>0&&v.jsx(Ge.text,{x:d.x,y:d.y,style:_e({},i.annotations.text,{strokeLinejoin:"round",strokeWidth:2*i.annotations.text.outlineWidth,stroke:i.annotations.text.outlineColor}),children:n}),v.jsx(Ge.text,{x:d.x,y:d.y,style:wn(i.annotations.text,["outlineWidth","outlineColor"]),children:n})]})},Gr=function(e){var t=e.points,r=e.isOutline,a=r!==void 0&&r,n=Me(),i=C.useMemo(function(){var s=t[0];return t.slice(1).reduce(function(d,c){return d+" L"+c[0]+","+c[1]},"M"+s[0]+","+s[1])},[t]),o=Vn(i);if(a&&n.annotations.link.outlineWidth<=0)return null;var l=_e({},n.annotations.link);return a&&(l.strokeLinecap="square",l.strokeWidth=n.annotations.link.strokeWidth+2*n.annotations.link.outlineWidth,l.stroke=n.annotations.link.outlineColor,l.opacity=n.annotations.link.outlineOpacity),v.jsx(Ge.path,{fill:"none",d:o,style:l})},Wu=function(e){var t=e.x,r=e.y,a=e.size,n=Me(),i=ut(),o=i.animate,l=i.config,s=At({x:t,y:r,radius:a/2,config:l,immediate:!o});return v.jsxs(v.Fragment,{children:[n.annotations.outline.outlineWidth>0&&v.jsx(Ge.circle,{cx:s.x,cy:s.y,r:s.radius,style:_e({},n.annotations.outline,{fill:"none",strokeWidth:n.annotations.outline.strokeWidth+2*n.annotations.outline.outlineWidth,stroke:n.annotations.outline.outlineColor,opacity:n.annotations.outline.outlineOpacity})}),v.jsx(Ge.circle,{cx:s.x,cy:s.y,r:s.radius,style:n.annotations.outline})]})},Lu=function(e){var t=e.x,r=e.y,a=e.size,n=a===void 0?er.dotSize:a,i=Me(),o=ut(),l=o.animate,s=o.config,d=At({x:t,y:r,radius:n/2,config:s,immediate:!l});return v.jsxs(v.Fragment,{children:[i.annotations.outline.outlineWidth>0&&v.jsx(Ge.circle,{cx:d.x,cy:d.y,r:d.radius,style:_e({},i.annotations.outline,{fill:"none",strokeWidth:2*i.annotations.outline.outlineWidth,stroke:i.annotations.outline.outlineColor,opacity:i.annotations.outline.outlineOpacity})}),v.jsx(Ge.circle,{cx:d.x,cy:d.y,r:d.radius,style:i.annotations.symbol})]})},Mu=function(e){var t=e.x,r=e.y,a=e.width,n=e.height,i=e.borderRadius,o=i===void 0?6:i,l=Me(),s=ut(),d=s.animate,c=s.config,h=At({x:t-a/2,y:r-n/2,width:a,height:n,config:c,immediate:!d});return v.jsxs(v.Fragment,{children:[l.annotations.outline.outlineWidth>0&&v.jsx(Ge.rect,{x:h.x,y:h.y,rx:o,ry:o,width:h.width,height:h.height,style:_e({},l.annotations.outline,{fill:"none",strokeWidth:l.annotations.outline.strokeWidth+2*l.annotations.outline.outlineWidth,stroke:l.annotations.outline.outlineColor,opacity:l.annotations.outline.outlineOpacity})}),v.jsx(Ge.rect,{x:h.x,y:h.y,rx:o,ry:o,width:h.width,height:h.height,style:l.annotations.outline})]})},Pu=function(e){var t=e.datum,r=e.x,a=e.y,n=e.note,i=ju(e);if(!Su(n))throw new Error("note should be a valid react element");return v.jsxs(v.Fragment,{children:[v.jsx(Gr,{points:i.points,isOutline:!0}),Ot(e)&&v.jsx(Wu,{x:r,y:a,size:e.size}),tr(e)&&v.jsx(Lu,{x:r,y:a,size:e.size}),jt(e)&&v.jsx(Mu,{x:r,y:a,width:e.width,height:e.height,borderRadius:e.borderRadius}),v.jsx(Gr,{points:i.points}),v.jsx(Au,{datum:t,x:i.text[0],y:i.text[1],note:n})]})},Yr=function(e,t){t.forEach(function(r,a){var n=r[0],i=r[1];a===0?e.moveTo(n,i):e.lineTo(n,i)})},Eu=function(e,t){var r=t.annotations,a=t.theme;r.length!==0&&(e.save(),r.forEach(function(n){if(!Cu(n.note))throw new Error("note is invalid for canvas implementation");a.annotations.link.outlineWidth>0&&(e.lineCap="square",e.strokeStyle=a.annotations.link.outlineColor,e.lineWidth=a.annotations.link.strokeWidth+2*a.annotations.link.outlineWidth,e.beginPath(),Yr(e,n.computed.points),e.stroke(),e.lineCap="butt"),Ot(n)&&a.annotations.outline.outlineWidth>0&&(e.strokeStyle=a.annotations.outline.outlineColor,e.lineWidth=a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),tr(n)&&a.annotations.symbol.outlineWidth>0&&(e.strokeStyle=a.annotations.symbol.outlineColor,e.lineWidth=2*a.annotations.symbol.outlineWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),jt(n)&&a.annotations.outline.outlineWidth>0&&(e.strokeStyle=a.annotations.outline.outlineColor,e.lineWidth=a.annotations.outline.strokeWidth+2*a.annotations.outline.outlineWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),e.strokeStyle=a.annotations.link.stroke,e.lineWidth=a.annotations.link.strokeWidth,e.beginPath(),Yr(e,n.computed.points),e.stroke(),Ot(n)&&(e.strokeStyle=a.annotations.outline.stroke,e.lineWidth=a.annotations.outline.strokeWidth,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.stroke()),tr(n)&&(e.fillStyle=a.annotations.symbol.fill,e.beginPath(),e.arc(n.x,n.y,n.size/2,0,2*Math.PI),e.fill()),jt(n)&&(e.strokeStyle=a.annotations.outline.stroke,e.lineWidth=a.annotations.outline.strokeWidth,e.beginPath(),e.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),e.stroke()),typeof n.note=="function"?n.note(e,{datum:n.datum,x:n.computed.text[0],y:n.computed.text[1],theme:a}):(e.font=a.annotations.text.fontSize+"px "+a.annotations.text.fontFamily,e.textAlign="left",e.textBaseline="alphabetic",e.fillStyle=a.annotations.text.fill,e.strokeStyle=a.annotations.text.outlineColor,e.lineWidth=2*a.annotations.text.outlineWidth,a.annotations.text.outlineWidth>0&&(e.lineJoin="round",e.strokeText(n.note,n.computed.text[0],n.computed.text[1]),e.lineJoin="miter"),e.fillText(n.note,n.computed.text[0],n.computed.text[1]))}),e.restore())},Iu=function(e,t,r,a,n,i){i>0?(e.moveTo(t+i,r),e.lineTo(t+a-i,r),e.quadraticCurveTo(t+a,r,t+a,r+i),e.lineTo(t+a,r+n-i),e.quadraticCurveTo(t+a,r+n,t+a-i,r+n),e.lineTo(t+i,r+n),e.quadraticCurveTo(t,r+n,t,r+n-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath()):e.rect(t,r,a,n)};function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R.apply(null,arguments)}function qe(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Xr,Ru=function(e){var t=e.bars,r=e.annotations,a=Tn({data:t,annotations:r,getPosition:function(n){return{x:n.x+n.width/2,y:n.y+n.height/2}},getDimensions:function(n){var i=n.height,o=n.width;return{width:o,height:i,size:Math.max(o,i)}}});return v.jsx(v.Fragment,{children:a.map(function(n,i){return v.jsx(Pu,R({},n),i)})})},_u=function(e){var t=e.width,r=e.height,a=e.legends,n=e.toggleSerie;return v.jsx(v.Fragment,{children:a.map(function(i,o){var l,s=i[0],d=i[1];return v.jsx(qn,R({},s,{containerWidth:t,containerHeight:r,data:(l=s.data)!=null?l:d,toggleSerie:s.toggleSerie&&s.dataFrom==="keys"?n:void 0}),o)})})},Bu=["data"],Fu=function(e){var t,r=e.bar,a=r.data,n=qe(r,Bu),i=e.style,o=i.borderColor,l=i.color,s=i.height,d=i.labelColor,c=i.labelOpacity,h=i.labelX,u=i.labelY,f=i.transform,x=i.width,m=i.textAnchor,g=e.borderRadius,p=e.borderWidth,y=e.label,S=e.shouldRenderLabel,b=e.isInteractive,T=e.onClick,k=e.onMouseEnter,O=e.onMouseLeave,M=e.tooltip,P=e.isFocusable,W=e.ariaLabel,j=e.ariaLabelledBy,I=e.ariaDescribedBy,F=e.ariaDisabled,q=e.ariaHidden,$=Me(),H=Qr(),D=H.showTooltipFromEvent,G=H.showTooltipAt,ee=H.hideTooltip,V=C.useMemo(function(){return function(){return C.createElement(M,R({},n,a))}},[M,n,a]),le=C.useCallback(function(K){T==null||T(R({color:n.color},a),K)},[n,a,T]),se=C.useCallback(function(K){return D(V(),K)},[D,V]),re=C.useCallback(function(K){k==null||k(a,K),D(V(),K)},[a,k,D,V]),_=C.useCallback(function(K){O==null||O(a,K),ee()},[a,ee,O]),ye=C.useCallback(function(){G(V(),[n.absX+n.width/2,n.absY])},[G,V,n]),we=C.useCallback(function(){ee()},[ee]);return v.jsxs(Qt.g,{transform:f,children:[v.jsx(Qt.rect,{width:Sr(x,function(K){return Math.max(K,0)}),height:Sr(s,function(K){return Math.max(K,0)}),rx:g,ry:g,fill:(t=a.fill)!=null?t:l,strokeWidth:p,stroke:o,focusable:P,tabIndex:P?0:void 0,"aria-label":W?W(a):void 0,"aria-labelledby":j?j(a):void 0,"aria-describedby":I?I(a):void 0,"aria-disabled":F?F(a):void 0,"aria-hidden":q?q(a):void 0,onMouseEnter:b?re:void 0,onMouseMove:b?se:void 0,onMouseLeave:b?_:void 0,onClick:b?le:void 0,onFocus:b&&P?ye:void 0,onBlur:b&&P?we:void 0,"data-testid":"bar.item."+a.id+"."+a.index}),S&&v.jsx(mr,{x:h,y:u,textAnchor:m,dominantBaseline:"central",fillOpacity:c,style:R({},$.labels.text,{pointerEvents:"none",fill:d}),children:y})]})},Vu=["color","label"],Du=function(e){var t=e.color,r=e.label,a=qe(e,Vu);return v.jsx(Yn,{id:r,value:a.formattedValue,enableChip:!0,color:t})},N={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",valueScale:{type:"linear",nice:!0,round:!1},indexScale:{type:"band",round:!1},padding:.1,innerPadding:0,enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelPosition:"middle",labelOffset:0,labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:Du,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],enableTotals:!1,totalsOffset:10},z=R({},N,{layers:["grid","axes","bars","totals","markers","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},barComponent:Fu,defs:[],fill:[],markers:[],animate:!0,animateOnMount:!1,motionConfig:"default",role:"img",isFocusable:!1}),oe=R({},N,{layers:["grid","axes","bars","totals","legends","annotations"],axisTop:null,axisRight:null,axisBottom:{},axisLeft:{},renderBar:function(e,t){var r=t.bar,a=r.color,n=r.height,i=r.width,o=r.x,l=r.y,s=t.borderColor,d=t.borderRadius,c=t.borderWidth,h=t.label,u=t.shouldRenderLabel,f=t.labelStyle,x=t.labelX,m=t.labelY,g=t.textAnchor;e.fillStyle=a,c>0&&(e.strokeStyle=s,e.lineWidth=c),e.beginPath(),Iu(e,o,l,i,n,Math.min(d,n)),e.fill(),c>0&&e.stroke(),u&&(e.textBaseline="middle",e.textAlign=g==="middle"?"center":g,Ft(e,f,h,o+x,l+m))},pixelRatio:typeof window<"u"&&(Xr=window.devicePixelRatio)!=null?Xr:1}),$n=function(e,t,r,a,n,i){return yr(a,{all:e.map(t),min:0,max:0},n,i).padding(r)},On=function(e,t){return e.map(function(r){return R({},t.reduce(function(a,n){return a[n]=null,a},{}),r)})},zt=function(e){return Object.keys(e).reduce(function(t,r){return e[r]&&(t[r]=e[r]),t},{})},Nt=function(e){return[e,Number(e)]};function jn(e,t,r,a){return e===void 0&&(e=N.layout),r===void 0&&(r=N.labelPosition),a===void 0&&(a=N.labelOffset),function(n,i){var o=a*(t?-1:1);if(e==="horizontal"){var l=n/2;return r==="start"?l=t?n:0:r==="end"&&(l=t?0:n),{labelX:l+o,labelY:i/2,textAnchor:r==="middle"?"middle":t?"end":"start"}}var s=i/2;return r==="start"?s=t?0:i:r==="end"&&(s=t?i:0),{labelX:n/2,labelY:s-o,textAnchor:"middle"}}}var zu=["layout","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],xr=function(e,t){return e>t},An=function(e,t){return e<t},Wn=function(e,t){return Array.from(" ".repeat(t-e),function(r,a){return e+a})},Nu=function(e){return xr(e,0)?0:e},Hu=function(e,t,r,a){var n=e.data,i=e.formatValue,o=e.getColor,l=e.getIndex,s=e.getTooltipLabel,d=e.innerPadding,c=d===void 0?0:d,h=e.keys,u=e.xScale,f=e.yScale,x=e.margin,m=r?An:xr,g=n.map(zt),p=[];return h.forEach(function(y,S){return Wn(0,u.domain().length).forEach(function(b){var T,k,O,M=Nt(n[b][y]),P=M[0],W=M[1],j=l(n[b]),I=((T=u(j))!=null?T:0)+t*S+c*S,F=m(k=W,0)?(O=f(k))!=null?O:0:a,q=function(H,D){var G;return m(H,0)?a-D:((G=f(H))!=null?G:0)-a}(W,F),$={id:y,value:P===null?P:W,formattedValue:i(W),hidden:!1,index:b,indexValue:j,data:g[b]};p.push({key:y+"."+$.indexValue,index:p.length,data:$,x:I,y:F,absX:x.left+I,absY:x.top+F,width:t,height:q,color:o($),label:s($)})})}),p},Uu=function(e,t,r,a){var n=e.data,i=e.formatValue,o=e.getIndex,l=e.getColor,s=e.getTooltipLabel,d=e.keys,c=e.innerPadding,h=c===void 0?0:c,u=e.xScale,f=e.yScale,x=e.margin,m=r?An:xr,g=n.map(zt),p=[];return d.forEach(function(y,S){return Wn(0,f.domain().length).forEach(function(b){var T,k,O,M=Nt(n[b][y]),P=M[0],W=M[1],j=o(n[b]),I=m(k=W,0)?a:(O=u(k))!=null?O:0,F=((T=f(j))!=null?T:0)+t*S+h*S,q=function(H,D){var G;return m(H,0)?((G=u(H))!=null?G:0)-a:a-D}(W,I),$={id:y,value:P===null?P:W,formattedValue:i(W),hidden:!1,index:b,indexValue:j,data:g[b]};p.push({key:y+"."+$.indexValue,index:p.length,data:$,x:I,y:F,absX:x.left+I,absY:x.top+F,width:q,height:t,color:l($),label:s($)})})}),p},Gu=function(e){var t,r,a,n=e.layout,i=e.width,o=e.height,l=e.padding,s=l===void 0?0:l,d=e.innerPadding,c=d===void 0?0:d,h=e.valueScale,u=e.indexScale,f=e.hiddenIds,x=f===void 0?[]:f,m=qe(e,zu),g=m.keys.filter(function(D){return!x.includes(D)}),p=On(m.data,g),y=n==="vertical"?["y","x",i]:["x","y",o],S=y[0],b=y[1],T=y[2],k=$n(p,m.getIndex,s,u,T,b),O=h.min==="auto"?Nu:function(D){return D},M=p.reduce(function(D,G){return[].concat(D,g.map(function(ee){return G[ee]}))},[]).filter(Boolean),P=O(Math.min.apply(Math,M)),W=(a=Math.max.apply(Math,M),isFinite(a)?a:0),j=yr(h,{all:M,min:P,max:W},S==="x"?i:o,S),I=n==="vertical"?[k,j]:[j,k],F=I[0],q=I[1],$=(k.bandwidth()-c*(g.length-1))/g.length,H=[R({},m,{data:p,keys:g,innerPadding:c,xScale:F,yScale:q}),$,(t=h.reverse)!=null&&t,(r=j(0))!=null?r:0];return{xScale:F,yScale:q,bars:$>0?n==="vertical"?Hu.apply(void 0,H):Uu.apply(void 0,H):[]}},Yu=["data","layout","width","height","padding","valueScale","indexScale","hiddenIds"],Ln=function(e){var t;return e.some(Array.isArray)?Ln((t=[]).concat.apply(t,e)):e},Xu=function(e,t,r){var a=e.formatValue,n=e.getColor,i=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,s=e.stackedData,d=e.xScale,c=e.yScale,h=e.margin,u=[];return s.forEach(function(f){return d.domain().forEach(function(x,m){var g,p,y=f[m],S=(g=d(i(y.data)))!=null?g:0,b=((p=function(W){return c(W[r?0:1])}(y))!=null?p:0)+.5*l,T=function(W,j){var I;return((I=c(W[r?1:0]))!=null?I:0)-j}(y,b)-l,k=Nt(y.data[f.key]),O=k[0],M=k[1],P={id:f.key,value:O===null?O:M,formattedValue:a(M),hidden:!1,index:m,indexValue:x,data:zt(y.data)};u.push({key:f.key+"."+x,index:u.length,data:P,x:S,y:b,absX:h.left+S,absY:h.top+b,width:t,height:T,color:n(P),label:o(P)})})}),u},qu=function(e,t,r){var a=e.formatValue,n=e.getColor,i=e.getIndex,o=e.getTooltipLabel,l=e.innerPadding,s=e.stackedData,d=e.xScale,c=e.yScale,h=e.margin,u=[];return s.forEach(function(f){return c.domain().forEach(function(x,m){var g,p,y=f[m],S=(g=c(i(y.data)))!=null?g:0,b=((p=function(W){return d(W[r?1:0])}(y))!=null?p:0)+.5*l,T=function(W,j){var I;return((I=d(W[r?0:1]))!=null?I:0)-j}(y,b)-l,k=Nt(y.data[f.key]),O=k[0],M=k[1],P={id:f.key,value:O===null?O:M,formattedValue:a(M),hidden:!1,index:m,indexValue:x,data:zt(y.data)};u.push({key:f.key+"."+x,index:u.length,data:P,x:b,y:S,absX:h.left+b,absY:h.top+S,width:T,height:t,color:n(P),label:o(P)})})}),u},Ku=function(e){var t,r,a=e.data,n=e.layout,i=e.width,o=e.height,l=e.padding,s=l===void 0?0:l,d=e.valueScale,c=e.indexScale,h=e.hiddenIds,u=h===void 0?[]:h,f=qe(e,Yu),x=f.keys.filter(function($){return!u.includes($)}),m=li().keys(x).offset(si)(On(a,x)),g=n==="vertical"?["y","x",i]:["x","y",o],p=g[0],y=g[1],S=g[2],b=$n(a,f.getIndex,s,c,S,y),T=(r=Ln(m),d.type==="log"?r.filter(function($){return $!==0}):r),k=Math.min.apply(Math,T),O=Math.max.apply(Math,T),M=yr(d,{all:T,min:k,max:O},p==="x"?i:o,p),P=n==="vertical"?[b,M]:[M,b],W=P[0],j=P[1],I=f.innerPadding>0?f.innerPadding:0,F=b.bandwidth(),q=[R({},f,{innerPadding:I,stackedData:m,xScale:W,yScale:j}),F,(t=d.reverse)!=null&&t];return{xScale:W,yScale:j,bars:F>0?n==="vertical"?Xu.apply(void 0,q):qu.apply(void 0,q):[]}},Ju=function(e){var t=e.bars,r=e.direction,a=e.from,n=e.groupMode,i=e.layout,o=e.legendLabel,l=e.reverse,s=Kn(o??(a==="indexes"?"indexValue":"id"));return a==="indexes"?function(d,c,h){var u=Or(d.map(function(f){var x,m;return{id:(x=f.data.indexValue)!=null?x:"",label:h(f.data),hidden:f.data.hidden,color:(m=f.color)!=null?m:"#000"}}),function(f){return f.id});return c==="horizontal"&&u.reverse(),u}(t,i,s):function(d,c,h,u,f,x){var m=Or(d.map(function(g){var p;return{id:g.data.id,label:x(g.data),hidden:g.data.hidden,color:(p=g.color)!=null?p:"#000"}}),function(g){return g.id});return(c==="vertical"&&u==="stacked"&&h==="column"&&f!==!0||c==="horizontal"&&u==="stacked"&&f===!0)&&m.reverse(),m}(t,i,r,n,l,s)},qr=function(e,t,r){var a=e.get(t)||0;e.set(t,a+r)},Zu=function(e,t,r){var a=e.get(t)||0;e.set(t,a+(r>0?r:0))},Qu=function(e,t,r){var a=e.get(t)||0;e.set(t,Math.max(a,Number(r)))},ed=function(e,t){var r=e.get(t)||0;e.set(t,r+1)},Mn=function(e){var t,r=e.indexBy,a=r===void 0?N.indexBy:r,n=e.keys,i=n===void 0?N.keys:n,o=e.label,l=o===void 0?N.label:o,s=e.tooltipLabel,d=s===void 0?N.tooltipLabel:s,c=e.valueFormat,h=e.colors,u=h===void 0?N.colors:h,f=e.colorBy,x=f===void 0?N.colorBy:f,m=e.borderColor,g=m===void 0?N.borderColor:m,p=e.labelTextColor,y=p===void 0?N.labelTextColor:p,S=e.groupMode,b=S===void 0?N.groupMode:S,T=e.layout,k=T===void 0?N.layout:T,O=e.data,M=e.margin,P=e.width,W=e.height,j=e.padding,I=j===void 0?N.padding:j,F=e.innerPadding,q=F===void 0?N.innerPadding:F,$=e.valueScale,H=$===void 0?N.valueScale:$,D=e.indexScale,G=D===void 0?N.indexScale:D,ee=e.initialHiddenIds,V=ee===void 0?N.initialHiddenIds:ee,le=e.enableLabel,se=le===void 0?N.enableLabel:le,re=e.labelSkipWidth,_=re===void 0?N.labelSkipWidth:re,ye=e.labelSkipHeight,we=ye===void 0?N.labelSkipHeight:ye,K=e.legends,Te=K===void 0?N.legends:K,$e=e.legendLabel,Pe=e.totalsOffset,J=Pe===void 0?N.totalsOffset:Pe,Be=C.useState(V??[]),Ee=Be[0],Ye=Be[1],dt=C.useCallback(function(A){Ye(function(E){return E.indexOf(A)>-1?E.filter(function(ne){return ne!==A}):[].concat(E,[A])})},[]),Ke=Ut(a),Je=Ut(l),Ze=Ut(d),ge=en(c),Qe=Me(),Fe=Xn(u,x),Ve=Cr(g,Qe),De=Cr(y,Qe),Ce=(b==="grouped"?Gu:Ku)({layout:k,data:O,getIndex:Ke,keys:i,width:P,height:W,getColor:Fe,padding:I,innerPadding:q,valueScale:H,indexScale:G,hiddenIds:Ee,formatValue:ge,getTooltipLabel:Ze,margin:M}),xe=Ce.bars,ze=Ce.xScale,me=Ce.yScale,et=C.useMemo(function(){return xe.filter(function(A){return A.data.value!==null}).map(function(A,E){return R({},A,{index:E})})},[xe]),tt=C.useCallback(function(A){var E=A.width,ne=A.height;return!!se&&!(_>0&&E<_)&&!(we>0&&ne<we)},[se,_,we]),Ne=C.useMemo(function(){return i.map(function(A){var E=xe.find(function(ne){return ne.data.id===A});return R({},E,{data:R({id:A},E==null?void 0:E.data,{hidden:Ee.includes(A)})})})},[Ee,i,xe]),rt=(t=H.reverse)!=null&&t,nt=C.useMemo(function(){return Te.map(function(A){return[A,Ju({bars:A.dataFrom==="keys"?Ne:xe,direction:A.direction,from:A.dataFrom,groupMode:b,layout:k,legendLabel:$e,reverse:rt})]})},[Te,Ne,xe,b,k,$e,rt]),yt=C.useMemo(function(){return function(A,E,ne,Y,ce,fe,Oe){Y===void 0&&(Y=N.layout),ce===void 0&&(ce=N.groupMode);var Se=[];if(A.length===0)return Se;var ae=new Map,ue=A[0].width,at=A[0].height;if(ce==="stacked"){var je=new Map;A.forEach(function(de){var te=de.data,Z=te.indexValue,Q=te.value;qr(ae,Z,Number(Q)),Zu(je,Z,Number(Q))}),je.forEach(function(de,te){var Z,Q,be,ke=ae.get(te)||0;Y==="vertical"?(Z=E(te),Q=ne(de),be=ne(de/2)):(Z=E(de),Q=ne(te),be=E(de/2)),Z+=Y==="vertical"?ue/2:fe,Q+=Y==="vertical"?-fe:at/2,Se.push({key:"total_"+te,x:Z,y:Q,value:ke,formattedValue:Oe(ke),animationOffset:be})})}else if(ce==="grouped"){var Ie=new Map,Xe=new Map;A.forEach(function(de){var te=de.data,Z=te.indexValue,Q=te.value;qr(ae,Z,Number(Q)),Qu(Ie,Z,Number(Q)),ed(Xe,Z)}),Ie.forEach(function(de,te){var Z,Q,be,ke=ae.get(te)||0,it=Xe.get(te);Y==="vertical"?(Z=E(te),Q=ne(de),be=ne(de/2)):(Z=E(de),Q=ne(te),be=E(de/2)),Z+=Y==="vertical"?it*ue/2:fe,Q+=Y==="vertical"?-fe:it*at/2,Se.push({key:"total_"+te,x:Z,y:Q,value:ke,formattedValue:Oe(ke),animationOffset:be})})}return Se}(xe,ze,me,k,b,J,ge)},[xe,ze,me,k,b,J,ge]);return{bars:xe,barsWithValue:et,xScale:ze,yScale:me,getIndex:Ke,getLabel:Je,getTooltipLabel:Ze,formatValue:ge,getColor:Fe,getBorderColor:Ve,getLabelColor:De,shouldRenderBarLabel:tt,hiddenIds:Ee,toggleSerie:dt,legendsWithData:nt,barTotals:yt}},td=function(e){var t=e.data,r=e.springConfig,a=e.animate,n=e.layout,i=n===void 0?z.layout:n,o=Me();return Dt(t,{keys:function(l){return l.key},from:function(l){return{x:i==="vertical"?l.x:l.animationOffset,y:i==="vertical"?l.animationOffset:l.y,labelOpacity:0}},enter:function(l){return{x:l.x,y:l.y,labelOpacity:1}},update:function(l){return{x:l.x,y:l.y,labelOpacity:1}},leave:function(l){return{x:i==="vertical"?l.x:l.animationOffset,y:i==="vertical"?l.animationOffset:l.y,labelOpacity:0}},config:r,immediate:!a,initial:a?void 0:null})(function(l,s){return v.jsx(Qt.text,{x:l.x,y:l.y,fillOpacity:l.labelOpacity,style:R({},o.labels.text,{pointerEvents:"none"}),fontWeight:"bold",fontSize:o.labels.text.fontSize,fontFamily:o.labels.text.fontFamily,textAnchor:i==="vertical"?"middle":"start",alignmentBaseline:i==="vertical"?"alphabetic":"middle",children:s.formattedValue},s.key)})},rd=["isInteractive","animate","motionConfig","theme","renderWrapper"],nd=function(e){var t,r=e.data,a=e.indexBy,n=e.keys,i=e.margin,o=e.width,l=e.height,s=e.groupMode,d=e.layout,c=e.valueScale,h=e.indexScale,u=e.padding,f=e.innerPadding,x=e.axisTop,m=e.axisRight,g=e.axisBottom,p=g===void 0?z.axisBottom:g,y=e.axisLeft,S=y===void 0?z.axisLeft:y,b=e.enableGridX,T=b===void 0?z.enableGridX:b,k=e.enableGridY,O=k===void 0?z.enableGridY:k,M=e.gridXValues,P=e.gridYValues,W=e.layers,j=W===void 0?z.layers:W,I=e.barComponent,F=I===void 0?z.barComponent:I,q=e.enableLabel,$=q===void 0?z.enableLabel:q,H=e.label,D=e.labelSkipWidth,G=D===void 0?z.labelSkipWidth:D,ee=e.labelSkipHeight,V=ee===void 0?z.labelSkipHeight:ee,le=e.labelTextColor,se=e.labelPosition,re=se===void 0?z.labelPosition:se,_=e.labelOffset,ye=_===void 0?z.labelOffset:_,we=e.markers,K=we===void 0?z.markers:we,Te=e.colorBy,$e=e.colors,Pe=e.defs,J=Pe===void 0?z.defs:Pe,Be=e.fill,Ee=Be===void 0?z.fill:Be,Ye=e.borderRadius,dt=Ye===void 0?z.borderRadius:Ye,Ke=e.borderWidth,Je=Ke===void 0?z.borderWidth:Ke,Ze=e.borderColor,ge=e.annotations,Qe=ge===void 0?z.annotations:ge,Fe=e.legendLabel,Ve=e.tooltipLabel,De=e.valueFormat,Ce=e.isInteractive,xe=Ce===void 0?z.isInteractive:Ce,ze=e.tooltip,me=ze===void 0?z.tooltip:ze,et=e.onClick,tt=e.onMouseEnter,Ne=e.onMouseLeave,rt=e.legends,nt=e.role,yt=nt===void 0?z.role:nt,A=e.ariaLabel,E=e.ariaLabelledBy,ne=e.ariaDescribedBy,Y=e.isFocusable,ce=Y===void 0?z.isFocusable:Y,fe=e.barAriaLabel,Oe=e.barAriaLabelledBy,Se=e.barAriaDescribedBy,ae=e.barAriaHidden,ue=e.barAriaDisabled,at=e.initialHiddenIds,je=e.enableTotals,Ie=je===void 0?z.enableTotals:je,Xe=e.totalsOffset,de=Xe===void 0?z.totalsOffset:Xe,te=e.forwardedRef,Z=ut(),Q=Z.animate,be=Z.config,ke=Zr(o,l,i),it=ke.outerWidth,Lt=ke.outerHeight,ct=ke.margin,Ae=ke.innerWidth,He=ke.innerHeight,he=Mn({indexBy:a,label:H,tooltipLabel:Ve,valueFormat:De,colors:$e,colorBy:Te,borderColor:Ze,labelTextColor:le,groupMode:s,layout:d,data:r,keys:n,margin:ct,width:Ae,height:He,padding:u,innerPadding:f,valueScale:c,indexScale:h,enableLabel:$,labelSkipWidth:G,labelSkipHeight:V,legends:rt,legendLabel:Fe,initialHiddenIds:at,totalsOffset:de}),xt=he.bars,Mt=he.barsWithValue,ot=he.xScale,ft=he.yScale,Ht=he.getLabel,L=he.getTooltipLabel,X=he.getBorderColor,B=he.getLabelColor,We=he.shouldRenderBarLabel,ie=he.toggleSerie,lt=he.legendsWithData,kt=he.barTotals,Pn=he.getColor,wt=jn(d,(t=c==null?void 0:c.reverse)!=null&&t,re,ye),En=Dt(Mt,{keys:function(w){return w.key},from:function(w){return R({borderColor:X(w),color:w.color,height:0,labelColor:B(w),labelOpacity:0},wt(w.width,w.height),{transform:"translate("+w.x+", "+(w.y+w.height)+")",width:w.width},d==="vertical"?{}:{height:w.height,transform:"translate("+w.x+", "+w.y+")",width:0})},enter:function(w){return R({borderColor:X(w),color:w.color,height:w.height,labelColor:B(w),labelOpacity:1},wt(w.width,w.height),{transform:"translate("+w.x+", "+w.y+")",width:w.width})},update:function(w){return R({borderColor:X(w),color:w.color,height:w.height,labelColor:B(w),labelOpacity:1},wt(w.width,w.height),{transform:"translate("+w.x+", "+w.y+")",width:w.width})},leave:function(w){return R({borderColor:X(w),color:w.color,height:0,labelColor:B(w),labelOpacity:0},wt(w.width,w.height),{labelY:0,transform:"translate("+w.x+", "+(w.y+w.height)+")",width:w.width},d==="vertical"?{}:R({},wt(w.width,w.height),{labelX:0,height:w.height,transform:"translate("+w.x+", "+w.y+")",width:0}))},config:be,immediate:!Q,initial:Q?void 0:null}),kr=C.useMemo(function(){return{borderRadius:dt,borderWidth:Je,enableLabel:$,isInteractive:xe,labelSkipWidth:G,labelSkipHeight:V,onClick:et,onMouseEnter:tt,onMouseLeave:Ne,getTooltipLabel:L,tooltip:me,isFocusable:ce,ariaLabel:fe,ariaLabelledBy:Oe,ariaDescribedBy:Se,ariaHidden:ae,ariaDisabled:ue}},[dt,Je,$,L,xe,V,G,et,tt,Ne,me,ce,fe,Oe,Se,ae,ue]),In=Hn(J,xt,Ee,{dataKey:"data",targetKey:"data.fill"}),Ue={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null,totals:null};j.includes("annotations")&&(Ue.annotations=v.jsx(Ru,{bars:xt,annotations:Qe},"annotations")),j.includes("axes")&&(Ue.axes=v.jsx(_i,{xScale:ot,yScale:ft,width:Ae,height:He,top:x,right:m,bottom:p,left:S},"axes")),j.includes("bars")&&(Ue.bars=v.jsx(C.Fragment,{children:En(function(w,St){return C.createElement(F,R({},kr,{bar:St,style:w,shouldRenderLabel:We(St),label:Ht(St.data)}))})},"bars")),j.includes("grid")&&(Ue.grid=v.jsx(Fi,{width:Ae,height:He,xScale:T?ot:null,yScale:O?ft:null,xValues:M,yValues:P},"grid")),j.includes("legends")&&(Ue.legends=v.jsx(_u,{width:Ae,height:He,legends:lt,toggleSerie:ie},"legends")),j.includes("markers")&&(Ue.markers=v.jsx(Un,{markers:K,width:Ae,height:He,xScale:ot,yScale:ft},"markers")),j.includes("totals")&&Ie&&(Ue.totals=v.jsx(td,{data:kt,springConfig:be,animate:Q,layout:d},"totals"));var Rn=R({},kr,{margin:ct,width:o,height:l,innerWidth:Ae,innerHeight:He,bars:xt,legendData:lt,enableLabel:$,xScale:ot,yScale:ft,tooltip:me,getTooltipLabel:L,onClick:et,onMouseEnter:tt,onMouseLeave:Ne,getColor:Pn});return v.jsx(Gn,{width:it,height:Lt,margin:ct,defs:In,role:yt,ariaLabel:A,ariaLabelledBy:E,ariaDescribedBy:ne,isFocusable:ce,ref:te,children:j.map(function(w,St){var wr;return typeof w=="function"?v.jsx(C.Fragment,{children:C.createElement(w,Rn)},St):(wr=Ue==null?void 0:Ue[w])!=null?wr:null})})},ad=C.forwardRef(function(e,t){var r=e.isInteractive,a=r===void 0?z.isInteractive:r,n=e.animate,i=n===void 0?z.animate:n,o=e.motionConfig,l=o===void 0?z.motionConfig:o,s=e.theme,d=e.renderWrapper,c=qe(e,rd);return v.jsx(Jr,{animate:i,isInteractive:a,motionConfig:l,renderWrapper:d,theme:s,children:v.jsx(nd,R({},c,{isInteractive:a,forwardedRef:t}))})}),id=["isInteractive","renderWrapper","theme"],Kt=function(e,t,r,a){return e.find(function(n){return Qn(n.x+t.left,n.y+t.top,n.width,n.height,r,a)})},od=function(e){var t,r=e.data,a=e.indexBy,n=e.keys,i=e.margin,o=e.width,l=e.height,s=e.groupMode,d=e.layout,c=e.valueScale,h=e.indexScale,u=e.padding,f=e.innerPadding,x=e.axisTop,m=e.axisRight,g=e.axisBottom,p=g===void 0?oe.axisBottom:g,y=e.axisLeft,S=y===void 0?oe.axisLeft:y,b=e.enableGridX,T=b===void 0?oe.enableGridX:b,k=e.enableGridY,O=k===void 0?oe.enableGridY:k,M=e.gridXValues,P=e.gridYValues,W=e.labelPosition,j=W===void 0?oe.labelPosition:W,I=e.labelOffset,F=I===void 0?oe.labelOffset:I,q=e.layers,$=q===void 0?oe.layers:q,H=e.renderBar,D=H===void 0?oe.renderBar:H,G=e.enableLabel,ee=G===void 0?oe.enableLabel:G,V=e.label,le=e.labelSkipWidth,se=le===void 0?oe.labelSkipWidth:le,re=e.labelSkipHeight,_=re===void 0?oe.labelSkipHeight:re,ye=e.labelTextColor,we=e.colorBy,K=e.colors,Te=e.borderRadius,$e=Te===void 0?oe.borderRadius:Te,Pe=e.borderWidth,J=Pe===void 0?oe.borderWidth:Pe,Be=e.borderColor,Ee=e.annotations,Ye=Ee===void 0?oe.annotations:Ee,dt=e.legendLabel,Ke=e.tooltipLabel,Je=e.valueFormat,Ze=e.isInteractive,ge=Ze===void 0?oe.isInteractive:Ze,Qe=e.tooltip,Fe=Qe===void 0?oe.tooltip:Qe,Ve=e.onClick,De=e.onMouseEnter,Ce=e.onMouseLeave,xe=e.legends,ze=e.pixelRatio,me=ze===void 0?oe.pixelRatio:ze,et=e.role,tt=e.forwardedRef,Ne=e.enableTotals,rt=Ne===void 0?oe.enableTotals:Ne,nt=e.totalsOffset,yt=nt===void 0?oe.totalsOffset:nt,A=C.useRef(null),E=Me(),ne=Zr(o,l,i),Y=ne.margin,ce=ne.innerWidth,fe=ne.innerHeight,Oe=ne.outerWidth,Se=ne.outerHeight,ae=Mn({indexBy:a,label:V,tooltipLabel:Ke,valueFormat:Je,colors:K,colorBy:we,borderColor:Be,labelTextColor:ye,groupMode:s,layout:d,data:r,keys:n,margin:Y,width:ce,height:fe,padding:u,innerPadding:f,valueScale:c,indexScale:h,enableLabel:ee,labelSkipWidth:se,labelSkipHeight:_,legends:xe,legendLabel:dt,totalsOffset:yt}),ue=ae.bars,at=ae.barsWithValue,je=ae.xScale,Ie=ae.yScale,Xe=ae.getLabel,de=ae.getTooltipLabel,te=ae.getBorderColor,Z=ae.getLabelColor,Q=ae.shouldRenderBarLabel,be=ae.legendsWithData,ke=ae.barTotals,it=ae.getColor,Lt=Qr(),ct=Lt.showTooltipFromEvent,Ae=Lt.hideTooltip,He=Ou({annotations:Tn({data:ue,annotations:Ye,getPosition:function(L){return{x:L.x,y:L.y}},getDimensions:function(L){var X=L.width,B=L.height;return{width:X,height:B,size:Math.max(X,B)}}})}),he=C.useMemo(function(){return{borderRadius:$e,borderWidth:J,isInteractive:ge,isFocusable:!1,labelSkipWidth:se,labelSkipHeight:_,margin:Y,width:o,height:l,innerWidth:ce,innerHeight:fe,bars:ue,legendData:be,enableLabel:ee,xScale:je,yScale:Ie,tooltip:Fe,getTooltipLabel:de,onClick:Ve,onMouseEnter:De,onMouseLeave:Ce,getColor:it}},[$e,J,ge,se,_,Y,o,l,ce,fe,ue,be,ee,je,Ie,Fe,de,Ve,De,Ce,it]),xt=en(Je),Mt=jn(d,(t=c==null?void 0:c.reverse)!=null&&t,j,F);C.useEffect(function(){if(A.current){A.current.width=Oe*me,A.current.height=Se*me;var L=A.current.getContext("2d");L.scale(me,me),L.fillStyle=E.background,L.fillRect(0,0,Oe,Se),L.translate(Y.left,Y.top),$.forEach(function(X){X==="grid"?typeof E.grid.line.strokeWidth=="number"&&E.grid.line.strokeWidth>0&&(L.lineWidth=E.grid.line.strokeWidth,L.strokeStyle=E.grid.line.stroke,T&&Ir(L,{width:ce,height:fe,scale:je,axis:"x",values:M}),O&&Ir(L,{width:ce,height:fe,scale:Ie,axis:"y",values:P})):X==="axes"?Di(L,{xScale:je,yScale:Ie,width:ce,height:fe,top:x,right:m,bottom:p,left:S,theme:E}):X==="bars"?(Bt(L,E.text),at.forEach(function(B){D(L,R({bar:B,borderColor:te(B),borderRadius:$e,borderWidth:J,label:Xe(B.data),shouldRenderLabel:Q(B),labelStyle:R({},E.labels.text,{fill:Z(B)})},Mt(B.width,B.height)))})):X==="legends"?be.forEach(function(B){var We=B[0],ie=B[1];Jn(L,R({},We,{data:ie,containerWidth:ce,containerHeight:fe,theme:E}))}):X==="annotations"?Eu(L,{annotations:He,theme:E}):X==="totals"&&rt?function(B,We,ie,lt){lt===void 0&&(lt=oe.layout),Bt(B,ie.labels.text),B.textBaseline=lt==="vertical"?"alphabetic":"middle",B.textAlign=lt==="vertical"?"center":"start",We.forEach(function(kt){Ft(B,ie.labels.text,kt.formattedValue,kt.x,kt.y)})}(L,ke,E,d):typeof X=="function"&&X(L,he)}),L.save()}},[p,S,m,x,at,$e,J,He,T,O,te,Xe,Z,M,P,s,l,fe,ce,he,$,d,be,Y.left,Y.top,Se,Oe,me,D,je,Ie,Q,E,o,ke,rt,xt,Mt]);var ot=C.useCallback(function(L){if(ue&&A.current){var X=Gt(A.current,L),B=X[0],We=X[1],ie=Kt(ue,Y,B,We);ie!==void 0?(ct(C.createElement(Fe,R({},ie.data,{color:ie.color,label:ie.label,value:Number(ie.data.value)})),L),L.type==="mouseenter"&&(De==null||De(ie.data,L))):Ae()}},[Ae,Y,De,ue,ct,Fe]),ft=C.useCallback(function(L){if(ue&&A.current){Ae();var X=Gt(A.current,L),B=X[0],We=X[1],ie=Kt(ue,Y,B,We);ie&&(Ce==null||Ce(ie.data,L))}},[Ae,Y,Ce,ue]),Ht=C.useCallback(function(L){if(ue&&A.current){var X=Gt(A.current,L),B=X[0],We=X[1],ie=Kt(ue,Y,B,We);ie!==void 0&&(Ve==null||Ve(R({},ie.data,{color:ie.color}),L))}},[Y,Ve,ue]);return v.jsx("canvas",{ref:Zn(A,tt),width:Oe*me,height:Se*me,style:{width:Oe,height:Se,cursor:ge?"auto":"normal"},onMouseEnter:ge?ot:void 0,onMouseMove:ge?ot:void 0,onMouseLeave:ge?ft:void 0,onClick:ge?Ht:void 0,role:et})},ld=C.forwardRef(function(e,t){var r=e.isInteractive,a=e.renderWrapper,n=e.theme,i=qe(e,id);return v.jsx(Jr,{isInteractive:r,renderWrapper:a,theme:n,animate:!1,children:v.jsx(od,R({},i,{isInteractive:r,forwardedRef:t}))})}),sd=["defaultWidth","defaultHeight","onResize","debounceResize"],kd=C.forwardRef(function(e,t){var r=e.defaultWidth,a=e.defaultHeight,n=e.onResize,i=e.debounceResize,o=qe(e,sd);return v.jsx(Kr,{defaultWidth:r,defaultHeight:a,onResize:n,debounceResize:i,children:function(l){var s=l.width,d=l.height;return v.jsx(ad,R({},o,{width:s,height:d,ref:t}))}})}),ud=["defaultWidth","defaultHeight","onResize","debounceResize"];C.forwardRef(function(e,t){var r=e.defaultWidth,a=e.defaultHeight,n=e.onResize,i=e.debounceResize,o=qe(e,ud);return v.jsx(Kr,{defaultWidth:r,defaultHeight:a,onResize:n,debounceResize:i,children:function(l){var s=l.width,d=l.height;return v.jsx(ld,R({},o,{width:s,height:d,ref:t}))}})});export{kd as X};
