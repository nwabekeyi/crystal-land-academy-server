import{v as qn,j as w,r as O}from"./index-sE9McROK.js";import{bx as Yn,co as Ze,cp as ne,cq as Z,c as F,cr as Qe,cs as $,ct as Re,cu as ae,cv as Me,cw as _e,cx as D,cy as en,cz as zn,cA as Jn,a as Kn,bE as Zn,bF as Qn,bG as _n,bH as ge,bI as et,bJ as nt,bK as ce,bL as nn,bM as tn,bN as tt,bO as rt,bP as at,bB as it,bC as ot,bD as st,cB as ye,bV as he,cd as ke,cC as Oe,cD as ie,bX as Ie,bY as we,b$ as te,cE as ve,bA as ut,cF as lt,c4 as dt,cG as ct,cc as ft,cg as gt,ci as ht,cl as vt,cm as pt,c3 as mt,ce as bt,c6 as At}from"./nivo-legends.es-Dp-omj8d.js";function xt(e){return e.innerRadius}function Rt(e){return e.outerRadius}function Lt(e){return e.startAngle}function yt(e){return e.endAngle}function kt(e){return e&&e.padAngle}function Mt(e,n,t,a,o,s,i,r){var d=t-e,c=a-n,u=i-o,v=r-s,l=v*d-u*c;if(!(l*l<$))return l=(u*(n-s)-v*(e-o))/l,[e+l*d,n+l*c]}function xe(e,n,t,a,o,s,i){var r=e-t,d=n-a,c=(i?s:-s)/ae(r*r+d*d),u=c*d,v=-c*r,l=e+u,f=n+v,m=t+u,b=a+v,L=(l+m)/2,A=(f+b)/2,g=m-l,h=b-f,y=g*g+h*h,p=o-s,M=l*b-m*f,j=(h<0?-1:1)*ae(zn(0,p*p*y-M*M)),E=(M*h-g*j)/y,T=(-M*g-h*j)/y,k=(M*h+g*j)/y,W=(-M*g+h*j)/y,P=E-L,R=T-A,C=k-L,X=W-A;return P*P+R*R>C*C+X*X&&(E=k,T=W),{cx:E,cy:T,x01:-u,y01:-v,x11:E*(o/p-1),y11:T*(o/p-1)}}function Ct(){var e=xt,n=Rt,t=F(0),a=null,o=Lt,s=yt,i=kt,r=null,d=Yn(c);function c(){var u,v,l=+e.apply(this,arguments),f=+n.apply(this,arguments),m=o.apply(this,arguments)-Qe,b=s.apply(this,arguments)-Qe,L=_e(b-m),A=b>m;if(r||(r=u=d()),f<l&&(v=f,f=l,l=v),!(f>$))r.moveTo(0,0);else if(L>Re-$)r.moveTo(f*ne(m),f*Z(m)),r.arc(0,0,f,m,b,!A),l>$&&(r.moveTo(l*ne(b),l*Z(b)),r.arc(0,0,l,b,m,A));else{var g=m,h=b,y=m,p=b,M=L,j=L,E=i.apply(this,arguments)/2,T=E>$&&(a?+a.apply(this,arguments):ae(l*l+f*f)),k=Me(_e(f-l)/2,+t.apply(this,arguments)),W=k,P=k,R,C;if(T>$){var X=en(T/l*Z(E)),q=en(T/f*Z(E));(M-=X*2)>$?(X*=A?1:-1,y+=X,p-=X):(M=0,y=p=(m+b)/2),(j-=q*2)>$?(q*=A?1:-1,g+=q,h-=q):(j=0,g=h=(m+b)/2)}var J=f*ne(g),Y=f*Z(g),G=l*ne(p),V=l*Z(p);if(k>$){var z=f*ne(h),U=f*Z(h),K=l*ne(y),Q=l*Z(y),B;if(L<Ze)if(B=Mt(J,Y,K,Q,z,U,G,V)){var S=J-B[0],N=Y-B[1],H=z-B[0],se=U-B[1],pe=1/Z(Jn((S*H+N*se)/(ae(S*S+N*N)*ae(H*H+se*se)))/2),ue=ae(B[0]*B[0]+B[1]*B[1]);W=Me(k,(l-ue)/(pe-1)),P=Me(k,(f-ue)/(pe+1))}else W=P=0}j>$?P>$?(R=xe(K,Q,J,Y,f,P,A),C=xe(z,U,G,V,f,P,A),r.moveTo(R.cx+R.x01,R.cy+R.y01),P<k?r.arc(R.cx,R.cy,P,D(R.y01,R.x01),D(C.y01,C.x01),!A):(r.arc(R.cx,R.cy,P,D(R.y01,R.x01),D(R.y11,R.x11),!A),r.arc(0,0,f,D(R.cy+R.y11,R.cx+R.x11),D(C.cy+C.y11,C.cx+C.x11),!A),r.arc(C.cx,C.cy,P,D(C.y11,C.x11),D(C.y01,C.x01),!A))):(r.moveTo(J,Y),r.arc(0,0,f,g,h,!A)):r.moveTo(J,Y),!(l>$)||!(M>$)?r.lineTo(G,V):W>$?(R=xe(G,V,z,U,l,-W,A),C=xe(J,Y,K,Q,l,-W,A),r.lineTo(R.cx+R.x01,R.cy+R.y01),W<k?r.arc(R.cx,R.cy,W,D(R.y01,R.x01),D(C.y01,C.x01),!A):(r.arc(R.cx,R.cy,W,D(R.y01,R.x01),D(R.y11,R.x11),!A),r.arc(0,0,l,D(R.cy+R.y11,R.cx+R.x11),D(C.cy+C.y11,C.cx+C.x11),A),r.arc(C.cx,C.cy,W,D(C.y11,C.x11),D(C.y01,C.x01),!A))):r.arc(0,0,l,p,y,A)}if(r.closePath(),u)return r=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,v=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Ze/2;return[ne(v)*u,Z(v)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:F(+u),c):e},c.outerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:F(+u),c):n},c.cornerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:F(+u),c):t},c.padRadius=function(u){return arguments.length?(a=u==null?null:typeof u=="function"?u:F(+u),c):a},c.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:F(+u),c):o},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:F(+u),c):s},c.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:F(+u),c):i},c.context=function(u){return arguments.length?(r=u??null,c):r},c}function Ot(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function It(e){return e}function wt(){var e=It,n=Ot,t=null,a=F(0),o=F(Re),s=F(0);function i(r){var d,c=(r=Kn(r)).length,u,v,l=0,f=new Array(c),m=new Array(c),b=+a.apply(this,arguments),L=Math.min(Re,Math.max(-Re,o.apply(this,arguments)-b)),A,g=Math.min(Math.abs(L)/c,s.apply(this,arguments)),h=g*(L<0?-1:1),y;for(d=0;d<c;++d)(y=m[f[d]=d]=+e(r[d],d,r))>0&&(l+=y);for(n!=null?f.sort(function(p,M){return n(m[p],m[M])}):t!=null&&f.sort(function(p,M){return t(r[p],r[M])}),d=0,v=l?(L-c*h)/l:0;d<c;++d,b=A)u=f[d],y=m[u],A=b+(y>0?y*v:0)+h,m[u]={data:r[u],index:d,value:y,startAngle:b,endAngle:A,padAngle:g};return m}return i.value=function(r){return arguments.length?(e=typeof r=="function"?r:F(+r),i):e},i.sortValues=function(r){return arguments.length?(n=r,t=null,i):n},i.sort=function(r){return arguments.length?(t=r,n=null,i):t},i.startAngle=function(r){return arguments.length?(a=typeof r=="function"?r:F(+r),i):a},i.endAngle=function(r){return arguments.length?(o=typeof r=="function"?r:F(+r),i):o},i.padAngle=function(r){return arguments.length?(s=typeof r=="function"?r:F(+r),i):s},i}var an=/^--/;function jt(e,n){return n==null||typeof n=="boolean"||n===""?"":typeof n=="number"&&n!==0&&!an.test(e)&&!(fe.hasOwnProperty(e)&&fe[e])?n+"px":(""+n).trim()}var rn={};function Tt(e,n){if(!e.nodeType||!e.setAttribute)return!1;const t=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:a,style:o,children:s,scrollTop:i,scrollLeft:r,viewBox:d,...c}=n,u=Object.values(c),v=Object.keys(c).map(l=>t||e.hasAttribute(l)?l:rn[l]||(rn[l]=l.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));s!==void 0&&(e.textContent=s);for(const l in o)if(o.hasOwnProperty(l)){const f=jt(l,o[l]);an.test(l)?e.style.setProperty(l,f):e.style[l]=f}v.forEach((l,f)=>{e.setAttribute(l,u[f])}),a!==void 0&&(e.className=a),i!==void 0&&(e.scrollTop=i),r!==void 0&&(e.scrollLeft=r),d!==void 0&&e.setAttribute("viewBox",d)}var fe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=(e,n)=>e+n.charAt(0).toUpperCase()+n.substring(1),Et=["Webkit","Ms","Moz","O"];fe=Object.keys(fe).reduce((e,n)=>(Et.forEach(t=>e[St(t,n)]=e[n]),e),fe);var Wt=/^(matrix|translate|scale|rotate|skew)/,Pt=/^(translate)/,Vt=/^(rotate|skew)/,Ce=(e,n)=>ge.num(e)&&e!==0?e+n:e,Le=(e,n)=>ge.arr(e)?e.every(t=>Le(t,n)):ge.num(e)?e===n:parseFloat(e)===n,Dt=class extends Qn{constructor({x:e,y:n,z:t,...a}){const o=[],s=[];(e||n||t)&&(o.push([e||0,n||0,t||0]),s.push(i=>[`translate3d(${i.map(r=>Ce(r,"px")).join(",")})`,Le(i,0)])),_n(a,(i,r)=>{if(r==="transform")o.push([i||""]),s.push(d=>[d,d===""]);else if(Wt.test(r)){if(delete a[r],ge.und(i))return;const d=Pt.test(r)?"px":Vt.test(r)?"deg":"";o.push(et(i)),s.push(r==="rotate3d"?([c,u,v,l])=>[`rotate3d(${c},${u},${v},${Ce(l,d)})`,Le(l,0)]:c=>[`${r}(${c.map(u=>Ce(u,d)).join(",")})`,Le(c,r.startsWith("scale")?1:0)])}}),o.length&&(a.transform=new Ft(o,s)),super(a)}},Ft=class extends nt{constructor(e,n){super(),this.inputs=e,this.transforms=n,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return ce(this.inputs,(t,a)=>{const o=nn(t[0]),[s,i]=this.transforms[a](ge.arr(o)?o:t.map(nn));e+=" "+s,n=n&&i}),n?"none":e}observerAdded(e){e==1&&ce(this.inputs,n=>ce(n,t=>tn(t)&&tt(t,this)))}observerRemoved(e){e==0&&ce(this.inputs,n=>ce(n,t=>tn(t)&&rt(t,this)))}eventObserved(e){e.type=="change"&&(this._value=null),at(this,e)}},$t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];it.assign({batchedUpdates:qn.unstable_batchedUpdates,createStringInterpolator:st,colors:ot});var Gt=Zn($t,{applyAnimatedValues:Tt,createAnimatedStyle:e=>new Dt(e),getComponentProps:({scrollTop:e,scrollLeft:n,...t})=>t}),oe=Gt.animated;function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},I.apply(this,arguments)}var Bt={pointerEvents:"none"},Nt=function(e){var n=e.label,t=e.style,a=he();return w.jsx(oe.g,{transform:t.transform,opacity:t.progress,style:Bt,children:w.jsx(oe.text,{textAnchor:"middle",dominantBaseline:"central",style:I({},a.labels.text,{fill:t.textColor}),children:n})})},on=function(e){var n=e%(2*Math.PI);return n<0&&(n+=2*Math.PI),n},Ht=function(e,n){return e.filter(function(t){return Math.abs(Oe(t.arc.endAngle-t.arc.startAngle))>=n})},Ut={startAngle:{enter:function(e){return I({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return I({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:n,endAngle:n})},update:function(e){return e},leave:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return I({},e,{startAngle:n,endAngle:n})}},endAngle:{enter:function(e){return I({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return I({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return I({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:n,outerRadius:n})},update:function(e){return e},leave:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return I({},e,{innerRadius:n,outerRadius:n})}},outerRadius:{enter:function(e){return I({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return I({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return I({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return I({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},sn=function(e,n){return O.useMemo(function(){var t=Ut[e];return{enter:function(a){return I({progress:0},t.enter(a.arc),n?n.enter(a):{})},update:function(a){return I({progress:1},t.update(a.arc),n?n.update(a):{})},leave:function(a){return I({progress:0},t.leave(a.arc),n?n.leave(a):{})}}},[e,n])},Xt=function(e,n){var t=lt(e)-Math.PI/2,a=e.innerRadius+(e.outerRadius-e.innerRadius)*n;return ie(t,a)},qt=function(e){return function(n,t,a,o){return ve([n,t,a,o],function(s,i,r,d){var c=Xt({startAngle:s,endAngle:i,innerRadius:r,outerRadius:d},e);return"translate("+c.x+","+c.y+")"})}},Yt=function(e,n,t,a){n===void 0&&(n=.5),t===void 0&&(t="innerRadius");var o=Ie(),s=o.animate,i=o.config,r=sn(t,a);return{transition:we(e,{keys:function(d){return d.id},initial:r.update,from:r.enter,enter:r.update,update:r.update,leave:r.leave,config:i,immediate:!s}),interpolate:qt(n)}},zt=function(e){var n=e.center,t=e.data,a=e.transitionMode,o=e.label,s=e.radiusOffset,i=e.skipAngle,r=e.textColor,d=e.component,c=d===void 0?Nt:d,u=ye(o),v=he(),l=ke(r,v),f=O.useMemo(function(){return t.filter(function(g){return Math.abs(Oe(g.arc.endAngle-g.arc.startAngle))>=i})},[t,i]),m=Yt(f,s,a),b=m.transition,L=m.interpolate,A=c;return w.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:b(function(g,h){return O.createElement(A,{key:h.id,datum:h,label:u(h),style:I({},g,{transform:L(g.startAngle,g.endAngle,g.innerRadius,g.outerRadius),textColor:l(h)})})})})},Jt=function(e){var n=e.label,t=e.style,a=he();return w.jsxs(oe.g,{opacity:t.opacity,children:[w.jsx(oe.path,{fill:"none",stroke:t.linkColor,strokeWidth:t.thickness,d:t.path}),w.jsx(oe.text,{transform:t.textPosition,textAnchor:t.textAnchor,dominantBaseline:"central",style:I({},a.labels.text,{fill:t.textColor}),children:n})]})},Kt=function(e){var n=on(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return n<Math.PI/2||n>1.5*Math.PI?"start":"end"},un=function(e,n,t,a){var o,s,i=on(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),r=ie(i,e.outerRadius+n),d=ie(i,e.outerRadius+n+t);return i<Math.PI/2||i>1.5*Math.PI?(o="after",s={x:d.x+a,y:d.y}):(o="before",s={x:d.x-a,y:d.y}),{side:o,points:[r,d,s]}},Zt=ut().x(function(e){return e.x}).y(function(e){return e.y}),Qt=function(e,n,t,a,o,s,i){return ve([e,n,t,a,o,s,i],function(r,d,c,u,v,l,f){var m=un({startAngle:r,endAngle:d,outerRadius:u},v,l,f).points;return Zt(m)})},_t=function(e,n,t,a){return ve([e,n,t,a],function(o,s,i,r){return Kt({startAngle:o,endAngle:s})})},er=function(e,n,t,a,o,s,i,r){return ve([e,n,t,a,o,s,i,r],function(d,c,u,v,l,f,m,b){var L=un({startAngle:d,endAngle:c,outerRadius:v},l,f,m),A=L.points,g=L.side,h=A[2];return g==="before"?h.x-=b:h.x+=b,"translate("+h.x+","+h.y+")"})},nr=function(e){var n=e.data,t=e.offset,a=t===void 0?0:t,o=e.diagonalLength,s=e.straightLength,i=e.skipAngle,r=i===void 0?0:i,d=e.textOffset,c=e.linkColor,u=e.textColor,v=Ie(),l=v.animate,f=v.config,m=he(),b=ke(c,m),L=ke(u,m),A=function(h,y){return O.useMemo(function(){return Ht(h,y)},[h,y])}(n,r),g=function(h){var y=h.offset,p=h.diagonalLength,M=h.straightLength,j=h.textOffset,E=h.getLinkColor,T=h.getTextColor;return O.useMemo(function(){return{enter:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:y,diagonalLength:0,straightLength:0,textOffset:j,linkColor:E(k),textColor:T(k),opacity:0}},update:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:y,diagonalLength:p,straightLength:M,textOffset:j,linkColor:E(k),textColor:T(k),opacity:1}},leave:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:y,diagonalLength:0,straightLength:0,textOffset:j,linkColor:E(k),textColor:T(k),opacity:0}}}},[p,M,j,E,T,y])}({offset:a,diagonalLength:o,straightLength:s,textOffset:d,getLinkColor:b,getTextColor:L});return{transition:we(A,{keys:function(h){return h.id},initial:g.update,from:g.enter,enter:g.update,update:g.update,leave:g.leave,config:f,immediate:!l}),interpolateLink:Qt,interpolateTextAnchor:_t,interpolateTextPosition:er}},tr=function(e){var n=e.center,t=e.data,a=e.label,o=e.skipAngle,s=e.offset,i=e.diagonalLength,r=e.straightLength,d=e.strokeWidth,c=e.textOffset,u=e.textColor,v=e.linkColor,l=e.component,f=l===void 0?Jt:l,m=ye(a),b=nr({data:t,skipAngle:o,offset:s,diagonalLength:i,straightLength:r,textOffset:c,linkColor:v,textColor:u}),L=b.transition,A=b.interpolateLink,g=b.interpolateTextAnchor,h=b.interpolateTextPosition,y=f;return w.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:L(function(p,M){return O.createElement(y,{key:M.id,datum:M,label:m(M),style:I({},p,{thickness:d,path:A(p.startAngle,p.endAngle,p.innerRadius,p.outerRadius,p.offset,p.diagonalLength,p.straightLength),textAnchor:g(p.startAngle,p.endAngle,p.innerRadius,p.outerRadius),textPosition:h(p.startAngle,p.endAngle,p.innerRadius,p.outerRadius,p.offset,p.diagonalLength,p.straightLength,p.textOffset)})})})})},rr=function(e){var n=e.datum,t=e.style,a=e.onClick,o=e.onMouseEnter,s=e.onMouseMove,i=e.onMouseLeave,r=O.useCallback(function(v){return a==null?void 0:a(n,v)},[a,n]),d=O.useCallback(function(v){return o==null?void 0:o(n,v)},[o,n]),c=O.useCallback(function(v){return s==null?void 0:s(n,v)},[s,n]),u=O.useCallback(function(v){return i==null?void 0:i(n,v)},[i,n]);return w.jsx(oe.path,{d:t.path,opacity:t.opacity,fill:n.fill||t.color,stroke:t.borderColor,strokeWidth:t.borderWidth,onClick:a?r:void 0,onMouseEnter:o?d:void 0,onMouseMove:s?c:void 0,onMouseLeave:i?u:void 0})},ar=function(e,n,t,a,o){return ve([e,n,t,a],function(s,i,r,d){return o({startAngle:s,endAngle:i,innerRadius:Math.max(0,r),outerRadius:Math.max(0,d)})})},ir=function(e,n,t){n===void 0&&(n="innerRadius");var a=Ie(),o=a.animate,s=a.config,i=sn(n,t);return{transition:we(e,{keys:function(r){return r.id},initial:i.update,from:i.enter,enter:i.update,update:i.update,leave:i.leave,config:s,immediate:!o}),interpolate:ar}},or=function(e){var n=e.center,t=e.data,a=e.arcGenerator,o=e.borderWidth,s=e.borderColor,i=e.onClick,r=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,u=e.transitionMode,v=e.component,l=v===void 0?rr:v,f=he(),m=ke(s,f),b=ir(t,u,{enter:function(h){return{opacity:0,color:h.color,borderColor:m(h)}},update:function(h){return{opacity:1,color:h.color,borderColor:m(h)}},leave:function(h){return{opacity:0,color:h.color,borderColor:m(h)}}}),L=b.transition,A=b.interpolate,g=l;return w.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:L(function(h,y){return O.createElement(g,{key:y.id,datum:y,style:I({},h,{borderWidth:o,path:A(h.startAngle,h.endAngle,h.innerRadius,h.outerRadius,a)}),onClick:i,onMouseEnter:r,onMouseMove:d,onMouseLeave:c})})})},sr=function(e,n,t,a,o,s){s===void 0&&(s=!0);var i=[],r=ie(te(a),t);i.push([r.x,r.y]);var d=ie(te(o),t);i.push([d.x,d.y]);for(var c=Math.round(Math.min(a,o));c<=Math.round(Math.max(a,o));c++)if(c%90==0){var u=ie(te(c),t);i.push([u.x,u.y])}i=i.map(function(L){var A=L[0],g=L[1];return[e+A,n+g]}),s&&i.push([e,n]);var v=i.map(function(L){return L[0]}),l=i.map(function(L){return L[1]}),f=Math.min.apply(Math,v),m=Math.max.apply(Math,v),b=Math.min.apply(Math,l);return{points:i,x:f,y:b,width:m-f,height:Math.max.apply(Math,l)-b}},ur=function(e){var n=e===void 0?{}:e,t=n.cornerRadius,a=t===void 0?0:t,o=n.padAngle,s=o===void 0?0:o;return O.useMemo(function(){return Ct().innerRadius(function(i){return i.innerRadius}).outerRadius(function(i){return i.outerRadius}).cornerRadius(a).padAngle(s)},[a,s])};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ee.apply(this,arguments)}function ln(e,n){if(e==null)return{};var t,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)t=s[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}var lr=function(e){var n=e.width,t=e.height,a=e.legends,o=e.data,s=e.toggleSerie;return w.jsx(w.Fragment,{children:a.map(function(i,r){var d;return w.jsx(bt,ee({},i,{containerWidth:n,containerHeight:t,data:(d=i.data)!=null?d:o,toggleSerie:i.toggleSerie?s:void 0}),r)})})},x={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var n=e.datum;return w.jsx(At,{id:n.id,value:n.formattedValue,enableChip:!0,color:n.color})},legends:[],role:"img"},dr=["points"],cr=function(e){var n=e.data,t=e.id,a=t===void 0?x.id:t,o=e.value,s=o===void 0?x.value:o,i=e.valueFormat,r=e.colors,d=r===void 0?x.colors:r,c=ye(a),u=ye(s),v=vt(i),l=pt(d,"id");return O.useMemo(function(){return n.map(function(f){var m,b=c(f),L=u(f),A={id:b,label:(m=f.label)!=null?m:b,hidden:!1,value:L,formattedValue:v(L),data:f};return ee({},A,{color:l(A)})})},[n,c,u,v,l])},fr=function(e){var n=e.data,t=e.startAngle,a=e.endAngle,o=e.innerRadius,s=e.outerRadius,i=e.padAngle,r=e.sortByValue,d=e.activeId,c=e.activeInnerRadiusOffset,u=e.activeOuterRadiusOffset,v=e.hiddenIds,l=e.forwardLegendData,f=O.useMemo(function(){var A=wt().value(function(g){return g.value}).startAngle(te(t)).endAngle(te(a)).padAngle(te(i));return r||A.sortValues(null),A},[t,a,i,r]),m=O.useMemo(function(){var A=n.filter(function(g){return!v.includes(g.id)});return{dataWithArc:f(A).map(function(g){var h=Math.abs(g.endAngle-g.startAngle);return ee({},g.data,{arc:{index:g.index,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:d===g.data.id?o-c:o,outerRadius:d===g.data.id?s+u:s,thickness:s-o,padAngle:g.padAngle,angle:h,angleDeg:Oe(h)}})}),legendData:n.map(function(g){return{id:g.id,label:g.label,color:g.color,hidden:v.includes(g.id),data:g}})}},[f,n,v,d,o,c,s,u]),b=m.legendData,L=O.useRef(l);return O.useEffect(function(){typeof L.current=="function"&&L.current(b)},[L,b]),m},gr=function(e){var n=e.activeId,t=e.onActiveIdChange,a=e.defaultActiveId,o=n!==void 0,s=O.useState(o||a===void 0?null:a),i=s[0],r=s[1];return{activeId:o?n:i,setActiveId:O.useCallback(function(d){t&&t(d),o||r(d)},[o,t,r])}},hr=function(e){var n=e.data,t=e.width,a=e.height,o=e.innerRadius,s=o===void 0?x.innerRadius:o,i=e.startAngle,r=i===void 0?x.startAngle:i,d=e.endAngle,c=d===void 0?x.endAngle:d,u=e.padAngle,v=u===void 0?x.padAngle:u,l=e.sortByValue,f=l===void 0?x.sortByValue:l,m=e.cornerRadius,b=m===void 0?x.cornerRadius:m,L=e.fit,A=L===void 0?x.fit:L,g=e.activeInnerRadiusOffset,h=g===void 0?x.activeInnerRadiusOffset:g,y=e.activeOuterRadiusOffset,p=y===void 0?x.activeOuterRadiusOffset:y,M=e.activeId,j=e.onActiveIdChange,E=e.defaultActiveId,T=e.forwardLegendData,k=gr({activeId:M,onActiveIdChange:j,defaultActiveId:E}),W=k.activeId,P=k.setActiveId,R=O.useState([]),C=R[0],X=R[1],q=O.useMemo(function(){var G,V=Math.min(t,a)/2,z=V*Math.min(s,1),U=t/2,K=a/2;if(A){var Q=sr(U,K,V,r-90,c-90),B=Q.points,S=ln(Q,dr),N=Math.min(t/S.width,a/S.height),H={width:S.width*N,height:S.height*N};H.x=(t-H.width)/2,H.y=(a-H.height)/2,U=(U-S.x)/S.width*S.width*N+H.x,K=(K-S.y)/S.height*S.height*N+H.y,G={box:S,ratio:N,points:B},V*=N,z*=N}return{centerX:U,centerY:K,radius:V,innerRadius:z,debug:G}},[t,a,s,r,c,A]),J=fr({data:n,startAngle:r,endAngle:c,innerRadius:q.innerRadius,outerRadius:q.radius,padAngle:v,sortByValue:f,activeId:W,activeInnerRadiusOffset:h,activeOuterRadiusOffset:p,hiddenIds:C,forwardLegendData:T}),Y=O.useCallback(function(G){X(function(V){return V.indexOf(G)>-1?V.filter(function(z){return z!==G}):[].concat(V,[G])})},[]);return ee({arcGenerator:ur({cornerRadius:b,padAngle:te(v)}),activeId:W,setActiveId:P,toggleSerie:Y},J,q)},vr=function(e){var n=e.dataWithArc,t=e.arcGenerator,a=e.centerX,o=e.centerY,s=e.radius,i=e.innerRadius;return O.useMemo(function(){return{dataWithArc:n,arcGenerator:t,centerX:a,centerY:o,radius:s,innerRadius:i}},[n,t,a,o,s,i])},pr=function(e){var n=e.center,t=e.data,a=e.arcGenerator,o=e.borderWidth,s=e.borderColor,i=e.isInteractive,r=e.onClick,d=e.onMouseEnter,c=e.onMouseMove,u=e.onMouseLeave,v=e.setActiveId,l=e.tooltip,f=e.transitionMode,m=mt(),b=m.showTooltipFromEvent,L=m.hideTooltip,A=O.useMemo(function(){if(i)return function(p,M){r==null||r(p,M)}},[i,r]),g=O.useMemo(function(){if(i)return function(p,M){b(O.createElement(l,{datum:p}),M),v(p.id),d==null||d(p,M)}},[i,b,v,d,l]),h=O.useMemo(function(){if(i)return function(p,M){b(O.createElement(l,{datum:p}),M),c==null||c(p,M)}},[i,b,c,l]),y=O.useMemo(function(){if(i)return function(p,M){L(),v(null),u==null||u(p,M)}},[i,L,v,u]);return w.jsx(or,{center:n,data:t,arcGenerator:a,borderWidth:o,borderColor:s,transitionMode:f,onClick:A,onMouseEnter:g,onMouseMove:h,onMouseLeave:y})},mr=["isInteractive","animate","motionConfig","theme","renderWrapper"],br=function(e){var n=e.data,t=e.id,a=t===void 0?x.id:t,o=e.value,s=o===void 0?x.value:o,i=e.valueFormat,r=e.sortByValue,d=r===void 0?x.sortByValue:r,c=e.layers,u=c===void 0?x.layers:c,v=e.startAngle,l=v===void 0?x.startAngle:v,f=e.endAngle,m=f===void 0?x.endAngle:f,b=e.padAngle,L=b===void 0?x.padAngle:b,A=e.fit,g=A===void 0?x.fit:A,h=e.innerRadius,y=h===void 0?x.innerRadius:h,p=e.cornerRadius,M=p===void 0?x.cornerRadius:p,j=e.activeInnerRadiusOffset,E=j===void 0?x.activeInnerRadiusOffset:j,T=e.activeOuterRadiusOffset,k=T===void 0?x.activeOuterRadiusOffset:T,W=e.width,P=e.height,R=e.margin,C=e.colors,X=C===void 0?x.colors:C,q=e.borderWidth,J=q===void 0?x.borderWidth:q,Y=e.borderColor,G=Y===void 0?x.borderColor:Y,V=e.enableArcLabels,z=V===void 0?x.enableArcLabels:V,U=e.arcLabel,K=U===void 0?x.arcLabel:U,Q=e.arcLabelsSkipAngle,B=Q===void 0?x.arcLabelsSkipAngle:Q,S=e.arcLabelsTextColor,N=S===void 0?x.arcLabelsTextColor:S,H=e.arcLabelsRadiusOffset,se=H===void 0?x.arcLabelsRadiusOffset:H,pe=e.arcLabelsComponent,ue=e.enableArcLinkLabels,dn=ue===void 0?x.enableArcLinkLabels:ue,je=e.arcLinkLabel,cn=je===void 0?x.arcLinkLabel:je,Te=e.arcLinkLabelsSkipAngle,fn=Te===void 0?x.arcLinkLabelsSkipAngle:Te,Se=e.arcLinkLabelsOffset,gn=Se===void 0?x.arcLinkLabelsOffset:Se,Ee=e.arcLinkLabelsDiagonalLength,hn=Ee===void 0?x.arcLinkLabelsDiagonalLength:Ee,We=e.arcLinkLabelsStraightLength,vn=We===void 0?x.arcLinkLabelsStraightLength:We,Pe=e.arcLinkLabelsThickness,pn=Pe===void 0?x.arcLinkLabelsThickness:Pe,Ve=e.arcLinkLabelsTextOffset,mn=Ve===void 0?x.arcLinkLabelsTextOffset:Ve,De=e.arcLinkLabelsTextColor,bn=De===void 0?x.arcLinkLabelsTextColor:De,Fe=e.arcLinkLabelsColor,An=Fe===void 0?x.arcLinkLabelsColor:Fe,xn=e.arcLinkLabelComponent,$e=e.defs,Rn=$e===void 0?x.defs:$e,Ge=e.fill,Ln=Ge===void 0?x.fill:Ge,Be=e.isInteractive,yn=Be===void 0?x.isInteractive:Be,kn=e.onClick,Mn=e.onMouseEnter,Cn=e.onMouseMove,On=e.onMouseLeave,Ne=e.tooltip,In=Ne===void 0?x.tooltip:Ne,wn=e.activeId,jn=e.onActiveIdChange,Tn=e.defaultActiveId,He=e.transitionMode,Ue=He===void 0?x.transitionMode:He,Xe=e.legends,qe=Xe===void 0?x.legends:Xe,Sn=e.forwardLegendData,Ye=e.role,En=Ye===void 0?x.role:Ye,le=ft(W,P,R),Wn=le.outerWidth,Pn=le.outerHeight,Vn=le.margin,ze=le.innerWidth,Je=le.innerHeight,Dn=cr({data:n,id:a,value:s,valueFormat:i,colors:X}),_=hr({data:Dn,width:ze,height:Je,fit:g,innerRadius:y,startAngle:l,endAngle:m,padAngle:L,sortByValue:d,cornerRadius:M,activeInnerRadiusOffset:E,activeOuterRadiusOffset:k,activeId:wn,onActiveIdChange:jn,defaultActiveId:Tn,forwardLegendData:Sn}),de=_.dataWithArc,Fn=_.legendData,Ke=_.arcGenerator,me=_.centerX,be=_.centerY,$n=_.radius,Gn=_.innerRadius,Bn=_.setActiveId,Nn=_.toggleSerie,Hn=gt(Rn,de,Ln),re={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};u.includes("arcs")&&(re.arcs=w.jsx(pr,{center:[me,be],data:de,arcGenerator:Ke,borderWidth:J,borderColor:G,isInteractive:yn,onClick:kn,onMouseEnter:Mn,onMouseMove:Cn,onMouseLeave:On,setActiveId:Bn,tooltip:In,transitionMode:Ue},"arcs")),dn&&u.includes("arcLinkLabels")&&(re.arcLinkLabels=w.jsx(tr,{center:[me,be],data:de,label:cn,skipAngle:fn,offset:gn,diagonalLength:hn,straightLength:vn,strokeWidth:pn,textOffset:mn,textColor:bn,linkColor:An,component:xn},"arcLinkLabels")),z&&u.includes("arcLabels")&&(re.arcLabels=w.jsx(zt,{center:[me,be],data:de,label:K,radiusOffset:se,skipAngle:B,textColor:N,transitionMode:Ue,component:pe},"arcLabels")),qe.length>0&&u.includes("legends")&&(re.legends=w.jsx(lr,{width:ze,height:Je,data:Fn,legends:qe,toggleSerie:Nn},"legends"));var Un=vr({dataWithArc:de,arcGenerator:Ke,centerX:me,centerY:be,radius:$n,innerRadius:Gn});return w.jsx(ht,{width:Wn,height:Pn,margin:Vn,defs:Hn,role:En,children:u.map(function(Ae,Xn){return re[Ae]!==void 0?re[Ae]:typeof Ae=="function"?w.jsx(O.Fragment,{children:O.createElement(Ae,Un)},Xn):null})})},Ar=function(e){var n=e.isInteractive,t=n===void 0?x.isInteractive:n,a=e.animate,o=a===void 0?x.animate:a,s=e.motionConfig,i=s===void 0?x.motionConfig:s,r=e.theme,d=e.renderWrapper,c=ln(e,mr);return w.jsx(ct,{animate:o,isInteractive:t,motionConfig:i,renderWrapper:d,theme:r,children:w.jsx(br,ee({isInteractive:t},c))})},Lr=function(e){return w.jsx(dt,{children:function(n){var t=n.width,a=n.height;return w.jsx(Ar,ee({width:t,height:a},e))}})};export{Lr as _};
