import{r as t,z as E,f as M,j as s,e as T}from"./index-CikQMIxq.js";import{H as k,F as z}from"./Header-COkbdkx2.js";import{L as B}from"./loadingButton-B7aR1mEr.js";import{u as D}from"./useApi-ClS9LJ9f.js";import{M as F}from"./modal-DegES_uk.js";import{B as H}from"./backgroundWithHome-DF5cP9wa.js";import{w as o,T as p,z as x}from"./TextField-DBM3Kdjt.js";import{C as N}from"./CircularProgress-D0-LNmPF.js";import{A as f}from"./Alert-CrxQtUyx.js";import"./index.esm-e5pvfPBO.js";import"./IconButton-D4HzaP6M.js";import"./index-BlvasmQu.js";import"./useSlot-perXj4Tc.js";const L=()=>{const[r,h]=t.useState(""),[a,g]=t.useState(""),[n,w]=t.useState(""),[i,b]=t.useState(""),[j,l]=t.useState(!1),[c]=E(),S=c.get("email"),P=c.get("token"),{loading:d,data:v,callApi:y}=D(),u=M(),C=()=>{l(!1),u("/")},A=()=>{u("/signin")},R=async e=>{if(e.preventDefault(),r!==a){b("Passwords do not match.");return}const W={email:S,token:P,newPassword:r},m=await y(T.RESET_PASSWORD,"PATCH",W);m&&m.message==="Password reset successful"&&(l(!0),w(v.message))};return s.jsxs("div",{children:[s.jsx(k,{}),s.jsx(o,{sx:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"30px",mx:2},children:s.jsxs(o,{sx:{p:3,textAlign:"start",backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:10,borderRadius:2,backdropFilter:"blur(10px)",filter:"blur(0.3px)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[s.jsx(p,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#15131D"},children:"Reset Password"}),s.jsx(p,{variant:"subtitle1",sx:{mb:3,color:"text.secondary"},children:"Enter your new password below."}),s.jsxs("form",{onSubmit:R,children:[s.jsx(x,{label:"New Password",type:"password",fullWidth:!0,variant:"outlined",value:r,onChange:e=>h(e.target.value),required:!0,sx:{mb:2}}),s.jsx(x,{label:"Confirm New Password",type:"password",fullWidth:!0,variant:"outlined",value:a,onChange:e=>g(e.target.value),required:!0,sx:{mb:3}}),s.jsx(B,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",isLoading:d,sx:{py:1.5,fontSize:"1rem",fontWeight:"bold",textTransform:"none"},children:d?s.jsx(N,{size:24}):"Reset Password"})]}),i&&s.jsx(f,{severity:"error",sx:{mt:3},children:i}),n&&s.jsx(f,{severity:"success",sx:{mt:3},children:n})]})}),s.jsx(z,{}),s.jsx(F,{open:j,onClose:C,title:"Password Reset Successful",onConfirm:A,children:s.jsx(o,{children:s.jsx("p",{children:"Password reset successful. Do you want to login?"})})})]})},$=H(L);export{$ as default};
