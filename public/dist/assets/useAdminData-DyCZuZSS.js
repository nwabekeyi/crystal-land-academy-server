import{r as a,a as A,e as r,S as H,P,T as C,Q,U as q,V as K}from"./index-DA7CL_TF.js";import{u as n}from"./useApi-ml5YL047.js";import{u as W}from"./MenuItem-BCUhhSjD.js";const ae=()=>{const[X,z]=a.useState([]),[Z,N]=a.useState([]),s=W(),J=A(e=>e.adminData.academicYears)||[],R=A(e=>e.adminData.currentAcademicYear),U=A(e=>e.adminData.classLevels)||[],F=A(e=>e.adminData.subjects)||[],{loading:O,data:t,error:_,callApi:b}=n(),{loading:x,data:c,error:I,callApi:p}=n(),{loading:M,data:o,error:m,callApi:G}=n(),{loading:V,data:i,error:f,callApi:j}=n(),{loading:B,data:d,error:E,callApi:v}=n(),{loading:D,data:l,error:g,callApi:k}=n(),w=a.useCallback(()=>b(r.STUDENTS,"GET"),[b]),y=a.useCallback(()=>p(r.TEACHERS,"GET"),[p]),S=a.useCallback(()=>G(r.ACADEMIC_YEARS,"GET"),[G]),Y=a.useCallback(()=>j(r.CURRENT_ACADEMIC_YEAR,"GET"),[j]),L=a.useCallback(()=>v(r.CLASS_LEVEL,"GET"),[v]),h=a.useCallback(()=>k(r.SUBJECT,"GET"),[k]);return a.useEffect(()=>{w(),y(),S(),Y(),L(),h()},[w,y,S,Y,L,h]),a.useEffect(()=>{if(t||c){const e=(t==null?void 0:t.data)||[],T=(c==null?void 0:c.data)||[];z(u=>JSON.stringify(u)!==JSON.stringify(e)?e:u),N(u=>JSON.stringify(u)!==JSON.stringify(T)?T:u),s(H({students:e,teachers:T}))}},[t,c,s]),a.useEffect(()=>{if(o){const e=(o==null?void 0:o.data)||[];s(P(e))}m&&s(C(m.message||"Failed to fetch academic years."))},[o,m,s]),a.useEffect(()=>{if(i){const e=(i==null?void 0:i.data)||null;s(Q(e))}f&&s(C(f.message||"Failed to fetch current academic year."))},[i,f,s]),a.useEffect(()=>{if(d){const e=(d==null?void 0:d.data)||[];s(q(e))}E&&s(C(E.message||"Failed to fetch class levels."))},[d,E,s]),a.useEffect(()=>{if(l){const e=(l==null?void 0:l.data)||[];s(K(e))}g&&s(C(g.message||"Failed to fetch subjects."))},[l,g,s]),{usersData:{students:(t==null?void 0:t.data)||[],teachers:(c==null?void 0:c.data)||[]},academicYears:J,currentAcademicYear:R,classLevels:U,subjects:F,loading:O||x||M||V||B||D,error:_||I||m||f||E||g,refetchAcademicYears:S,refetchCurrentYear:Y,refetchClassLevels:L,refetchSubjects:h}};export{ae as u};
