import{r as t,e as l,j as e}from"./index-CLJpG2dk.js";import{t as T}from"./modal-XFOrivt9.js";import{H as w}from"./Header-C2Z8qgVI.js";import{T as M}from"./table-DRJIH1ed.js";import{u as j}from"./useApi-D9NfFDCx.js";import{w as k}from"./dasboardPagesContainer-Agv8G4ht.js";import{j as G,w as s,z as a,y as A,T as m}from"./TextField-DnFjd7Bb.js";import"./IconButton-CYiLhvVe.js";import"./index-BCSm3FX-.js";import"./MenuItem-BK6LVNsx.js";import"./confirmationModal-DA-HYkBj.js";import"./CircularProgress-Dt1gNg0v.js";import"./index-5Q6o5QFk.js";import"./loadingButton-BxFe2z54.js";import"./useSlot-D-PIrMBn.js";import"./useMediaQuery-BwTWbx11.js";const N=()=>{const I=G(),o=T(I.palette.mode),[u,c]=t.useState(""),[d,p]=t.useState(""),[b,g]=t.useState(""),[x,h]=t.useState(""),{data:y,loading:E,error:f,callApi:i}=j(),{callApi:C,loading:S,error:n}=j();t.useEffect(()=>{i(l.ENQUIRIES,"GET")},[i]);const v=async r=>{r.preventDefault();const q={name:u,email:d,date:b,message:x};await C(l.ENQUIRIES,"POST",q),n||(i(l.ENQUIRIES,"GET"),c(""),p(""),g(""),h(""))},D={columns:[{id:"id",label:"ID",flex:.5},{id:"name",label:"Name",flex:1},{id:"email",label:"Email",flex:1},{id:"date",label:"Date",flex:1},{id:"message",label:"Message",flex:2}],tableHeader:"Support Inquiries",data:y||[],sortBy:"id",sortDirection:"asc",page:0,rowsPerPage:5,onRowClick:r=>console.log("Row clicked:",r)};return e.jsxs(s,{children:[e.jsx(w,{title:"Support and Customer Care",subtitle:"Submit your inquiries and concerns"}),e.jsxs(s,{component:"form",onSubmit:v,sx:{mt:3,mb:3},children:[e.jsx(a,{label:"Name",value:u,onChange:r=>c(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Email",type:"email",value:d,onChange:r=>p(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Date",type:"date",value:b,onChange:r=>g(r.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(a,{label:"Message",value:x,onChange:r=>h(r.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},disabled:S,children:S?"Submitting...":"Submit Inquiry"}),n&&e.jsx(m,{color:"error",children:n})]}),E?e.jsx(m,{children:"Loading inquiries..."}):f?e.jsx(m,{color:"error",children:f}):e.jsx(s,{height:"75vh",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:o.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:o.primary[400]},"& .MuiDataGrid-footerContainer":{borderTop:"none",backgroundColor:o.blueAccent[700]},"& .MuiCheckbox-root":{color:`${o.greenAccent[200]} !important`}},children:e.jsx(M,{...D})})]})},Z=k(N);export{Z as default};
