import{j as e,r as u,i as Se,e as re,a as pt}from"./index-NZEBDXxQ.js";import{r as Z,t as v,M as ie}from"./modal-BenOPica.js";import{c as ae,a as ft,g as gt,u as jt,_ as _e,ad as Je,ae as yt,ao as vt,X as bt,o as St,b as N,s as le,d as oe,h as Ye,e as At,ap as Ct,aq as kt,q as ee,j as b,v as a,T as o,w as ce,y as F,x as Mt,Z as wt,$ as Dt,a0 as Et}from"./TextField-DNvuwNON.js";import{H as Rt}from"./Header-CPkEzEIh.js";import{G as Ae,L as de,a as ue,d as Ce,C as me,b as xe,A as Ge}from"./index-D2Mru0Qa.js";import{_ as Nt}from"./nivo-pie.es-D5lo4AMI.js";import{p as qe}from"./nivo-line.es-Bu5yFriQ.js";import{f as Pt,F as ke,m as Me,a as we,b as Xe,c as De}from"./main-C7k3Lhm7.js";import{I as Ee}from"./IconButton-DuKgt8V1.js";import{X as Ue}from"./nivo-bar-C_wfgwo-.js";import{u as Tt}from"./useAdminData-VtEQlt7d.js";import{u as he}from"./useApi-BVJLWYD8.js";import{u as He}from"./useMediaQuery-BPlChv1n.js";import{w as Ft}from"./dasboardPagesContainer-BdOZP967.js";import{C as Ke,A as je}from"./confirmationModal-PWKEq3Qt.js";import{M as ye}from"./MenuItem-BvkakO0W.js";import"./index-C379hBbb.js";import"./loadingButton-B5aAP40a.js";import"./CircularProgress-BwrrL3V1.js";import"./useSlot-wOToS5I0.js";import"./nivo-legends.es-BeoXkz0Q.js";import"./index-IeN1_Ctx.js";import"./_baseIsEqual-CvucnIIP.js";import"./_baseForOwn-0VGRkzH_.js";import"./_baseSlice-z0Zd1-Ev.js";const Lt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},zt=ae(e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),Ot=ae(e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function $t(n){return gt("MuiRating",n)}const Q=ft("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),Wt=["value"],It=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Vt(n){const t=n.toString().split(".")[1];return t?t.length:0}function ve(n,t){if(n==null)return n;const s=Math.round(n/t)*t;return Number(s.toFixed(Vt(t)))}const Ht=n=>{const{classes:t,size:s,readOnly:r,disabled:i,emptyValueFocused:c,focusVisible:l}=n,d={root:["root",`size${Ye(s)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[c&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return At(d,$t,t)},Bt=le("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[{[`& .${Q.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${Ye(s.size)}`],s.readOnly&&t.readOnly]}})(({theme:n,ownerState:t})=>N({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Q.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Q.focusVisible} .${Q.iconActive}`]:{outline:"1px solid #999"},[`& .${Q.visuallyHidden}`]:Lt},t.size==="small"&&{fontSize:n.typography.pxToRem(18)},t.size==="large"&&{fontSize:n.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),Qe=le("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},t)=>[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:n})=>N({cursor:"inherit"},n.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),_t=le("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[t.icon,s.iconEmpty&&t.iconEmpty,s.iconFilled&&t.iconFilled,s.iconHover&&t.iconHover,s.iconFocus&&t.iconFocus,s.iconActive&&t.iconActive]}})(({theme:n,ownerState:t})=>N({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(n.vars||n).palette.action.disabled})),Jt=le("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Ct(n)&&n!=="iconActive",overridesResolver:(n,t)=>{const{iconActive:s}=n;return[t.decimal,s&&t.iconActive]}})(({iconActive:n})=>N({position:"relative"},n&&{transform:"scale(1.2)"}));function Yt(n){const t=_e(n,Wt);return e.jsx("span",N({},t))}function Be(n){const{classes:t,disabled:s,emptyIcon:r,focus:i,getLabelText:c,highlightSelectedOnly:l,hover:d,icon:m,IconContainerComponent:h,isActive:R,itemValue:y,labelProps:A,name:S,onBlur:E,onChange:k,onClick:w,onFocus:x,readOnly:p,ownerState:f,ratingValue:M,ratingValueRounded:H}=n,B=l?y===M:y<=M,te=y<=d,_=y<=i,pe=y===H,X=Je(),$=e.jsx(_t,{as:h,value:y,className:oe(t.icon,B?t.iconFilled:t.iconEmpty,te&&t.iconHover,_&&t.iconFocus,R&&t.iconActive),ownerState:N({},f,{iconEmpty:!B,iconFilled:B,iconHover:te,iconFocus:_,iconActive:R}),children:r&&!B?r:m});return p?e.jsx("span",N({},A,{children:$})):e.jsxs(u.Fragment,{children:[e.jsxs(Qe,N({ownerState:N({},f,{emptyValueFocused:void 0}),htmlFor:X},A,{children:[$,e.jsx("span",{className:t.visuallyHidden,children:c(y)})]})),e.jsx("input",{className:t.visuallyHidden,onFocus:x,onBlur:E,onChange:k,onClick:w,disabled:s,value:y,id:X,type:"radio",name:S,checked:pe})]})}const Gt=e.jsx(zt,{fontSize:"inherit"}),qt=e.jsx(Ot,{fontSize:"inherit"});function Xt(n){return`${n} Star${n!==1?"s":""}`}const Ut=u.forwardRef(function(t,s){const r=jt({name:"MuiRating",props:t}),{className:i,defaultValue:c=null,disabled:l=!1,emptyIcon:d=qt,emptyLabelText:m="Empty",getLabelText:h=Xt,highlightSelectedOnly:R=!1,icon:y=Gt,IconContainerComponent:A=Yt,max:S=5,name:E,onChange:k,onChangeActive:w,onMouseLeave:x,onMouseMove:p,precision:f=1,readOnly:M=!1,size:H="medium",value:B}=r,te=_e(r,It),_=Je(E),[pe,X]=yt({controlled:B,default:c,name:"Rating"}),$=ve(pe,f),st=vt(),[{hover:L,focus:ne},U]=u.useState({hover:-1,focus:-1});let J=$;L!==-1&&(J=L),ne!==-1&&(J=ne);const{isFocusVisibleRef:$e,onBlur:ot,onFocus:rt,ref:it}=bt(),[at,fe]=u.useState(!1),We=u.useRef(),lt=St(it,We,s),ct=C=>{p&&p(C);const D=We.current,{right:P,left:se,width:Y}=D.getBoundingClientRect();let G;st?G=(P-C.clientX)/Y:G=(C.clientX-se)/Y;let z=ve(S*G+f/2,f);z=kt(z,f,S),U(W=>W.hover===z&&W.focus===z?W:{hover:z,focus:z}),fe(!1),w&&L!==z&&w(C,z)},dt=C=>{x&&x(C);const D=-1;U({hover:D,focus:D}),w&&L!==D&&w(C,D)},Ie=C=>{let D=C.target.value===""?null:parseFloat(C.target.value);L!==-1&&(D=L),X(D),k&&k(C,D)},ut=C=>{C.clientX===0&&C.clientY===0||(U({hover:-1,focus:-1}),X(null),k&&parseFloat(C.target.value)===$&&k(C,null))},mt=C=>{rt(C),$e.current===!0&&fe(!0);const D=parseFloat(C.target.value);U(P=>({hover:P.hover,focus:D}))},xt=C=>{if(L!==-1)return;ot(C),$e.current===!1&&fe(!1);const D=-1;U(P=>({hover:P.hover,focus:D}))},[ht,Ve]=u.useState(!1),K=N({},r,{defaultValue:c,disabled:l,emptyIcon:d,emptyLabelText:m,emptyValueFocused:ht,focusVisible:at,getLabelText:h,icon:y,IconContainerComponent:A,max:S,precision:f,readOnly:M,size:H}),O=Ht(K);return e.jsxs(Bt,N({ref:lt,onMouseMove:ct,onMouseLeave:dt,className:oe(O.root,i,M&&"MuiRating-readOnly"),ownerState:K,role:M?"img":null,"aria-label":M?h(J):null},te,{children:[Array.from(new Array(S)).map((C,D)=>{const P=D+1,se={classes:O,disabled:l,emptyIcon:d,focus:ne,getLabelText:h,highlightSelectedOnly:R,hover:L,icon:y,IconContainerComponent:A,name:_,onBlur:xt,onChange:Ie,onClick:ut,onFocus:mt,ratingValue:J,ratingValueRounded:$,readOnly:M,ownerState:K},Y=P===Math.ceil(J)&&(L!==-1||ne!==-1);if(f<1){const G=Array.from(new Array(1/f));return e.jsx(Jt,{className:oe(O.decimal,Y&&O.iconActive),ownerState:K,iconActive:Y,children:G.map((z,W)=>{const ge=ve(P-1+(W+1)*f,f);return e.jsx(Be,N({},se,{isActive:!1,itemValue:ge,labelProps:{style:G.length-1===W?{}:{width:ge===J?`${(W+1)*f*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ge)})},P)}return e.jsx(Be,N({},se,{isActive:Y,itemValue:P}),P)}),!M&&!l&&e.jsxs(Qe,{className:oe(O.label,O.labelEmptyValue),ownerState:K,children:[e.jsx("input",{className:O.visuallyHidden,value:"",id:`${_}-empty`,type:"radio",name:_,checked:$==null,onFocus:()=>Ve(!0),onBlur:()=>Ve(!1),onChange:Ie}),e.jsx("span",{className:O.visuallyHidden,children:m})]})]}))}),Re=ae(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ne=ae(e.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Pe={},Kt=ee;Object.defineProperty(Pe,"__esModule",{value:!0});var Ze=Pe.default=void 0,Qt=Kt(Z()),Zt=e;Ze=Pe.default=(0,Qt.default)((0,Zt.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z"}),"DownloadOutlined");var Te={},en=ee;Object.defineProperty(Te,"__esModule",{value:!0});var et=Te.default=void 0,tn=en(Z()),nn=e;et=Te.default=(0,tn.default)((0,nn.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var Fe={},sn=ee;Object.defineProperty(Fe,"__esModule",{value:!0});var tt=Fe.default=void 0,on=sn(Z()),rn=e;tt=Fe.default=(0,on.default)((0,rn.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline");var Le={},an=ee;Object.defineProperty(Le,"__esModule",{value:!0});var nt=Le.default=void 0,ln=an(Z()),cn=e;nt=Le.default=(0,ln.default)((0,cn.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd");const g=({children:n,noFlex:t,height:s,moreStyles:r={}})=>{const i=b(),c=v(i.palette.mode);return e.jsxs(a,{backgroundColor:c.primary[400],p:"20px",borderRadius:"10px",textAlign:"center",display:!t&&"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",sx:{height:s||"100%",boxShadow:i.palette.mode==="light"?"0px 2px 10px rgba(0, 0, 0, 0.1)":"0px 4px 12px rgba(0, 0, 0, 0.3)",...r},children:[n," "]})},ze=({children:n,...t})=>e.jsxs(Ae,{container:!0,spacing:2,...t,children:[n," "]}),T=({children:n})=>e.jsxs(Ae,{container:!0,item:!0,xs:12,spacing:2,children:[n," "]}),j=({children:n,...t})=>e.jsxs(Ae,{item:!0,xs:12,...t,children:[n," "]}),dn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"Kindergarten",label:"Kindergarten",value:30},{id:"Nursery 1",label:"Nursery 1",value:28},{id:"Nursery 2",label:"Nursery 2",value:27},{id:"Primary 1",label:"Primary 1",value:35},{id:"Primary 2",label:"Primary 2",value:34},{id:"Primary 3",label:"Primary 3",value:33},{id:"Primary 4",label:"Primary 4",value:32},{id:"Primary 5",label:"Primary 5",value:31},{id:"Primary 6",label:"Primary 6",value:30},{id:"JSS 1",label:"JSS 1",value:36},{id:"JSS 2",label:"JSS 2",value:35},{id:"JSS 3",label:"JSS 3",value:34},{id:"SS 1",label:"SS 1",value:33},{id:"SS 2",label:"SS 2",value:32},{id:"SS 3",label:"SS 3",value:31}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(Nt,{data:s,theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100]}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100]}}},legends:{text:{fill:t.grey[100]}}},margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:t.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,arcLabelsRadiusOffset:.4,arcLabelsSkipAngle:7,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})})},un=({isCustomLineColors:n=!1,isDashboard:t=!1})=>{const s=b(),r=u.useMemo(()=>v(s.palette.mode),[s.palette.mode]),i=l=>`hsl(${l*360/2%360}, 70%, 60%)`,c=[{id:"Primary",color:n?i(0):r.primary[500],data:[{x:"Sep",y:5e4},{x:"Oct",y:52e3},{x:"Nov",y:48e3},{x:"Dec",y:45e3},{x:"Jan",y:51e3},{x:"Feb",y:53e3},{x:"Mar",y:55e3},{x:"Apr",y:54e3},{x:"May",y:52e3},{x:"Jun",y:5e4}]},{id:"Secondary",color:n?i(1):r.blueAccent[500],data:[{x:"Sep",y:7e4},{x:"Oct",y:72e3},{x:"Nov",y:68e3},{x:"Dec",y:65e3},{x:"Jan",y:71e3},{x:"Feb",y:73e3},{x:"Mar",y:75e3},{x:"Apr",y:74e3},{x:"May",y:72e3},{x:"Jun",y:7e4}]}];return!c||c.length===0?e.jsx(a,{children:"Loading data..."}):e.jsxs(a,{width:"98%",height:t?"300px":"400px",children:[" ",e.jsx(qe,{data:c,theme:{axis:{domain:{line:{stroke:r.grey[100]}},legend:{text:{fill:r.grey[100],fontSize:8}},ticks:{line:{stroke:r.grey[100],strokeWidth:1},text:{fill:r.grey[100],fontSize:8}}},legends:{text:{fill:r.grey[100],fontSize:8}},tooltip:{container:{color:r.primary[500]}}},colors:n?{datum:"color"}:{scheme:"nivo"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:5,tickRotation:0,legend:t?void 0:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:t?void 0:"Revenue ($)",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})]})},mn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"1",title:"Math Midterm Exam",start:"2025-07-10T09:00:00",end:"2025-07-10T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Science Club Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1},{id:"4",title:"Parent-Teacher Conference",start:"2025-07-25T10:00:00",end:"2025-07-25T15:00:00",allDay:!1},{id:"5",title:"School Holiday - Summer Break",start:"2025-08-01",end:"2025-08-15",allDay:!0},{id:"6",title:"Drama Club Rehearsal",start:"2025-07-22T16:00:00",end:"2025-07-22T18:00:00",allDay:!1}],[r,i]=u.useState(s),[c,l]=u.useState(!1),[d,m]=u.useState(""),[h,R]=u.useState(null),[y,A]=u.useState(!1);u.useEffect(()=>{const p=JSON.parse(localStorage.getItem("events"))||[];p.length>0&&i([...s,...p])},[]),u.useEffect(()=>{const p=r.filter(f=>!s.some(M=>M.id===f.id));p.length>0&&localStorage.setItem("events",JSON.stringify(p))},[r]);const S=p=>{R(p),l(!0)},E=()=>{if(d&&h){const p={id:`${h.dateStr}-${d}`,title:d,start:h.startStr,end:h.endStr,allDay:h.allDay},f=[...r,p];i(f),l(!1),m("")}},k=()=>{l(!1),m("")},w=p=>{if(window.confirm(`Are you sure you want to delete the event '${p.event.title}'`)){const f=r.filter(M=>M.id!==p.event.id);i(f)}},x=()=>{A(p=>!p)};return e.jsxs(a,{my:"10px",children:[e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"75vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:x,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:y?e.jsx(Re,{}):e.jsx(Ne,{})}),e.jsx(o,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:y?"Hide Events":"Show Events"})]}),y&&e.jsx(o,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),y&&e.jsx(ce,{children:r.length===0?e.jsx(o,{children:"No events available"}):r.map(p=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:p.title,secondary:e.jsx(o,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Pt(p.start,{year:"numeric",month:"short",day:"numeric"})})})},p.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(ke,{height:"75vh",plugins:[Me,we,Xe,De],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:S,eventClick:w,events:r})})]}),e.jsx(ie,{open:c,onClose:k,title:"Add Event",onConfirm:E,children:e.jsx(a,{p:"20px",children:e.jsx(F,{label:"Event Title",fullWidth:!0,value:d,onChange:p=>m(p.target.value),sx:{marginBottom:"20px"}})})})]})},xn=()=>{const n=b(),t=v(n.palette.mode),s=[{class:"Kindergarten",amount:5e3},{class:"Nursery",amount:7e3},{class:"Primary",amount:12e3},{class:"JSS",amount:1e4},{class:"SS",amount:8e3}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(Ue,{data:s,keys:["amount"],indexBy:"class",theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}}},margin:{top:50,right:20,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Class Level",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Outstanding Amount ($)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]}})})},hn=()=>{const n=b(),t=v(n.palette.mode),s=[{subject:"Math",score:85},{subject:"English",score:78},{subject:"Science",score:82},{subject:"History",score:75},{subject:"Civics",score:80}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(Ue,{data:s,keys:["score"],indexBy:"subject",theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}}},margin:{top:50,right:20,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Subject",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Score (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]}})})},pn=()=>{const n=b(),t=v(n.palette.mode),s=[{name:"Mrs. Ada Obi",rating:4.8,subject:"Math"},{name:"Mr. John Eze",rating:4.7,subject:"English"},{name:"Ms. Chioma Nwa",rating:4.6,subject:"Science"},{name:"Mr. Tunde Ayo",rating:4.5,subject:"History"}];return e.jsx(a,{sx:{height:"350px",overflowY:"auto"},children:e.jsx(ce,{children:s.map((r,i)=>e.jsx(de,{sx:{backgroundColor:t.primary[400],mb:1,borderRadius:"4px"},children:e.jsx(ue,{primary:`${r.name} (${r.subject})`,secondary:`Rating: ${r.rating}/5`,sx:{color:t.grey[100]}})},i))})})},fn=()=>{const n=b(),t=v(n.palette.mode),[s,r]=u.useState(!0),[i,c]=u.useState(0),[l,d]=u.useState(0),[m,h]=u.useState(0),[R,y]=u.useState(null),{usersData:A,currentAcademicYear:S,unreadEnquiriesCount:E,loading:k,error:w}=Tt();if(u.useEffect(()=>{var f,M,H;A&&(S||S===null)&&(r(!1),c(((f=A.students)==null?void 0:f.length)||0),d(((M=A.teachers)==null?void 0:M.length)||0),h(((H=S==null?void 0:S.students)==null?void 0:H.length)||0)),w&&y(w.message||"An error occurred while fetching data.")},[A,S,w]),s||k)return e.jsx(Se,{});if(R)return e.jsx(a,{m:"20px",children:e.jsxs(o,{variant:"h4",color:"error",children:["Error: ",R]})});const x={mt:"15px",fontWeight:"bold"};return e.jsxs(a,{m:"20px",children:[e.jsx(o,{variant:"h3",fontWeight:"600",mb:"20px",children:"School Administration Dashboard"}),e.jsxs(ze,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Students"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(et,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${i} students`}),e.jsx(o,{children:"Total students"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Teachers"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(Ce,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${l} teachers`}),e.jsx(o,{children:"Total teachers"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"New Students"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(nt,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${m} students`}),e.jsx(o,{children:"New students this academic year"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Unread Enquiries"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(tt,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:x,children:E}),e.jsx(o,{children:"Total unread enquiries"})]})]})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Revenue Generated"}),e.jsxs(a,{mt:"10px",children:[e.jsx(un,{}),e.jsxs(o,{variant:"body1",textAlign:"center",mt:"10px",children:["Total Revenue: $",122e4.toLocaleString()]})]})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Outstanding Payments"}),e.jsx(a,{mt:"10px",children:e.jsx(xn,{})})]})})]}),e.jsxs(T,{children:[e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Subject Stats"}),e.jsx(a,{mt:"10px",children:e.jsx(hn,{})})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Top Teachers"}),e.jsx(a,{mt:"10px",children:e.jsx(pn,{})})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Class Distribution"}),e.jsx(a,{mt:"10px",children:e.jsx(dn,{})})]})})]}),e.jsx(T,{children:e.jsx(j,{md:12,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"School Activities"}),e.jsx(a,{mt:"10px",children:e.jsx(mn,{})})]})})})]})]})},q=({progress:n=.75,size:t=40})=>{const s=b(),r=v(s.palette.mode),i=n*360,l=(d=>d>=.75?r.greenAccent[400]:d>=.5?r.greenAccent[700]:r.redAccent[700])(n);return e.jsx(a,{sx:{background:`radial-gradient(${r.primary[400]} 55%, transparent 56%),
            conic-gradient(${l} 0deg ${i}deg, ${r.blueAccent[200]} ${i}deg 360deg),
            ${r.primary[400]}`,borderRadius:"50%",width:`${t}px`,height:`${t}px`}})};function I(){return{sessionProgress:66,termAttendance:95,feeStatus:{percentagePaid:80,totalOutstanding:200},nextClass:{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"},missedClasses:[{id:"1",subject:"English",date:"2025-06-10",time:"09:00 AM",location:"Room 5"},{id:"2",subject:"Science",date:"2025-06-12",time:"11:00 AM",location:"Lab 2"}],subjectPerformance:null,allResources:[{title:"Math Textbook",url:"https://example.com/math-textbook.pdf"},{title:"Science Notes",url:"https://example.com/science-notes.pdf"}],formatDateToDDMMYYYY:n=>new Date(n).toLocaleDateString("en-GB"),loading:!1,error:null}}const gn=()=>{const{sessionProgress:n}=I(),t=n;return e.jsxs(a,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Session Progress"}),e.jsx(q,{size:"125",progress:t/100}),e.jsxs(o,{variant:"body2",mt:"10px",children:["Academic year completion: ",t,"%"]})]})},jn=()=>{const{termAttendance:n}=I(),t=n;return e.jsxs(a,{children:[e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Term Attendance"}),e.jsx(q,{size:"125",progress:t/100}),e.jsxs(o,{variant:"body2",mt:"10px",children:["Current term attendance: ",t,"%"]})]})},yn=()=>{const{feeStatus:n}=I(),t=n==null?void 0:n.percentagePaid,s=n==null?void 0:n.totalOutstanding;return e.jsxs(a,{children:[e.jsxs(o,{variant:"h6",fontWeight:"600",mb:"5px",children:["Fee Payment Status (",parseInt(t),"%)"]}),e.jsx(q,{size:"125",progress:t/100}),e.jsxs(o,{variant:"body2",mt:"10px",children:["Outstanding Fees: $",s]})]})},vn=()=>{const n=b(),t=v(n.palette.mode),{nextClass:s}=I(),i=s||{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"};return e.jsxs(a,{textAlign:"center",children:[e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Next Class"}),i?e.jsxs(a,{children:[e.jsx(Ce,{sx:{fontSize:"30px",color:t.blueAccent[400]}}),e.jsx(o,{variant:"h6",children:i.subject}),e.jsx(o,{children:i.date}),e.jsx(o,{children:i.time}),e.jsxs(o,{children:["Location: ",i.location]})]}):e.jsx(o,{children:"No upcoming classes."})]})},bn=()=>{const n=b(),t=v(n.palette.mode),r=[{id:"Mathematics",color:t.blueAccent[500],data:[{x:"Sep",y:85},{x:"Oct",y:88},{x:"Nov",y:90},{x:"Dec",y:87},{x:"Jan",y:92},{x:"Feb",y:89},{x:"Mar",y:94},{x:"Apr",y:91},{x:"May",y:93},{x:"Jun",y:90}]},{id:"English",color:t.greenAccent[500],data:[{x:"Sep",y:78},{x:"Oct",y:80},{x:"Nov",y:82},{x:"Dec",y:79},{x:"Jan",y:85},{x:"Feb",y:83},{x:"Mar",y:87},{x:"Apr",y:84},{x:"May",y:86},{x:"Jun",y:85}]},{id:"Science",color:t.redAccent[500],data:[{x:"Sep",y:80},{x:"Oct",y:83},{x:"Nov",y:85},{x:"Dec",y:82},{x:"Jan",y:88},{x:"Feb",y:86},{x:"Mar",y:90},{x:"Apr",y:87},{x:"May",y:89},{x:"Jun",y:88}]}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(qe,{data:r,theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}},tooltip:{container:{color:t.primary[500]}}},colors:{datum:"color"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:100,stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:5,tickRotation:0,legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:"Score (%)",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},Sn=()=>{const n=b(),t=v(n.palette.mode),{missedClasses:s,formatDateToDDMMYYYY:r}=I(),c=s||[{id:"1",subject:"English",date:"2025-06-10",time:"09:00 AM",location:"Room 5"},{id:"2",subject:"Science",date:"2025-06-12",time:"11:00 AM",location:"Lab 2"}],l=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Missed Classes"}),c.length>0?c.map(d=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:l,textAlign:"left"},children:[e.jsx(o,{variant:"h6",children:d.subject}),e.jsx(o,{children:r?r(d.date):d.date}),e.jsx(o,{children:d.time}),e.jsxs(o,{children:["Location: ",d.location]})]})},d.id)):e.jsx(o,{children:"You attended all classes"})]})},An=()=>{const n=b(),t=v(n.palette.mode),{callApi:s}=he(),[r,i]=u.useState(null);u.useEffect(()=>{(async()=>{try{const h=await s(re.ANNOUNCEMENT,"GET");h&&h.data&&i(h.data)}catch(h){console.error("Error fetching announcements:",h)}})()},[s]);const c=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600],d=r||[{id:"1",title:"End of Term Exams",message:"Exams start on July 1, 2025.",date:"2025-06-20"},{id:"2",title:"Sports Day",message:"Join us on July 15, 2025.",date:"2025-06-18"}];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"}),d.length>0?d.map(m=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:c,textAlign:"left"},children:[e.jsx(o,{variant:"h6",children:m.title}),e.jsx(o,{variant:"body2",children:m.message}),e.jsx(o,{variant:"caption",color:"gray",children:m.date})]})},m.id)):e.jsx(o,{children:"No announcements available"})]})},Cn=()=>{const n=b(),t=v(n.palette.mode),{allResources:s}=I(),i=s||[{title:"Math Textbook",url:"https://example.com/math-textbook.pdf"},{title:"Science Notes",url:"https://example.com/science-notes.pdf"}],c=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Useful Resources"}),i.length>0?i.map((l,d)=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:c,textAlign:"left"},children:[e.jsx(o,{variant:"h6",children:l.title}),e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",children:l.url})]})},d)):e.jsx(o,{children:"No Resources Available"})]})},kn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"1",title:"Math Midterm Exam",start:"2025-07-01T09:00:00",end:"2025-07-01T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Science Club Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1},{id:"4",title:"Parent-Teacher Conference",start:"2025-07-25T10:00:00",end:"2025-07-25T15:00:00",allDay:!1},{id:"5",title:"School Holiday - Summer Break",start:"2025-08-01",end:"2025-08-15",allDay:!0}],[r,i]=u.useState(s),[c,l]=u.useState(!1);u.useEffect(()=>{const m=JSON.parse(localStorage.getItem("events"))||[];m.length>0&&i([...s,...m])},[]);const d=()=>{l(m=>!m)};return e.jsx(a,{my:"10px",children:e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"70vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:d,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:c?e.jsx(Re,{}):e.jsx(Ne,{})}),e.jsx(o,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:c?"Hide Events":"Show Events"})]}),c&&e.jsx(o,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),c&&e.jsx(ce,{children:r.length===0?e.jsx(o,{children:"No events"}):r.map(m=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:m.title,secondary:e.jsx(o,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(m.start).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})})},m.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(ke,{height:"70vh",plugins:[Me,we,De],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!1,selectable:!1,dayMaxEvents:!0,events:r})})]})})},Mn=()=>{const n=b();v(n.palette.mode);const[t,s]=u.useState(!0),[r,i]=u.useState(null),{loading:c,error:l}=I();return u.useEffect(()=>{s(!1)},[c,l]),t||c?e.jsx(Se,{}):r?e.jsx(a,{m:"20px",children:e.jsxs(o,{variant:"h4",color:"error",children:["Error: ",r]})}):e.jsxs(a,{m:"20px",children:[e.jsx(o,{variant:"h3",fontWeight:"600",mb:"20px",children:"Student Dashboard"}),e.jsxs(ze,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(gn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(jn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(yn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{noFlex:!0,children:e.jsx(vn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsxs(g,{height:"350px",noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",mb:"10px",children:"Subject Performance"}),e.jsx(bn,{})]})}),e.jsx(j,{md:4,children:e.jsx(g,{noFlex:!0,children:e.jsx(Sn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(An,{})})}),e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Cn,{})})})]}),e.jsx(T,{children:e.jsx(j,{md:12,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",mb:"10px",children:"School Activities"}),e.jsx(kn,{})]})})})]})]})};function V(){return{termProgress:80,studentAttendance:90,assignmentSubmissionRate:{totalAssignmentRate:85},nextClass:{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"},topStudents:[{firstName:"John",lastName:"Doe",profilePicture:"",performanceScore:95},{firstName:"Jane",lastName:"Smith",profilePicture:"",performanceScore:92},{firstName:"Alice",lastName:"Brown",profilePicture:"",performanceScore:90}],leastActiveStudents:[{firstName:"Mike",lastName:"Wilson",profilePicture:"",activityRate:60},{firstName:"Sarah",lastName:"Davis",profilePicture:"",activityRate:65},{firstName:"Tom",lastName:"Clark",profilePicture:"",activityRate:70}],loading:!1,error:null}}const wn=()=>{const n=b(),t=v(n.palette.mode),{termProgress:s}=V(),r=s;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Term Progress"}),e.jsxs(a,{mt:"25px",children:[e.jsx(q,{size:"125",progress:r/100}),e.jsx(o,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${r}% completed`}),e.jsx(o,{children:"Current term completion"})]})]})},Dn=()=>{const n=b(),t=v(n.palette.mode),{studentAttendance:s}=V(),r=s;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Student Attendance"}),e.jsxs(a,{mt:"25px",children:[e.jsx(q,{size:"125",progress:r/100}),e.jsx(o,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${r}% attendance rate`}),e.jsx(o,{children:"Average student attendance"})]})]})},En=()=>{const n=b(),t=v(n.palette.mode),{assignmentSubmissionRate:s}=V(),r=s==null?void 0:s.totalAssignmentRate;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Assignment Submissions"}),e.jsxs(a,{mt:"25px",children:[e.jsx(q,{size:"125",progress:r/100}),e.jsx(o,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${r}% submission rate`}),e.jsx(o,{children:"Average assignment submission rate"})]})]})},Rn=()=>{const n=b(),t=v(n.palette.mode),{nextClass:s}=V(),i=s||{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"};return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",textAlign:"center",children:"Next Class"}),i?e.jsxs(a,{textAlign:"center",children:[e.jsx(Ce,{sx:{fontSize:"50px",color:t.blueAccent[500]}}),e.jsx(o,{variant:"h6",children:i.subject}),e.jsx(o,{children:i.date}),e.jsx(o,{children:i.time}),e.jsxs(o,{children:["Location: ",i.location]})]}):e.jsx(o,{children:"No upcoming classes."})]})},Nn=()=>{const n=b(),t=v(n.palette.mode),[s,r]=u.useState([]),[i,c]=u.useState(!1),[l,d]=u.useState(!1),[m,h]=u.useState({title:"",start:"",end:"",allDay:!1}),[R,y]=u.useState(null),A=[{id:"1",title:"Math Midterm Exam",start:"2025-07-01T09:00:00",end:"2025-07-01T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Teachers Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1}];u.useEffect(()=>{const x=JSON.parse(localStorage.getItem("events"))||[];r([...A,...x])},[]);const S=x=>{y(x.dateStr),h({title:"",start:x.dateStr,end:x.dateStr,allDay:x.allDay}),d(!0)},E=x=>{if(window.confirm(`Are you sure you want to delete the event "${x.event.title}"?`)){const p=s.filter(f=>f.id!==x.event.id);r(p),localStorage.setItem("events",JSON.stringify(p.filter(f=>!A.some(M=>M.id===f.id))))}},k=()=>{const x=new Date().getTime().toString(),p=[...s,{...m,id:x}];r(p),localStorage.setItem("events",JSON.stringify(p.filter(f=>!A.some(M=>M.id===f.id)))),d(!1),h({title:"",start:"",end:"",allDay:!1})},w=()=>{c(x=>!x)};return e.jsxs(a,{my:"10px",children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Event Calendar"}),e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"70vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:w,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:i?e.jsx(Re,{}):e.jsx(Ne,{})}),e.jsx(o,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:i?"Hide Events":"Show Events"})]}),i&&e.jsx(o,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),i&&e.jsx(ce,{children:s.length===0?e.jsx(o,{children:"No events"}):s.map(x=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:x.title,secondary:e.jsx(o,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(x.start).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})})},x.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(ke,{height:"70vh",plugins:[Me,we,De,Xe],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!0,selectable:!0,select:S,eventClick:E,dayMaxEvents:!0,events:s})})]}),e.jsxs(ie,{open:l,handleClose:()=>d(!1),title:"Add Event",children:[e.jsx(F,{label:"Event Title",value:m.title,onChange:x=>h({...m,title:x.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(F,{label:"Start Date",type:"date",value:m.start,onChange:x=>h({...m,start:x.target.value}),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(F,{label:"End Date",type:"date",value:m.end,onChange:x=>h({...m,end:x.target.value}),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(Mt,{variant:"contained",color:"primary",onClick:k,sx:{mt:2},disabled:!m.title||!m.start,children:"Add Event"})]})]})},Pn=()=>{const n=b(),t=v(n.palette.mode),{callApi:s}=he(),[r,i]=u.useState(null);u.useEffect(()=>{(async()=>{try{const h=await s(re.ANNOUNCEMENT,"GET");h&&h.data&&i(h.data)}catch(h){console.error("Error fetching announcements:",h)}})()},[s]);const c=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600],d=r||[{id:"1",title:"End of Term Exams",message:"Exams start on July 1, 2025.",date:"2025-06-20"},{id:"2",title:"Teachers Meeting",message:"Meeting on July 10, 2025.",date:"2025-06-18"}];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"}),d.length>0?d.map(m=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:c,textAlign:"left"},children:[e.jsx(o,{variant:"h6",children:m.title}),e.jsx(o,{variant:"body2",children:m.message}),e.jsx(o,{variant:"caption",color:"gray",children:m.date})]})},m.id)):e.jsx(o,{children:"No announcements available"})]})},Tn=()=>{const n=b(),t=v(n.palette.mode),{topStudents:s}=V(),i=s||[{firstName:"John",lastName:"Doe",profilePicture:"",performanceScore:95},{firstName:"Jane",lastName:"Smith",profilePicture:"",performanceScore:92},{firstName:"Alice",lastName:"Brown",profilePicture:"",performanceScore:90}],c=n.palette.mode==="light"?t.greenAccent[300]:t.primary[500];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Top Students by Performance"}),i.map((l,d)=>e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:2,backgroundColor:c,p:"15px",borderRadius:"8px",sx:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(Ge,{src:l.profilePicture,alt:`${l.firstName} ${l.lastName}`,sx:{width:50,height:50,mr:2}}),e.jsxs(a,{children:[e.jsx(o,{variant:"h6",color:"white",children:`${l.firstName} ${l.lastName}`}),e.jsx(o,{variant:"body2",color:"white",children:`Performance Score: ${l.performanceScore}%`})]})]},d))]})},Fn=()=>{const n=b(),t=v(n.palette.mode),{leastActiveStudents:s}=V(),i=s||[{firstName:"Mike",lastName:"Wilson",profilePicture:"",activityRate:60},{firstName:"Sarah",lastName:"Davis",profilePicture:"",activityRate:65},{firstName:"Tom",lastName:"Clark",profilePicture:"",activityRate:70}],c=n.palette.mode==="light"?t.greenAccent[300]:t.primary[500];return e.jsxs(a,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Least Active Students"}),i.map((l,d)=>e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:2,backgroundColor:c,p:"15px",borderRadius:"8px",sx:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(Ge,{src:l.profilePicture,alt:`${l.firstName} ${l.lastName}`,sx:{width:50,height:50,mr:2}}),e.jsxs(a,{children:[e.jsx(o,{variant:"h6",color:"white",children:`${l.firstName} ${l.lastName}`}),e.jsx(o,{variant:"body2",color:"white",children:`Activity Rate: ${l.activityRate}%`})]})]},d))]})},Ln=()=>{const n=b();v(n.palette.mode),He(n.breakpoints.down("sm")),He(n.breakpoints.between("sm","md"));const[t,s]=u.useState(!0),[r,i]=u.useState(null),{loading:c,error:l}=V();return u.useEffect(()=>{s(!1)},[c,l]),t||c?e.jsx(Se,{}):r?e.jsx(a,{m:"20px",children:e.jsxs(o,{variant:"h4",color:"error",children:["Error: ",r]})}):e.jsxs(a,{m:"20px",children:[e.jsx(o,{variant:"h3",fontWeight:"600",mb:"20px",children:"Teacher Dashboard"}),e.jsxs(ze,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(wn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(Dn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(En,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(Rn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:e.jsx(Nn,{})})}),e.jsx(j,{md:4,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:e.jsx(Pn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Tn,{})})}),e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Fn,{})})})]})]})]})};var Oe={},zn=ee;Object.defineProperty(Oe,"__esModule",{value:!0});var be=Oe.default=void 0,On=zn(Z()),$n=e;be=Oe.default=(0,On.default)((0,$n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 9h-2V5h2zm0 4h-2v-2h2z"}),"Announcement");const Wn=({openAnnoucementModal:n,setModalOpen:t})=>{const[s,r]=u.useState({title:"",message:"",dueDate:""}),{data:i,loading:c,callApi:l}=he(),[d,m]=u.useState(!1),h=y=>{const{name:A,value:S}=y.target;r(E=>({...E,[A]:S}))},R=async()=>{const{title:y,message:A,dueDate:S}=s,E={title:y,message:A,date:S},k=await l(re.ANNOUNCEMENT,"POST",E);k&&(k!=null&&k.announcement)&&(t(!1),m(!0),r({title:"",message:"",dueDate:""}))};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{open:n,onClose:()=>t(!1),title:"Make Announcement",onConfirm:R,children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(F,{label:"Title",name:"title",value:s.title,onChange:h,fullWidth:!0,required:!0}),e.jsx(F,{label:"Message",name:"message",value:s.message,onChange:h,fullWidth:!0,multiline:!0,rows:4,required:!0}),e.jsx(F,{label:"Due Date",name:"dueDate",type:"date",value:s.dueDate,onChange:h,fullWidth:!0,InputLabelProps:{shrink:!0},required:!0})]})}),e.jsx(Ke,{open:d,isLoading:c,onClose:()=>m(!1),title:"Confirm Announcement Submission",message:i?"Announcement submitted successfully!":"Could not submit announcement."})]})},In=({openFeedbackModal:n,setModalOpen:t})=>{const[s,r]=u.useState(""),[i,c]=u.useState(""),[l,d]=u.useState(""),[m,h]=u.useState(""),{data:R,loading:y,error:A,callApi:S}=he(),[E,k]=u.useState(!1),w=async()=>{const x={name:s,role:i,date:l,comments:m};await S(re.FEEDBACKS,"POST",x),A||(k(!0),r(""),c(""),d(""),h(""))};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{open:n,onClose:()=>t(!1),title:"Send Feedbacks",onConfirm:w,children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(F,{label:"Name",value:s,onChange:x=>r(x.target.value),fullWidth:!0,margin:"normal"}),e.jsxs(wt,{fullWidth:!0,margin:"normal",children:[e.jsx(Dt,{children:"Role"}),e.jsxs(Et,{value:i,onChange:x=>c(x.target.value),children:[e.jsx(ye,{value:"student",children:"Student"}),e.jsx(ye,{value:"instructor",children:"Instructor"}),e.jsx(ye,{value:"worker",children:"Worker"})]})]}),e.jsx(F,{label:"Date",type:"date",value:l,onChange:x=>d(x.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(F,{label:"Comments",value:m,onChange:x=>h(x.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4})]})}),e.jsx(Ke,{open:E,isLoading:y,onClose:()=>k(!1),title:"Feedback confirmantion",message:R?"Feeback submitted successfully!":"Could not submit announcement."})]})},Vn=({home:n})=>{const[t,s]=u.useState(!1),r=b();v(r.palette.mode);const i=pt(d=>d.users.user),[c,l]=u.useState(!1);return e.jsxs(a,{children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(Rt,{home:!0,title:i.firstName,subtitle:"Welcome to your dashboard"}),e.jsxs(a,{sx:{display:"flex"},children:[i.role==="superadmin"&&e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(je,{icon:e.jsx(Ze,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Download Reports"}),e.jsx(je,{icon:e.jsx(be,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Make announcement",onClick:()=>l(!0)}),e.jsx(Wn,{openAnnoucementModal:c,setModalOpen:l})]}),i.role==="student"&&e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(je,{icon:e.jsx(be,{sx:{fontSize:{xs:"16px"}}}),content:"Submit Feedback",onClick:()=>s(!0)}),e.jsx(In,{openFeedbackModal:t,setModalOpen:s})]}),i.role==="teacher"&&e.jsxs(a,{children:[e.jsx(Ut,{sx:{fontSize:{xs:"1em",sm:"1.2em"}},value:i.rating,readOnly:!0,precision:.1}),e.jsxs(o,{variant:"h6",sx:{fontSize:{xs:"0.8em",sm:"1em"}},children:["Rating: ",i.rating]})]})]})]}),i.role==="admin"||i.role==="superadmin"?e.jsx(fn,{user:i}):i.role==="student"?e.jsx(Mn,{user:i}):i.role==="teacher"?e.jsx(Ln,{user:i}):null]})},Hn=Ft(Vn),hs=()=>e.jsx("div",{children:e.jsx(Hn,{home:!0})});export{hs as default};
