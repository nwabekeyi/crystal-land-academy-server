import{r as s,j as t}from"./index-B2VsWHi0.js";import{t as N,M as _}from"./modal-DX3xw_qP.js";import{C as M}from"./accordion-DaSxiCzS.js";import{H as E}from"./Header-BV8z6WDp.js";import{C as I}from"./confirmationModal-B2YGZpqi.js";import{j as $,v as i,T as m,y as v}from"./TextField-D0e7SfFy.js";import{A as k}from"./index-iDew2wve.js";import{M as A}from"./MenuItem-Cvlvye1h.js";import"./IconButton-C4sp_Nok.js";import"./useSlot-87IwQkO8.js";import"./CircularProgress-DYARFY18.js";import"./useApi-D0p11L1B.js";import"./index-CFeojl79.js";import"./loadingButton-Dl_WVHvC.js";const O=[{_id:"tch_1",firstName:"Yusuf",lastName:"Ahmed",role:"Mathematics Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/john_doe.jpg"},{_id:"tch_2",firstName:"Halima",lastName:"Rasheed",role:"English Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/jane_smith.jpg"},{_id:"tch_3",firstName:"Fawaz",lastName:"Razak",role:"Science Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/alice_brown.jpg"}];function V(){const w=$(),u=N(w.palette.mode),[c]=s.useState(O),[r,p]=s.useState(null),[j,d]=s.useState(!1),[a,f]=s.useState({reviewText:"",rating:""}),[C,o]=s.useState(!1),[x,n]=s.useState({error:null,message:null}),y=e=>{p(e),d(!0)},R=()=>{o(!1),n({error:null,message:null})},g=()=>{d(!1),f({reviewText:"",rating:""}),p(null)},h=e=>{const{name:l,value:T}=e.target;f(b=>({...b,[l]:T}))},S=()=>{if(!a.reviewText||!a.rating){n({error:"Please provide both review text and rating",message:null}),o(!0);return}console.log("Submitting review:",{userId:"mock_user_id",teacherId:r==null?void 0:r._id,reviewText:a.reviewText,rating:Number(a.rating)}),n({error:null,message:"Teacher review submitted successfully!"}),o(!0),g()};return t.jsxs(i,{m:"30px",children:[t.jsx(E,{title:"YOUR TEACHERS",subtitle:""}),c.length<1&&t.jsx(m,{children:"You have not been assigned a teacher yet"}),c.map((e,l)=>t.jsx(M,{title:`${e.firstName} ${e.lastName}`,details:t.jsxs(i,{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",children:[t.jsx(k,{src:e.profilePictureUrl,alt:`${e.firstName} ${e.lastName}`,sx:{width:120,height:120,mb:2}}),t.jsxs(i,{children:[t.jsx(m,{variant:"body2",color:u.grey[100],children:e.role}),t.jsx(m,{variant:"body2",color:u.grey[100],mt:"5px",children:e.program})]})]}),actions:[{label:"Review",onClick:()=>y(e)}]},l)),t.jsx(_,{open:j,onClose:g,title:`Review ${r==null?void 0:r.firstName} ${r==null?void 0:r.lastName}`,onConfirm:S,children:t.jsxs(i,{display:"flex",flexDirection:"column",gap:"16px",children:[t.jsx(v,{name:"reviewText",label:"Review",variant:"outlined",multiline:!0,rows:4,value:a.reviewText,onChange:h,required:!0}),t.jsx(v,{name:"rating",label:"Rating",variant:"outlined",select:!0,value:a.rating,onChange:h,required:!0,children:[1,2,3,4,5].map(e=>t.jsx(A,{value:e,children:e},e))})]})}),t.jsx(I,{open:C,onClose:R,isLoading:!1,title:"Teacher Review Confirmation",message:x.message||x.error})]})}export{V as default};
