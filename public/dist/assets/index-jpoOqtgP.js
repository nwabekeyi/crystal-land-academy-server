import{j as e,r as u,a as Se,C as Je,i as Ae,e as oe}from"./index-7kxS6xuY.js";import{r as Z,t as v,M as ie}from"./modal-8XIj_-mB.js";import{c as ae,a as gt,g as jt,u as yt,_ as Ye,ab as Ge,ac as vt,am as bt,X as St,o as At,b as N,s as le,d as re,h as Xe,e as Ct,an as kt,ao as wt,q as ee,j as b,v as a,T as r,w as ce,y as P,x as Mt,Z as Dt,$ as Rt,a0 as Et}from"./TextField-BVW33bTw.js";import{H as Nt}from"./Header-Boc66Z9G.js";import{G as Ce,L as de,a as ue,d as ke,C as me,b as xe,A as qe}from"./index-DDCFwCay.js";import{_ as Ue}from"./nivo-pie.es-AfvOkroK.js";import{p as Ke}from"./nivo-line.es-Cuw4AV4l.js";import{f as Lt,F as we,m as Me,a as De,b as Qe,c as Re}from"./main-BKzMhDXM.js";import{I as Ee}from"./IconButton-B_4GxCzK.js";import{X as Tt}from"./nivo-bar-XtN8Zu__.js";import{u as Pt}from"./useAdminData-BbKqX5Ia.js";import{u as he}from"./useApi-Dfr_qw0I.js";import{u as Be}from"./useMediaQuery-BapuqfV0.js";import{w as Ft}from"./dasboardPagesContainer-BilCEMhk.js";import{C as Ze,A as je}from"./confirmationModal-BnhwkizU.js";import{M as ye}from"./MenuItem-qVplZ4W9.js";import"./index-VhMm4k65.js";import"./loadingButton-_XcfLrSl.js";import"./CircularProgress-Cl7gPhIm.js";import"./crystal-land-log-removebg-DVF-nlbN.js";import"./useSlot-D2Ie9_xW.js";import"./nivo-legends.es-D9_VcmtV.js";import"./_baseIsEqual-CutuCx74.js";import"./_baseForOwn-aXlAg9tG.js";import"./_baseSlice-z0Zd1-Ev.js";const zt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},Ot=ae(e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),$t=ae(e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Wt(n){return jt("MuiRating",n)}const Q=gt("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),It=["value"],Vt=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function Ht(n){const t=n.toString().split(".")[1];return t?t.length:0}function ve(n,t){if(n==null)return n;const s=Math.round(n/t)*t;return Number(s.toFixed(Ht(t)))}const Bt=n=>{const{classes:t,size:s,readOnly:o,disabled:i,emptyValueFocused:l,focusVisible:c}=n,d={root:["root",`size${Xe(s)}`,i&&"disabled",c&&"focusVisible",o&&"readOnly"],label:["label","pristine"],labelEmptyValue:[l&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ct(d,Wt,t)},_t=le("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[{[`& .${Q.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${Xe(s.size)}`],s.readOnly&&t.readOnly]}})(({theme:n,ownerState:t})=>N({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Q.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Q.focusVisible} .${Q.iconActive}`]:{outline:"1px solid #999"},[`& .${Q.visuallyHidden}`]:zt},t.size==="small"&&{fontSize:n.typography.pxToRem(18)},t.size==="large"&&{fontSize:n.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),et=le("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},t)=>[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:n})=>N({cursor:"inherit"},n.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Jt=le("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:s}=n;return[t.icon,s.iconEmpty&&t.iconEmpty,s.iconFilled&&t.iconFilled,s.iconHover&&t.iconHover,s.iconFocus&&t.iconFocus,s.iconActive&&t.iconActive]}})(({theme:n,ownerState:t})=>N({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(n.vars||n).palette.action.disabled})),Yt=le("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>kt(n)&&n!=="iconActive",overridesResolver:(n,t)=>{const{iconActive:s}=n;return[t.decimal,s&&t.iconActive]}})(({iconActive:n})=>N({position:"relative"},n&&{transform:"scale(1.2)"}));function Gt(n){const t=Ye(n,It);return e.jsx("span",N({},t))}function _e(n){const{classes:t,disabled:s,emptyIcon:o,focus:i,getLabelText:l,highlightSelectedOnly:c,hover:d,icon:m,IconContainerComponent:h,isActive:E,itemValue:y,labelProps:A,name:S,onBlur:R,onChange:k,onClick:M,onFocus:x,readOnly:p,ownerState:f,ratingValue:w,ratingValueRounded:H}=n,B=c?y===w:y<=w,te=y<=d,_=y<=i,pe=y===H,q=Ge(),$=e.jsx(Jt,{as:h,value:y,className:re(t.icon,B?t.iconFilled:t.iconEmpty,te&&t.iconHover,_&&t.iconFocus,E&&t.iconActive),ownerState:N({},f,{iconEmpty:!B,iconFilled:B,iconHover:te,iconFocus:_,iconActive:E}),children:o&&!B?o:m});return p?e.jsx("span",N({},A,{children:$})):e.jsxs(u.Fragment,{children:[e.jsxs(et,N({ownerState:N({},f,{emptyValueFocused:void 0}),htmlFor:q},A,{children:[$,e.jsx("span",{className:t.visuallyHidden,children:l(y)})]})),e.jsx("input",{className:t.visuallyHidden,onFocus:x,onBlur:R,onChange:k,onClick:M,disabled:s,value:y,id:q,type:"radio",name:S,checked:pe})]})}const Xt=e.jsx(Ot,{fontSize:"inherit"}),qt=e.jsx($t,{fontSize:"inherit"});function Ut(n){return`${n} Star${n!==1?"s":""}`}const Kt=u.forwardRef(function(t,s){const o=yt({name:"MuiRating",props:t}),{className:i,defaultValue:l=null,disabled:c=!1,emptyIcon:d=qt,emptyLabelText:m="Empty",getLabelText:h=Ut,highlightSelectedOnly:E=!1,icon:y=Xt,IconContainerComponent:A=Gt,max:S=5,name:R,onChange:k,onChangeActive:M,onMouseLeave:x,onMouseMove:p,precision:f=1,readOnly:w=!1,size:H="medium",value:B}=o,te=Ye(o,Vt),_=Ge(R),[pe,q]=vt({controlled:B,default:l,name:"Rating"}),$=ve(pe,f),ot=bt(),[{hover:F,focus:ne},U]=u.useState({hover:-1,focus:-1});let J=$;F!==-1&&(J=F),ne!==-1&&(J=ne);const{isFocusVisibleRef:We,onBlur:it,onFocus:at,ref:lt}=St(),[ct,fe]=u.useState(!1),Ie=u.useRef(),dt=At(lt,Ie,s),ut=C=>{p&&p(C);const D=Ie.current,{right:L,left:se,width:Y}=D.getBoundingClientRect();let G;ot?G=(L-C.clientX)/Y:G=(C.clientX-se)/Y;let z=ve(S*G+f/2,f);z=wt(z,f,S),U(W=>W.hover===z&&W.focus===z?W:{hover:z,focus:z}),fe(!1),M&&F!==z&&M(C,z)},mt=C=>{x&&x(C);const D=-1;U({hover:D,focus:D}),M&&F!==D&&M(C,D)},Ve=C=>{let D=C.target.value===""?null:parseFloat(C.target.value);F!==-1&&(D=F),q(D),k&&k(C,D)},xt=C=>{C.clientX===0&&C.clientY===0||(U({hover:-1,focus:-1}),q(null),k&&parseFloat(C.target.value)===$&&k(C,null))},ht=C=>{at(C),We.current===!0&&fe(!0);const D=parseFloat(C.target.value);U(L=>({hover:L.hover,focus:D}))},pt=C=>{if(F!==-1)return;it(C),We.current===!1&&fe(!1);const D=-1;U(L=>({hover:L.hover,focus:D}))},[ft,He]=u.useState(!1),K=N({},o,{defaultValue:l,disabled:c,emptyIcon:d,emptyLabelText:m,emptyValueFocused:ft,focusVisible:ct,getLabelText:h,icon:y,IconContainerComponent:A,max:S,precision:f,readOnly:w,size:H}),O=Bt(K);return e.jsxs(_t,N({ref:dt,onMouseMove:ut,onMouseLeave:mt,className:re(O.root,i,w&&"MuiRating-readOnly"),ownerState:K,role:w?"img":null,"aria-label":w?h(J):null},te,{children:[Array.from(new Array(S)).map((C,D)=>{const L=D+1,se={classes:O,disabled:c,emptyIcon:d,focus:ne,getLabelText:h,highlightSelectedOnly:E,hover:F,icon:y,IconContainerComponent:A,name:_,onBlur:pt,onChange:Ve,onClick:xt,onFocus:ht,ratingValue:J,ratingValueRounded:$,readOnly:w,ownerState:K},Y=L===Math.ceil(J)&&(F!==-1||ne!==-1);if(f<1){const G=Array.from(new Array(1/f));return e.jsx(Yt,{className:re(O.decimal,Y&&O.iconActive),ownerState:K,iconActive:Y,children:G.map((z,W)=>{const ge=ve(L-1+(W+1)*f,f);return e.jsx(_e,N({},se,{isActive:!1,itemValue:ge,labelProps:{style:G.length-1===W?{}:{width:ge===J?`${(W+1)*f*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ge)})},L)}return e.jsx(_e,N({},se,{isActive:Y,itemValue:L}),L)}),!w&&!c&&e.jsxs(et,{className:re(O.label,O.labelEmptyValue),ownerState:K,children:[e.jsx("input",{className:O.visuallyHidden,value:"",id:`${_}-empty`,type:"radio",name:_,checked:$==null,onFocus:()=>He(!0),onBlur:()=>He(!1),onChange:Ve}),e.jsx("span",{className:O.visuallyHidden,children:m})]})]}))}),Ne=ae(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Le=ae(e.jsx("path",{d:"M3 13h2v-2H3zm0 4h2v-2H3zm0-8h2V7H3zm4 4h14v-2H7zm0 4h14v-2H7zM7 7v2h14V7z"}),"List");var Te={},Qt=ee;Object.defineProperty(Te,"__esModule",{value:!0});var tt=Te.default=void 0,Zt=Qt(Z()),en=e;tt=Te.default=(0,Zt.default)((0,en.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z"}),"DownloadOutlined");var Pe={},tn=ee;Object.defineProperty(Pe,"__esModule",{value:!0});var nt=Pe.default=void 0,nn=tn(Z()),sn=e;nt=Pe.default=(0,nn.default)((0,sn.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var Fe={},rn=ee;Object.defineProperty(Fe,"__esModule",{value:!0});var st=Fe.default=void 0,on=rn(Z()),an=e;st=Fe.default=(0,on.default)((0,an.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline");var ze={},ln=ee;Object.defineProperty(ze,"__esModule",{value:!0});var rt=ze.default=void 0,cn=ln(Z()),dn=e;rt=ze.default=(0,cn.default)((0,dn.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd");const g=({children:n,noFlex:t,height:s,moreStyles:o={}})=>{const i=b(),l=v(i.palette.mode);return e.jsxs(a,{backgroundColor:l.primary[400],p:"20px",borderRadius:"10px",textAlign:"center",display:!t&&"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",sx:{height:s||"100%",boxShadow:i.palette.mode==="light"?"0px 2px 10px rgba(0, 0, 0, 0.1)":"0px 4px 12px rgba(0, 0, 0, 0.3)",...o},children:[n," "]})},Oe=({children:n,...t})=>e.jsxs(Ce,{container:!0,spacing:2,...t,children:[n," "]}),T=({children:n})=>e.jsxs(Ce,{container:!0,item:!0,xs:12,spacing:2,children:[n," "]}),j=({children:n,...t})=>e.jsxs(Ce,{item:!0,xs:12,...t,children:[n," "]}),un=()=>{const n=b(),t=v(n.palette.mode),{classLevels:s}=Se(Je),o=s&&s.length>0?s.map(i=>{var l;return{id:i._id,label:i.name,value:((l=i.students)==null?void 0:l.length)||0}}):[];return e.jsx(a,{children:e.jsx("div",{style:{height:"350px"},children:o.length>0?e.jsx(Ue,{data:o,arcLinkLabel:"label",theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100]}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100]}}},legends:{text:{fill:t.grey[100]}},tooltip:{container:{background:t.primary[400],color:t.grey[100],fontSize:12}}},margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:t.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,arcLabelsRadiusOffset:.4,arcLabelsSkipAngle:7,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},tooltip:({datum:i})=>e.jsxs("div",{style:{background:t.primary[400],color:t.grey[100],padding:"5px 9px",borderRadius:"3px",fontSize:12},children:[i.label,": ",i.value]}),defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}],data:o.map(i=>({id:i.id,label:i.label}))}]}):e.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:e.jsx(r,{color:t.grey[100],children:"No class data available"})})})})},mn=({isCustomLineColors:n=!1,isDashboard:t=!1})=>{const s=b(),o=u.useMemo(()=>v(s.palette.mode),[s.palette.mode]),i=c=>`hsl(${c*360/2%360}, 70%, 60%)`,l=[{id:"Primary",color:n?i(0):o.primary[500],data:[{x:"Sep",y:5e4},{x:"Oct",y:52e3},{x:"Nov",y:48e3},{x:"Dec",y:45e3},{x:"Jan",y:51e3},{x:"Feb",y:53e3},{x:"Mar",y:55e3},{x:"Apr",y:54e3},{x:"May",y:52e3},{x:"Jun",y:5e4}]},{id:"Secondary",color:n?i(1):o.blueAccent[500],data:[{x:"Sep",y:7e4},{x:"Oct",y:72e3},{x:"Nov",y:68e3},{x:"Dec",y:65e3},{x:"Jan",y:71e3},{x:"Feb",y:73e3},{x:"Mar",y:75e3},{x:"Apr",y:74e3},{x:"May",y:72e3},{x:"Jun",y:7e4}]}];return!l||l.length===0?e.jsx(a,{children:"Loading data..."}):e.jsxs(a,{width:"98%",height:t?"300px":"400px",children:[" ",e.jsx(Ke,{data:l,theme:{axis:{domain:{line:{stroke:o.grey[100]}},legend:{text:{fill:o.grey[100],fontSize:8}},ticks:{line:{stroke:o.grey[100],strokeWidth:1},text:{fill:o.grey[100],fontSize:8}}},legends:{text:{fill:o.grey[100],fontSize:8}},tooltip:{container:{color:o.primary[500]}}},colors:n?{datum:"color"}:{scheme:"nivo"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:5,tickRotation:0,legend:t?void 0:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:t?void 0:"Revenue ($)",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})]})},xn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"1",title:"Math Midterm Exam",start:"2025-07-10T09:00:00",end:"2025-07-10T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Science Club Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1},{id:"4",title:"Parent-Teacher Conference",start:"2025-07-25T10:00:00",end:"2025-07-25T15:00:00",allDay:!1},{id:"5",title:"School Holiday - Summer Break",start:"2025-08-01",end:"2025-08-15",allDay:!0},{id:"6",title:"Drama Club Rehearsal",start:"2025-07-22T16:00:00",end:"2025-07-22T18:00:00",allDay:!1}],[o,i]=u.useState(s),[l,c]=u.useState(!1),[d,m]=u.useState(""),[h,E]=u.useState(null),[y,A]=u.useState(!1);u.useEffect(()=>{const p=JSON.parse(localStorage.getItem("events"))||[];p.length>0&&i([...s,...p])},[]),u.useEffect(()=>{const p=o.filter(f=>!s.some(w=>w.id===f.id));p.length>0&&localStorage.setItem("events",JSON.stringify(p))},[o]);const S=p=>{E(p),c(!0)},R=()=>{if(d&&h){const p={id:`${h.dateStr}-${d}`,title:d,start:h.startStr,end:h.endStr,allDay:h.allDay},f=[...o,p];i(f),c(!1),m("")}},k=()=>{c(!1),m("")},M=p=>{if(window.confirm(`Are you sure you want to delete the event '${p.event.title}'`)){const f=o.filter(w=>w.id!==p.event.id);i(f)}},x=()=>{A(p=>!p)};return e.jsxs(a,{my:"10px",children:[e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"75vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:x,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:y?e.jsx(Ne,{}):e.jsx(Le,{})}),e.jsx(r,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:y?"Hide Events":"Show Events"})]}),y&&e.jsx(r,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),y&&e.jsx(ce,{children:o.length===0?e.jsx(r,{children:"No events available"}):o.map(p=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:p.title,secondary:e.jsx(r,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Lt(p.start,{year:"numeric",month:"short",day:"numeric"})})})},p.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(we,{height:"75vh",plugins:[Me,De,Qe,Re],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:S,eventClick:M,events:o})})]}),e.jsx(ie,{open:l,onClose:k,title:"Add Event",onConfirm:R,children:e.jsx(a,{p:"20px",children:e.jsx(P,{label:"Event Title",fullWidth:!0,value:d,onChange:p=>m(p.target.value),sx:{marginBottom:"20px"}})})})]})},hn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"Kindergarten",label:"Kindergarten",value:5e3},{id:"Nursery 1",label:"Nursery 1",value:4500},{id:"Nursery 2",label:"Nursery 2",value:4700},{id:"Primary 1",label:"Primary 1",value:6e3},{id:"Primary 2",label:"Primary 2",value:5800},{id:"Primary 3",label:"Primary 3",value:5600},{id:"Primary 4",label:"Primary 4",value:5500},{id:"Primary 5",label:"Primary 5",value:5400},{id:"Primary 6",label:"Primary 6",value:5300},{id:"JSS 1",label:"JSS 1",value:7e3},{id:"JSS 2",label:"JSS 2",value:6800},{id:"JSS 3",label:"JSS 3",value:6600},{id:"SS 1",label:"SS 1",value:7500},{id:"SS 2",label:"SS 2",value:7300},{id:"SS 3",label:"SS 3",value:7200}];return e.jsxs(a,{children:[e.jsx("div",{style:{height:"350px"},children:e.jsx(Ue,{data:s,theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100]}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100]}}},legends:{text:{fill:t.grey[100]}},tooltip:{container:{background:t.primary[400],color:t.grey[100],fontSize:12}}},margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:t.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!0,arcLabelsRadiusOffset:.4,arcLabelsSkipAngle:7,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}],data:s.map(o=>({id:o.id,label:o.label}))}]})}),e.jsx(a,{sx:{mt:2,display:"flex",flexWrap:"wrap",gap:2,justifyContent:"center"},children:s.map(o=>e.jsxs(r,{sx:{color:t.grey[100],fontSize:12,minWidth:120},children:[o.label,": $",o.value.toLocaleString()]},o.id))})]})},pn=()=>{const n=b(),t=v(n.palette.mode),s=[{subject:"Math",score:85},{subject:"English",score:78},{subject:"Science",score:82},{subject:"History",score:75},{subject:"Civics",score:80}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(Tt,{data:s,keys:["score"],indexBy:"subject",theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}}},margin:{top:50,right:20,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Subject",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Score (%)",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]}})})},fn=()=>{const n=b(),t=v(n.palette.mode),{usersData:s}=Se(Je),o=s.teachers&&s.teachers.length>0?s.teachers.map(i=>({name:`${i.firstName} ${i.lastName}`.trim(),subject:i.subject&&i.subject.length>0?i.subject[0].name:"No Subject",rating:i.rating||0})).sort((i,l)=>l.rating-i.rating).slice(0,5):[];return e.jsx(a,{sx:{height:"350px",overflowY:"auto"},children:o.length>0?e.jsx(ce,{children:o.map((i,l)=>e.jsx(de,{sx:{backgroundColor:t.primary[400],mb:1,borderRadius:"4px"},children:e.jsx(ue,{primary:`${i.name} (${i.subject})`,secondary:`Rating: ${i.rating}/5`,sx:{color:t.grey[100]}})},l))}):e.jsx(a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",children:e.jsx(r,{color:t.grey[100],children:"No teachers available"})})})},gn=()=>{const n=b(),t=v(n.palette.mode),[s,o]=u.useState(!0),[i,l]=u.useState(0),[c,d]=u.useState(0),[m,h]=u.useState(0),[E,y]=u.useState(null),{usersData:A,currentAcademicYear:S,unreadEnquiriesCount:R,loading:k,error:M}=Pt();if(u.useEffect(()=>{var f,w,H;A&&(S||S===null)&&(o(!1),l(((f=A.students)==null?void 0:f.length)||0),d(((w=A.teachers)==null?void 0:w.length)||0),h(((H=S==null?void 0:S.students)==null?void 0:H.length)||0)),M&&y(M.message||"An error occurred while fetching data.")},[A,S,M]),s||k)return e.jsx(Ae,{});if(E)return e.jsx(a,{m:"20px",children:e.jsxs(r,{variant:"h4",color:"error",children:["Error: ",E]})});const x={mt:"15px",fontWeight:"bold"};return e.jsxs(a,{m:"20px",children:[e.jsx(r,{variant:"h3",fontWeight:"600",mb:"20px",children:"School Administration Dashboard"}),e.jsxs(Oe,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Students"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(nt,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(r,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${i} students`}),e.jsx(r,{children:"Total students"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Teachers"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(ke,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(r,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${c} teachers`}),e.jsx(r,{children:"Total teachers"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"New Students"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(rt,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(r,{variant:"h4",color:t.blueAccent[200],sx:x,children:`${m} students`}),e.jsx(r,{children:"New students this academic year"})]})]})}),e.jsx(j,{sm:6,md:3,children:e.jsxs(g,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Unread Enquiries"}),e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(st,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(r,{variant:"h4",color:t.blueAccent[200],sx:x,children:R}),e.jsx(r,{children:"Total unread enquiries"})]})]})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Revenue Generated"}),e.jsxs(a,{mt:"10px",children:[e.jsx(mn,{}),e.jsxs(r,{variant:"body1",textAlign:"center",mt:"10px",children:["Total Revenue: $",122e4.toLocaleString()]})]})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Outstanding Payments"}),e.jsx(a,{mt:"10px",children:e.jsx(hn,{})})]})})]}),e.jsxs(T,{children:[e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Subject Stats"}),e.jsx(a,{mt:"10px",children:e.jsx(pn,{})})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Top Teachers"}),e.jsx(a,{mt:"10px",children:e.jsx(fn,{})})]})}),e.jsx(j,{md:4,children:e.jsxs(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Class Distribution"}),e.jsx(a,{mt:"10px",children:e.jsx(un,{})})]})})]}),e.jsx(T,{children:e.jsx(j,{md:12,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"School Activities"}),e.jsx(a,{mt:"10px",children:e.jsx(xn,{})})]})})})]})]})},X=({progress:n=.75,size:t=40})=>{const s=b(),o=v(s.palette.mode),i=n*360,c=(d=>d>=.75?o.greenAccent[400]:d>=.5?o.greenAccent[700]:o.redAccent[700])(n);return e.jsx(a,{sx:{background:`radial-gradient(${o.primary[400]} 55%, transparent 56%),
            conic-gradient(${c} 0deg ${i}deg, ${o.blueAccent[200]} ${i}deg 360deg),
            ${o.primary[400]}`,borderRadius:"50%",width:`${t}px`,height:`${t}px`}})};function I(){return{sessionProgress:66,termAttendance:95,feeStatus:{percentagePaid:80,totalOutstanding:200},nextClass:{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"},missedClasses:[{id:"1",subject:"English",date:"2025-06-10",time:"09:00 AM",location:"Room 5"},{id:"2",subject:"Science",date:"2025-06-12",time:"11:00 AM",location:"Lab 2"}],subjectPerformance:null,allResources:[{title:"Math Textbook",url:"https://example.com/math-textbook.pdf"},{title:"Science Notes",url:"https://example.com/science-notes.pdf"}],formatDateToDDMMYYYY:n=>new Date(n).toLocaleDateString("en-GB"),loading:!1,error:null}}const jn=()=>{const{sessionProgress:n}=I(),t=n;return e.jsxs(a,{children:[e.jsx(r,{variant:"h6",fontWeight:"600",mb:"5px",children:"Session Progress"}),e.jsx(X,{size:"125",progress:t/100}),e.jsxs(r,{variant:"body2",mt:"10px",children:["Academic year completion: ",t,"%"]})]})},yn=()=>{const{termAttendance:n}=I(),t=n;return e.jsxs(a,{children:[e.jsx(r,{variant:"h6",fontWeight:"600",mb:"5px",children:"Term Attendance"}),e.jsx(X,{size:"125",progress:t/100}),e.jsxs(r,{variant:"body2",mt:"10px",children:["Current term attendance: ",t,"%"]})]})},vn=()=>{const{feeStatus:n}=I(),t=n==null?void 0:n.percentagePaid,s=n==null?void 0:n.totalOutstanding;return e.jsxs(a,{children:[e.jsxs(r,{variant:"h6",fontWeight:"600",mb:"5px",children:["Fee Payment Status (",parseInt(t),"%)"]}),e.jsx(X,{size:"125",progress:t/100}),e.jsxs(r,{variant:"body2",mt:"10px",children:["Outstanding Fees: $",s]})]})},bn=()=>{const n=b(),t=v(n.palette.mode),{nextClass:s}=I(),i=s||{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"};return e.jsxs(a,{textAlign:"center",children:[e.jsx(r,{variant:"h6",fontWeight:"600",mb:"5px",children:"Next Class"}),i?e.jsxs(a,{children:[e.jsx(ke,{sx:{fontSize:"30px",color:t.blueAccent[400]}}),e.jsx(r,{variant:"h6",children:i.subject}),e.jsx(r,{children:i.date}),e.jsx(r,{children:i.time}),e.jsxs(r,{children:["Location: ",i.location]})]}):e.jsx(r,{children:"No upcoming classes."})]})},Sn=()=>{const n=b(),t=v(n.palette.mode),o=[{id:"Mathematics",color:t.blueAccent[500],data:[{x:"Sep",y:85},{x:"Oct",y:88},{x:"Nov",y:90},{x:"Dec",y:87},{x:"Jan",y:92},{x:"Feb",y:89},{x:"Mar",y:94},{x:"Apr",y:91},{x:"May",y:93},{x:"Jun",y:90}]},{id:"English",color:t.greenAccent[500],data:[{x:"Sep",y:78},{x:"Oct",y:80},{x:"Nov",y:82},{x:"Dec",y:79},{x:"Jan",y:85},{x:"Feb",y:83},{x:"Mar",y:87},{x:"Apr",y:84},{x:"May",y:86},{x:"Jun",y:85}]},{id:"Science",color:t.redAccent[500],data:[{x:"Sep",y:80},{x:"Oct",y:83},{x:"Nov",y:85},{x:"Dec",y:82},{x:"Jan",y:88},{x:"Feb",y:86},{x:"Mar",y:90},{x:"Apr",y:87},{x:"May",y:89},{x:"Jun",y:88}]}];return e.jsx("div",{style:{height:"350px"},children:e.jsx(Ke,{data:o,theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}},tooltip:{container:{color:t.primary[500]}}},colors:{datum:"color"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:100,stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:5,tickRotation:0,legend:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:"Score (%)",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},An=()=>{const n=b(),t=v(n.palette.mode),{missedClasses:s,formatDateToDDMMYYYY:o}=I(),l=s||[{id:"1",subject:"English",date:"2025-06-10",time:"09:00 AM",location:"Room 5"},{id:"2",subject:"Science",date:"2025-06-12",time:"11:00 AM",location:"Lab 2"}],c=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Missed Classes"}),l.length>0?l.map(d=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:c,textAlign:"left"},children:[e.jsx(r,{variant:"h6",children:d.subject}),e.jsx(r,{children:o?o(d.date):d.date}),e.jsx(r,{children:d.time}),e.jsxs(r,{children:["Location: ",d.location]})]})},d.id)):e.jsx(r,{children:"You attended all classes"})]})},Cn=()=>{const n=b(),t=v(n.palette.mode),{callApi:s}=he(),[o,i]=u.useState(null);u.useEffect(()=>{(async()=>{try{const h=await s(oe.ANNOUNCEMENT,"GET");h&&h.data&&i(h.data)}catch(h){console.error("Error fetching announcements:",h)}})()},[s]);const l=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600],d=o||[{id:"1",title:"End of Term Exams",message:"Exams start on July 1, 2025.",date:"2025-06-20"},{id:"2",title:"Sports Day",message:"Join us on July 15, 2025.",date:"2025-06-18"}];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"}),d.length>0?d.map(m=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:l,textAlign:"left"},children:[e.jsx(r,{variant:"h6",children:m.title}),e.jsx(r,{variant:"body2",children:m.message}),e.jsx(r,{variant:"caption",color:"gray",children:m.date})]})},m.id)):e.jsx(r,{children:"No announcements available"})]})},kn=()=>{const n=b(),t=v(n.palette.mode),{allResources:s}=I(),i=s||[{title:"Math Textbook",url:"https://example.com/math-textbook.pdf"},{title:"Science Notes",url:"https://example.com/science-notes.pdf"}],l=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Useful Resources"}),i.length>0?i.map((c,d)=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:l,textAlign:"left"},children:[e.jsx(r,{variant:"h6",children:c.title}),e.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",children:c.url})]})},d)):e.jsx(r,{children:"No Resources Available"})]})},wn=()=>{const n=b(),t=v(n.palette.mode),s=[{id:"1",title:"Math Midterm Exam",start:"2025-07-01T09:00:00",end:"2025-07-01T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Science Club Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1},{id:"4",title:"Parent-Teacher Conference",start:"2025-07-25T10:00:00",end:"2025-07-25T15:00:00",allDay:!1},{id:"5",title:"School Holiday - Summer Break",start:"2025-08-01",end:"2025-08-15",allDay:!0}],[o,i]=u.useState(s),[l,c]=u.useState(!1);u.useEffect(()=>{const m=JSON.parse(localStorage.getItem("events"))||[];m.length>0&&i([...s,...m])},[]);const d=()=>{c(m=>!m)};return e.jsx(a,{my:"10px",children:e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"70vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:d,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:l?e.jsx(Ne,{}):e.jsx(Le,{})}),e.jsx(r,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:l?"Hide Events":"Show Events"})]}),l&&e.jsx(r,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),l&&e.jsx(ce,{children:o.length===0?e.jsx(r,{children:"No events"}):o.map(m=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:m.title,secondary:e.jsx(r,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(m.start).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})})},m.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(we,{height:"70vh",plugins:[Me,De,Re],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!1,selectable:!1,dayMaxEvents:!0,events:o})})]})})},Mn=()=>{const n=b();v(n.palette.mode);const[t,s]=u.useState(!0),[o,i]=u.useState(null),{loading:l,error:c}=I();return u.useEffect(()=>{s(!1)},[l,c]),t||l?e.jsx(Ae,{}):o?e.jsx(a,{m:"20px",children:e.jsxs(r,{variant:"h4",color:"error",children:["Error: ",o]})}):e.jsxs(a,{m:"20px",children:[e.jsx(r,{variant:"h3",fontWeight:"600",mb:"20px",children:"Student Dashboard"}),e.jsxs(Oe,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(jn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(yn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(vn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{noFlex:!0,children:e.jsx(bn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsxs(g,{height:"350px",noFlex:!0,children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",mb:"10px",children:"Subject Performance"}),e.jsx(Sn,{})]})}),e.jsx(j,{md:4,children:e.jsx(g,{noFlex:!0,children:e.jsx(An,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Cn,{})})}),e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(kn,{})})})]}),e.jsx(T,{children:e.jsx(j,{md:12,children:e.jsxs(g,{noFlex:!0,children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",mb:"10px",children:"School Activities"}),e.jsx(wn,{})]})})})]})]})};function V(){return{termProgress:80,studentAttendance:90,assignmentSubmissionRate:{totalAssignmentRate:85},nextClass:{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"},topStudents:[{firstName:"John",lastName:"Doe",profilePicture:"",performanceScore:95},{firstName:"Jane",lastName:"Smith",profilePicture:"",performanceScore:92},{firstName:"Alice",lastName:"Brown",profilePicture:"",performanceScore:90}],leastActiveStudents:[{firstName:"Mike",lastName:"Wilson",profilePicture:"",activityRate:60},{firstName:"Sarah",lastName:"Davis",profilePicture:"",activityRate:65},{firstName:"Tom",lastName:"Clark",profilePicture:"",activityRate:70}],loading:!1,error:null}}const Dn=()=>{const n=b(),t=v(n.palette.mode),{termProgress:s}=V(),o=s;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Term Progress"}),e.jsxs(a,{mt:"25px",children:[e.jsx(X,{size:"125",progress:o/100}),e.jsx(r,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${o}% completed`}),e.jsx(r,{children:"Current term completion"})]})]})},Rn=()=>{const n=b(),t=v(n.palette.mode),{studentAttendance:s}=V(),o=s;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Student Attendance"}),e.jsxs(a,{mt:"25px",children:[e.jsx(X,{size:"125",progress:o/100}),e.jsx(r,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${o}% attendance rate`}),e.jsx(r,{children:"Average student attendance"})]})]})},En=()=>{const n=b(),t=v(n.palette.mode),{assignmentSubmissionRate:s}=V(),o=s==null?void 0:s.totalAssignmentRate;return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",children:[e.jsx(r,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Assignment Submissions"}),e.jsxs(a,{mt:"25px",children:[e.jsx(X,{size:"125",progress:o/100}),e.jsx(r,{variant:"h5",color:t.blueAccent[500],sx:{mt:"15px"},children:`${o}% submission rate`}),e.jsx(r,{children:"Average assignment submission rate"})]})]})},Nn=()=>{const n=b(),t=v(n.palette.mode),{nextClass:s}=V(),i=s||{subject:"Mathematics",date:"2025-06-23",time:"10:00 AM",location:"Room 12"};return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",textAlign:"center",children:"Next Class"}),i?e.jsxs(a,{textAlign:"center",children:[e.jsx(ke,{sx:{fontSize:"50px",color:t.blueAccent[500]}}),e.jsx(r,{variant:"h6",children:i.subject}),e.jsx(r,{children:i.date}),e.jsx(r,{children:i.time}),e.jsxs(r,{children:["Location: ",i.location]})]}):e.jsx(r,{children:"No upcoming classes."})]})},Ln=()=>{const n=b(),t=v(n.palette.mode),[s,o]=u.useState([]),[i,l]=u.useState(!1),[c,d]=u.useState(!1),[m,h]=u.useState({title:"",start:"",end:"",allDay:!1}),[E,y]=u.useState(null),A=[{id:"1",title:"Math Midterm Exam",start:"2025-07-01T09:00:00",end:"2025-07-01T11:00:00",allDay:!1},{id:"2",title:"School Sports Day",start:"2025-07-15",allDay:!0},{id:"3",title:"Teachers Meeting",start:"2025-07-20T15:00:00",end:"2025-07-20T16:30:00",allDay:!1}];u.useEffect(()=>{const x=JSON.parse(localStorage.getItem("events"))||[];o([...A,...x])},[]);const S=x=>{y(x.dateStr),h({title:"",start:x.dateStr,end:x.dateStr,allDay:x.allDay}),d(!0)},R=x=>{if(window.confirm(`Are you sure you want to delete the event "${x.event.title}"?`)){const p=s.filter(f=>f.id!==x.event.id);o(p),localStorage.setItem("events",JSON.stringify(p.filter(f=>!A.some(w=>w.id===f.id))))}},k=()=>{const x=new Date().getTime().toString(),p=[...s,{...m,id:x}];o(p),localStorage.setItem("events",JSON.stringify(p.filter(f=>!A.some(w=>w.id===f.id)))),d(!1),h({title:"",start:"",end:"",allDay:!1})},M=()=>{l(x=>!x)};return e.jsxs(a,{my:"10px",children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Event Calendar"}),e.jsxs(a,{display:"flex",justifyContent:"center",flexDirection:"column",children:[e.jsxs(a,{flex:"1 1 20%",backgroundColor:t.primary[400],py:"15px",borderRadius:"4px",sx:{width:"100%",height:"70vh",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:[e.jsxs(a,{display:"flex",alignItems:"center",marginBottom:"10px",children:[e.jsx(Ee,{onClick:M,sx:{backgroundColor:t.blueAccent[500],"&:hover":{backgroundColor:t.blueAccent[700]},padding:"10px",borderRadius:"50%"},children:i?e.jsx(Ne,{}):e.jsx(Le,{})}),e.jsx(r,{variant:"h6",sx:{marginLeft:"10px",fontWeight:"800"},children:i?"Hide Events":"Show Events"})]}),i&&e.jsx(r,{variant:"h4",sx:{marginBottom:"10px"},children:"Events"}),i&&e.jsx(ce,{children:s.length===0?e.jsx(r,{children:"No events"}):s.map(x=>e.jsx(de,{sx:{backgroundColor:t.blueAccent[500],margin:"10px 0",borderRadius:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.jsx(ue,{primary:x.title,secondary:e.jsx(r,{sx:{fontSize:"0.7em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:new Date(x.start).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})})})},x.id))})]}),e.jsx(a,{flex:"1 1 100%",sx:{width:"100%"},children:e.jsx(we,{height:"70vh",plugins:[Me,De,Re,Qe],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},initialView:"dayGridMonth",editable:!0,selectable:!0,select:S,eventClick:R,dayMaxEvents:!0,events:s})})]}),e.jsxs(ie,{open:c,handleClose:()=>d(!1),title:"Add Event",children:[e.jsx(P,{label:"Event Title",value:m.title,onChange:x=>h({...m,title:x.target.value}),fullWidth:!0,margin:"normal"}),e.jsx(P,{label:"Start Date",type:"date",value:m.start,onChange:x=>h({...m,start:x.target.value}),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(P,{label:"End Date",type:"date",value:m.end,onChange:x=>h({...m,end:x.target.value}),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(Mt,{variant:"contained",color:"primary",onClick:k,sx:{mt:2},disabled:!m.title||!m.start,children:"Add Event"})]})]})},Tn=()=>{const n=b(),t=v(n.palette.mode),{callApi:s}=he(),[o,i]=u.useState(null);u.useEffect(()=>{(async()=>{try{const h=await s(oe.ANNOUNCEMENT,"GET");h&&h.data&&i(h.data)}catch(h){console.error("Error fetching announcements:",h)}})()},[s]);const l=n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600],d=o||[{id:"1",title:"End of Term Exams",message:"Exams start on July 1, 2025.",date:"2025-06-20"},{id:"2",title:"Teachers Meeting",message:"Meeting on July 10, 2025.",date:"2025-06-18"}];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"}),d.length>0?d.map(m=>e.jsx(me,{sx:{mb:2},children:e.jsxs(xe,{sx:{backgroundColor:l,textAlign:"left"},children:[e.jsx(r,{variant:"h6",children:m.title}),e.jsx(r,{variant:"body2",children:m.message}),e.jsx(r,{variant:"caption",color:"gray",children:m.date})]})},m.id)):e.jsx(r,{children:"No announcements available"})]})},Pn=()=>{const n=b(),t=v(n.palette.mode),{topStudents:s}=V(),i=s||[{firstName:"John",lastName:"Doe",profilePicture:"",performanceScore:95},{firstName:"Jane",lastName:"Smith",profilePicture:"",performanceScore:92},{firstName:"Alice",lastName:"Brown",profilePicture:"",performanceScore:90}],l=n.palette.mode==="light"?t.greenAccent[300]:t.primary[500];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Top Students by Performance"}),i.map((c,d)=>e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:2,backgroundColor:l,p:"15px",borderRadius:"8px",sx:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(qe,{src:c.profilePicture,alt:`${c.firstName} ${c.lastName}`,sx:{width:50,height:50,mr:2}}),e.jsxs(a,{children:[e.jsx(r,{variant:"h6",color:"white",children:`${c.firstName} ${c.lastName}`}),e.jsx(r,{variant:"body2",color:"white",children:`Performance Score: ${c.performanceScore}%`})]})]},d))]})},Fn=()=>{const n=b(),t=v(n.palette.mode),{leastActiveStudents:s}=V(),i=s||[{firstName:"Mike",lastName:"Wilson",profilePicture:"",activityRate:60},{firstName:"Sarah",lastName:"Davis",profilePicture:"",activityRate:65},{firstName:"Tom",lastName:"Clark",profilePicture:"",activityRate:70}],l=n.palette.mode==="light"?t.greenAccent[300]:t.primary[500];return e.jsxs(a,{children:[e.jsx(r,{variant:"h5",fontWeight:"600",mb:"15px",children:"Least Active Students"}),i.map((c,d)=>e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"flex-start",mb:2,backgroundColor:l,p:"15px",borderRadius:"8px",sx:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(qe,{src:c.profilePicture,alt:`${c.firstName} ${c.lastName}`,sx:{width:50,height:50,mr:2}}),e.jsxs(a,{children:[e.jsx(r,{variant:"h6",color:"white",children:`${c.firstName} ${c.lastName}`}),e.jsx(r,{variant:"body2",color:"white",children:`Activity Rate: ${c.activityRate}%`})]})]},d))]})},zn=()=>{const n=b();v(n.palette.mode),Be(n.breakpoints.down("sm")),Be(n.breakpoints.between("sm","md"));const[t,s]=u.useState(!0),[o,i]=u.useState(null),{loading:l,error:c}=V();return u.useEffect(()=>{s(!1)},[l,c]),t||l?e.jsx(Ae,{}):o?e.jsx(a,{m:"20px",children:e.jsxs(r,{variant:"h4",color:"error",children:["Error: ",o]})}):e.jsxs(a,{m:"20px",children:[e.jsx(r,{variant:"h3",fontWeight:"600",mb:"20px",children:"Teacher Dashboard"}),e.jsxs(Oe,{children:[e.jsxs(T,{children:[e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(Dn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(Rn,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(En,{})})}),e.jsx(j,{sm:6,md:3,children:e.jsx(g,{children:e.jsx(Nn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:8,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:e.jsx(Ln,{})})}),e.jsx(j,{md:4,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:e.jsx(Tn,{})})})]}),e.jsxs(T,{children:[e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Pn,{})})}),e.jsx(j,{md:6,children:e.jsx(g,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(Fn,{})})})]})]})]})};var $e={},On=ee;Object.defineProperty($e,"__esModule",{value:!0});var be=$e.default=void 0,$n=On(Z()),Wn=e;be=$e.default=(0,$n.default)((0,Wn.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 9h-2V5h2zm0 4h-2v-2h2z"}),"Announcement");const In=({openAnnoucementModal:n,setModalOpen:t})=>{const[s,o]=u.useState({title:"",message:"",dueDate:""}),{data:i,loading:l,callApi:c}=he(),[d,m]=u.useState(!1),h=y=>{const{name:A,value:S}=y.target;o(R=>({...R,[A]:S}))},E=async()=>{const{title:y,message:A,dueDate:S}=s,R={title:y,message:A,date:S},k=await c(oe.ANNOUNCEMENT,"POST",R);k&&(k!=null&&k.announcement)&&(t(!1),m(!0),o({title:"",message:"",dueDate:""}))};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{open:n,onClose:()=>t(!1),title:"Make Announcement",onConfirm:E,children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(P,{label:"Title",name:"title",value:s.title,onChange:h,fullWidth:!0,required:!0}),e.jsx(P,{label:"Message",name:"message",value:s.message,onChange:h,fullWidth:!0,multiline:!0,rows:4,required:!0}),e.jsx(P,{label:"Due Date",name:"dueDate",type:"date",value:s.dueDate,onChange:h,fullWidth:!0,InputLabelProps:{shrink:!0},required:!0})]})}),e.jsx(Ze,{open:d,isLoading:l,onClose:()=>m(!1),title:"Confirm Announcement Submission",message:i?"Announcement submitted successfully!":"Could not submit announcement."})]})},Vn=({openFeedbackModal:n,setModalOpen:t})=>{const[s,o]=u.useState(""),[i,l]=u.useState(""),[c,d]=u.useState(""),[m,h]=u.useState(""),{data:E,loading:y,error:A,callApi:S}=he(),[R,k]=u.useState(!1),M=async()=>{const x={name:s,role:i,date:c,comments:m};await S(oe.FEEDBACKS,"POST",x),A||(k(!0),o(""),l(""),d(""),h(""))};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{open:n,onClose:()=>t(!1),title:"Send Feedbacks",onConfirm:M,children:e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(P,{label:"Name",value:s,onChange:x=>o(x.target.value),fullWidth:!0,margin:"normal"}),e.jsxs(Dt,{fullWidth:!0,margin:"normal",children:[e.jsx(Rt,{children:"Role"}),e.jsxs(Et,{value:i,onChange:x=>l(x.target.value),children:[e.jsx(ye,{value:"student",children:"Student"}),e.jsx(ye,{value:"instructor",children:"Instructor"}),e.jsx(ye,{value:"worker",children:"Worker"})]})]}),e.jsx(P,{label:"Date",type:"date",value:c,onChange:x=>d(x.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(P,{label:"Comments",value:m,onChange:x=>h(x.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4})]})}),e.jsx(Ze,{open:R,isLoading:y,onClose:()=>k(!1),title:"Feedback confirmantion",message:E?"Feeback submitted successfully!":"Could not submit announcement."})]})},Hn=({home:n})=>{const[t,s]=u.useState(!1),o=b();v(o.palette.mode);const i=Se(d=>d.users.user),[l,c]=u.useState(!1);return e.jsxs(a,{children:[e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(Nt,{home:!0,title:i.firstName,subtitle:"Welcome to your dashboard"}),e.jsxs(a,{sx:{display:"flex"},children:[i.role==="admin"&&e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(je,{icon:e.jsx(tt,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Download Reports"}),e.jsx(je,{icon:e.jsx(be,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Make announcement",onClick:()=>c(!0)}),e.jsx(In,{openAnnoucementModal:l,setModalOpen:c})]}),i.role==="student"&&e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(je,{icon:e.jsx(be,{sx:{fontSize:{xs:"16px"}}}),content:"Submit Feedback",onClick:()=>s(!0)}),e.jsx(Vn,{openFeedbackModal:t,setModalOpen:s})]}),i.role==="teacher"&&e.jsxs(a,{children:[e.jsx(Kt,{sx:{fontSize:{xs:"1em",sm:"1.2em"}},value:i.rating,readOnly:!0,precision:.1}),e.jsxs(r,{variant:"h6",sx:{fontSize:{xs:"0.8em",sm:"1em"}},children:["Rating: ",i.rating]})]})]})]}),i.role==="admin"||i.role==="superadmin"?e.jsx(gn,{user:i}):i.role==="student"?e.jsx(Mn,{user:i}):i.role==="teacher"?e.jsx(zn,{user:i}):null]})},Bn=Ft(Hn),ps=()=>e.jsx("div",{children:e.jsx(Bn,{home:!0})});export{ps as default};
