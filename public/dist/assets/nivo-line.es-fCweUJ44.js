import{v as wr,D as Te,r as T,j as $}from"./index-sE9McROK.js";import{bm as Bi,an as cn,bn as zn,B as Wi,bo as Vn,I as Ii,bp as ae,bq as be,br as kr,bs as Yi,f as bn,am as dt,bt as Ie,bu as xe,bv as Ye,t as Cr,bw as Li,bx as Ni,a as Hi,U as Ri,c as lt,by as Gi,bz as zi,bA as _r,bB as Sr,bC as Ar,bD as $r,bE as jr,bF as Er,bG as Fr,bH as bt,bI as Or,bJ as Ur,bK as yt,bL as Le,bM as Ne,bN as Pr,bO as Dr,bP as Br,bQ as Vi,bR as Xi,bS as qi,bT as Ki,bU as Ji,a6 as Qi,a7 as Zi,a8 as to,a9 as eo,aa as no,ab as ro,ac as io,ad as oo,ae as ao,af as so,ag as lo,ah as uo,ai as co,aj as ho,ak as Xn,al as qn,r as hn,ao as fo,ap as go,bV as Pt,bW as mo,bX as xn,bY as Wr,bZ as Ir,b_ as po,b$ as Kn,c0 as vo,c1 as Yr,c2 as yo,c3 as Ve,c4 as Lr,c5 as Nr,c6 as bo,c7 as xo,c8 as Mo,c9 as Hr,ca as To,cb as wo,cc as Rr,cd as He,ce as ko,cf as Co,cg as _o,ch as Jn,ci as So,cj as Ao,ck as $o,cl as Qn,cm as jo,cn as Gr}from"./nivo-legends.es-Dp-omj8d.js";import{y as zr,z as Eo,A as Fo,B as Oo,D as Vr,E as Uo,x as Po,i as Do,u as Bo,F as Wo,n as Xr,c as Io,d as Yo,m as Lo,t as No}from"./_baseIsEqual-XkDlwte8.js";import{_ as qr,a as Ho}from"./_baseForOwn-CQuWfEoh.js";function Ro(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}}function Go(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zo(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),a;for(a=0;a<i;++a)r[a]=Mn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<i;++a)o[a]=r[a](s);return o}}function Vo(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Xo(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=Mn(t[r],e[r]):i[r]=e[r];return function(o){for(r in n)i[r]=n[r](o);return i}}function Mn(t,e){var n=typeof e,i;return e==null||n==="boolean"?Bi(e):(n==="number"?cn:n==="string"?(i=Vn(e))?(e=i,zn):Wi:e instanceof Vn?zn:e instanceof Date?Vo:Go(e)?Ro:Array.isArray(e)?zo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xo:cn)(t,e)}function qo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function De(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ko(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tn(t){let e,n,i;t.length!==2?(e=De,n=(s,l)=>De(t(s),l),i=(s,l)=>t(s)-l):(e=t===De||t===Ko?t:Jo,n=t,i=t);function r(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){const c=r(s,l,u,f-1);return c>u&&i(s[c-1],l)>-i(s[c],l)?c-1:c}return{left:r,center:a,right:o}}function Jo(){return 0}function Qo(t){return t===null?NaN:+t}const Zo=Tn(De),ta=Zo.right;Tn(Qo).center;const ea=Math.sqrt(50),na=Math.sqrt(10),ra=Math.sqrt(2);function Re(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=ea?10:o>=na?5:o>=ra?2:1;let s,l,u;return r<0?(u=Math.pow(10,-r)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Re(t,e,n*2):[s,l,u]}function fn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,o,a]=i?Re(e,t,n):Re(t,e,n);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(r+u)/-a;else for(let u=0;u<s;++u)l[u]=(r+u)*a;return l}function dn(t,e,n){return e=+e,t=+t,n=+n,Re(t,e,n)[2]}function gn(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?dn(e,t,n):dn(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function ia(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}function wn(){var t=Ii().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,o,a,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,d=r<i,g=d?r:i,m=d?i:r;o=(m-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(m-g-o*(h-l))*f,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var p=ia(h).map(function(v){return g+o*v});return n(d?p.reverse():p)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return wn(e(),[i,r]).round(s).paddingInner(l).paddingOuter(u).align(f)},ae.apply(c(),arguments)}function Kr(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Kr(e())},t}function oa(){return Kr(wn.apply(null,arguments).paddingInner(1))}function aa(t){return function(){return t}}function sa(t){return+t}var Zn=[0,1];function re(t){return t}function mn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:aa(isNaN(e)?NaN:.5)}function la(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function ua(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=mn(r,i),o=n(a,o)):(i=mn(i,r),o=n(o,a)),function(s){return o(i(s))}}function ca(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=mn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=ta(t,s,1,i)-1;return o[l](r[l](s))}}function Xe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kn(){var t=Zn,e=Zn,n=Mn,i,r,o,a=re,s,l,u;function f(){var h=Math.min(t.length,e.length);return a!==re&&(a=la(t[0],t[h-1])),s=h>2?ca:ua,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(i),e,n)))(i(a(h)))}return c.invert=function(h){return a(r((u||(u=s(e,t.map(i),cn)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,sa),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=qo,f()},c.clamp=function(h){return arguments.length?(a=h?!0:re,f()):a!==re},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return i=h,r=d,f()}}function Jr(){return kn()(re,re)}function ha(t){return Math.max(0,-be(Math.abs(t)))}function fa(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(be(e)/3)))*3-be(Math.abs(t)))}function da(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,be(e)-be(t))+1}function ga(t,e,n,i){var r=gn(t,e,n),o;switch(i=kr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(o=fa(r,a))&&(i.precision=o),Yi(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=da(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=ha(r))&&(i.precision=o-(i.type==="%")*2);break}}return bn(i)}function Qr(t){var e=t.domain;return t.ticks=function(n){var i=e();return fn(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return ga(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,o=i.length-1,a=i[r],s=i[o],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=r,r=o,o=u);f-- >0;){if(u=dn(a,s,n),u===l)return i[r]=a,i[o]=s,e(i);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Zr(){var t=Jr();return t.copy=function(){return Xe(t,Zr())},ae.apply(t,arguments),Qr(t)}function ti(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],o=t[i],a;return o<r&&(a=n,n=i,i=a,a=r,r=o,o=a),t[n]=e.floor(r),t[i]=e.ceil(o),t}function tr(t){return Math.log(t)}function er(t){return Math.exp(t)}function ma(t){return-Math.log(-t)}function pa(t){return-Math.exp(-t)}function va(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ya(t){return t===10?va:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ba(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nr(t){return(e,n)=>-t(-e,n)}function xa(t){const e=t(tr,er),n=e.domain;let i=10,r,o;function a(){return r=ba(i),o=ya(i),n()[0]<0?(r=nr(r),o=nr(o),t(ma,pa)):t(tr,er),e}return e.base=function(s){return arguments.length?(i=+s,a()):i},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=r(u),d=r(f),g,m;const p=s==null?10:+s;let v=[];if(!(i%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<i;++g)if(m=h<0?g/o(-h):g*o(h),!(m<u)){if(m>f)break;v.push(m)}}else for(;h<=d;++h)for(g=i-1;g>=1;--g)if(m=h>0?g/o(-h):g*o(h),!(m<u)){if(m>f)break;v.push(m)}v.length*2<p&&(v=fn(u,f,p))}else v=fn(h,d,Math.min(d-h,p)).map(o);return c?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=kr(l)).precision==null&&(l.trim=!0),l=bn(l)),s===1/0)return l;const u=Math.max(1,i*s/e.ticks().length);return f=>{let c=f/o(Math.round(r(f)));return c*i<i-.5&&(c*=i),c<=u?l(f):""}},e.nice=()=>n(ti(n(),{floor:s=>o(Math.floor(r(s))),ceil:s=>o(Math.ceil(r(s)))})),e}function ei(){const t=xa(kn()).domain([1,10]);return t.copy=()=>Xe(t,ei()).base(t.base()),ae.apply(t,arguments),t}function rr(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ir(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ma(t){var e=1,n=t(rr(e),ir(e));return n.constant=function(i){return arguments.length?t(rr(e=+i),ir(e)):e},Qr(n)}function ni(){var t=Ma(kn());return t.copy=function(){return Xe(t,ni()).constant(t.constant())},ae.apply(t,arguments)}const tn=new Date,en=new Date;function J(t,e,n,i){function r(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return r.floor=o=>(t(o=new Date(+o)),o),r.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),r.round=o=>{const a=r(o),s=r.ceil(o);return o-a<s-o?a:s},r.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),r.range=(o,a,s)=>{const l=[];if(o=r.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},r.filter=o=>J(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(r.count=(o,a)=>(tn.setTime(+o),en.setTime(+a),t(tn),t(en),Math.floor(n(tn,en))),r.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?r.filter(i?a=>i(a)%o===0:a=>r.count(0,a)%o===0):r)),r}const Ge=J(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ge.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?J(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ge);Ge.range;const _t=1e3,ut=_t*60,St=ut*60,$t=St*24,Cn=$t*7,or=$t*30,nn=$t*365,Gt=J(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_t)},(t,e)=>(e-t)/_t,t=>t.getUTCSeconds());Gt.range;const _n=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_t)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getMinutes());_n.range;const Sn=J(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getUTCMinutes());Sn.range;const An=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_t-t.getMinutes()*ut)},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getHours());An.range;const $n=J(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getUTCHours());$n.range;const jn=J(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ut)/$t,t=>t.getDate()-1);jn.range;const ri=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$t,t=>t.getUTCDate()-1);ri.range;const ii=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$t,t=>Math.floor(t/$t));ii.range;function Vt(t){return J(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ut)/Cn)}const En=Vt(0),Ta=Vt(1),wa=Vt(2),ka=Vt(3),Ca=Vt(4),_a=Vt(5),Sa=Vt(6);En.range;Ta.range;wa.range;ka.range;Ca.range;_a.range;Sa.range;function Xt(t){return J(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Cn)}const Fn=Xt(0),Aa=Xt(1),$a=Xt(2),ja=Xt(3),Ea=Xt(4),Fa=Xt(5),Oa=Xt(6);Fn.range;Aa.range;$a.range;ja.range;Ea.range;Fa.range;Oa.range;const On=J(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());On.range;const Un=J(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Un.range;const qe=J(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qe.range;const Ke=J(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ke.range;function oi(t,e,n,i,r,o){const a=[[Gt,1,_t],[Gt,5,5*_t],[Gt,15,15*_t],[Gt,30,30*_t],[o,1,ut],[o,5,5*ut],[o,15,15*ut],[o,30,30*ut],[r,1,St],[r,3,3*St],[r,6,6*St],[r,12,12*St],[i,1,$t],[i,2,2*$t],[n,1,Cn],[e,1,or],[e,3,3*or],[t,1,nn]];function s(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),g=d?d.range(u,+f+1):[];return h?g.reverse():g}function l(u,f,c){const h=Math.abs(f-u)/c,d=Tn(([,,p])=>p).right(a,h);if(d===a.length)return t.every(gn(u/nn,f/nn,c));if(d===0)return Ge.every(Math.max(gn(u,f,c),1));const[g,m]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return g.every(m)}return[s,l]}const[Ua,Pa]=oi(Ke,Un,Fn,ii,$n,Sn),[Da,Ba]=oi(qe,On,En,jn,An,_n);var Me=dt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Me.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Me};Me.range;var pn=dt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ie)},function(t,e){return(e-t)/Ie},function(t){return t.getUTCSeconds()});pn.range;var ai=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ie)},function(t,e){t.setTime(+t+e*xe)},function(t,e){return(e-t)/xe},function(t){return t.getMinutes()});ai.range;var si=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ie-t.getMinutes()*xe)},function(t,e){t.setTime(+t+e*Ye)},function(t,e){return(e-t)/Ye},function(t){return t.getHours()});si.range;var li=dt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});li.range;var ui=dt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*xe)},function(t,e){return(e-t)/xe},function(t){return t.getUTCMinutes()});ui.range;var ci=dt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ye)},function(t,e){return(e-t)/Ye},function(t){return t.getUTCHours()});ci.range;var hi=dt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});hi.range;function Wa(t){return new Date(t)}function Ia(t){return t instanceof Date?+t:+new Date(+t)}function Pn(t,e,n,i,r,o,a,s,l,u){var f=Jr(),c=f.invert,h=f.domain,d=u(".%L"),g=u(":%S"),m=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),b=u("%b %d"),k=u("%B"),C=u("%Y");function A(x){return(l(x)<x?d:s(x)<x?g:a(x)<x?m:o(x)<x?p:i(x)<x?r(x)<x?v:b:n(x)<x?k:C)(x)}return f.invert=function(x){return new Date(c(x))},f.domain=function(x){return arguments.length?h(Array.from(x,Ia)):h().map(Wa)},f.ticks=function(x){var E=h();return t(E[0],E[E.length-1],x??10)},f.tickFormat=function(x,E){return E==null?A:u(E)},f.nice=function(x){var E=h();return(!x||typeof x.range!="function")&&(x=e(E[0],E[E.length-1],x??10)),x?h(ti(E,x)):f},f.copy=function(){return Xe(f,Pn(t,e,n,i,r,o,a,s,l,u))},f}function Ya(){return ae.apply(Pn(Da,Ba,qe,On,En,jn,An,_n,Gt,Cr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function La(){return ae.apply(Pn(Ua,Pa,Ke,Un,Fn,ri,$n,Sn,Gt,Li).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Na(t,e,n){var i=null,r=lt(!0),o=null,a=Ri,s=null,l=Ni(u);t=typeof t=="function"?t:t===void 0?Gi:lt(+t),e=typeof e=="function"?e:e===void 0?lt(0):lt(+e),n=typeof n=="function"?n:n===void 0?zi:lt(+n);function u(c){var h,d,g,m=(c=Hi(c)).length,p,v=!1,b,k=new Array(m),C=new Array(m);for(o==null&&(s=a(b=l())),h=0;h<=m;++h){if(!(h<m&&r(p=c[h],h,c))===v)if(v=!v)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=d;--g)s.point(k[g],C[g]);s.lineEnd(),s.areaEnd()}v&&(k[h]=+t(p,h,c),C[h]=+e(p,h,c),s.point(i?+i(p,h,c):k[h],n?+n(p,h,c):C[h]))}if(b)return s=null,b+""||null}function f(){return _r().defined(r).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:lt(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:lt(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(i).y(e)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:lt(!!c),u):r},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}var fi=/^--/;function Ha(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!fi.test(t)&&!(ve.hasOwnProperty(t)&&ve[t])?e+"px":(""+e).trim()}var ar={};function Ra(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:r,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...u}=e,f=Object.values(u),c=Object.keys(u).map(h=>n||t.hasAttribute(h)?h:ar[h]||(ar[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));o!==void 0&&(t.textContent=o);for(const h in r)if(r.hasOwnProperty(h)){const d=Ha(h,r[h]);fi.test(h)?t.style.setProperty(h,d):t.style[h]=d}c.forEach((h,d)=>{t.setAttribute(h,f[d])}),i!==void 0&&(t.className=i),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),l!==void 0&&t.setAttribute("viewBox",l)}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ga=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),za=["Webkit","Ms","Moz","O"];ve=Object.keys(ve).reduce((t,e)=>(za.forEach(n=>t[Ga(n,e)]=t[e]),t),ve);var Va=/^(matrix|translate|scale|rotate|skew)/,Xa=/^(translate)/,qa=/^(rotate|skew)/,rn=(t,e)=>bt.num(t)&&t!==0?t+e:t,Be=(t,e)=>bt.arr(t)?t.every(n=>Be(n,e)):bt.num(t)?t===e:parseFloat(t)===e,Ka=class extends Er{constructor({x:e,y:n,z:i,...r}){const o=[],a=[];(e||n||i)&&(o.push([e||0,n||0,i||0]),a.push(s=>[`translate3d(${s.map(l=>rn(l,"px")).join(",")})`,Be(s,0)])),Fr(r,(s,l)=>{if(l==="transform")o.push([s||""]),a.push(u=>[u,u===""]);else if(Va.test(l)){if(delete r[l],bt.und(s))return;const u=Xa.test(l)?"px":qa.test(l)?"deg":"";o.push(Or(s)),a.push(l==="rotate3d"?([f,c,h,d])=>[`rotate3d(${f},${c},${h},${rn(d,u)})`,Be(d,0)]:f=>[`${l}(${f.map(c=>rn(c,u)).join(",")})`,Be(f,l.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new Ja(o,a)),super(r)}},Ja=class extends Ur{constructor(e,n){super(),this.inputs=e,this.transforms=n,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return yt(this.inputs,(i,r)=>{const o=Le(i[0]),[a,s]=this.transforms[r](bt.arr(o)?o:i.map(Le));e+=" "+a,n=n&&s}),n?"none":e}observerAdded(e){e==1&&yt(this.inputs,n=>yt(n,i=>Ne(i)&&Pr(i,this)))}observerRemoved(e){e==0&&yt(this.inputs,n=>yt(n,i=>Ne(i)&&Dr(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Br(this,e)}},Qa=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Sr.assign({batchedUpdates:wr.unstable_batchedUpdates,createStringInterpolator:$r,colors:Ar});var Za=jr(Qa,{applyAnimatedValues:Ra,createAnimatedStyle:t=>new Ka(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),oe=Za.animated;function ts(){}var es=ts,on=Eo,ns=es,rs=zr,is=1/0,os=on&&1/rs(new on([,-0]))[1]==is?function(t){return new on(t)}:ns,as=os,ss=Fo,ls=Vi,us=Xi,cs=Oo,hs=as,fs=zr,ds=200;function gs(t,e,n){var i=-1,r=ls,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=us;else if(o>=ds){var u=e?null:hs(t);if(u)return fs(u);a=!1,r=cs,l=new ss}else l=e?[]:s;t:for(;++i<o;){var f=t[i],c=e?e(f):f;if(f=n||f!==0?f:0,a&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue t;e&&l.push(c),s.push(f)}else r(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var di=gs,ms=di;function ps(t){return t&&t.length?ms(t):[]}var vs=ps;const sr=Te(vs);var ys=qr,bs=di;function xs(t,e){return t&&t.length?bs(t,ys(e)):[]}var Ms=xs;const Ts=Te(Ms);var ws=Vr;function ks(t,e){return function(n,i){if(n==null)return n;if(!ws(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}var Cs=ks,_s=Ho,Ss=Cs,As=Ss(_s),$s=As,js=$s,Es=Vr;function Fs(t,e){var n=-1,i=Es(t)?Array(t.length):[];return js(t,function(r,o,a){i[++n]=e(r,o,a)}),i}var Os=Fs;function Us(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ps=Us,lr=Uo;function Ds(t,e){if(t!==e){var n=t!==void 0,i=t===null,r=t===t,o=lr(t),a=e!==void 0,s=e===null,l=e===e,u=lr(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}var Bs=Ds,Ws=Bs;function Is(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Ws(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Ys=Is,an=Po,Ls=Bo,Ns=qr,Hs=Os,Rs=Ps,Gs=Xr,zs=Ys,Vs=Wo,Xs=Do;function qs(t,e,n){e.length?e=an(e,function(o){return Xs(o)?function(a){return Ls(a,o.length===1?o[0]:o)}:o}):e=[Vs];var i=-1;e=an(e,Gs(Ns));var r=Hs(t,function(o,a,s){var l=an(e,function(u){return u(o)});return{criteria:l,index:++i,value:o}});return Rs(r,function(o,a){return zs(o,a,n)})}var Ks=qs,Js=Ji,Qs=Ks,Zs=qi,ur=Ki,tl=Zs(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ur(t,e[0],e[1])?e=[]:n>2&&ur(e[0],e[1],e[2])&&(e=[e[0]]),Qs(t,Js(e,1),[])}),el=tl;const nl=Te(el);var rl=Yo,il=Io,ol="[object Date]";function al(t){return il(t)&&rl(t)==ol}var sl=al,ll=sl,ul=Xr,cr=Lo,hr=cr&&cr.isDate,cl=hr?ul(hr):ll,hl=cl;const fl=Te(hl);function Rt(){return Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rt.apply(this,arguments)}var te=[function(t){return t.setMilliseconds(0)},function(t){return t.setSeconds(0)},function(t){return t.setMinutes(0)},function(t){return t.setHours(0)},function(t){return t.setDate(1)},function(t){return t.setMonth(0)}],dl={millisecond:[],second:te.slice(0,1),minute:te.slice(0,2),hour:te.slice(0,3),day:te.slice(0,4),month:te.slice(0,5),year:te.slice(0,6)},gl=function(t){return function(e){return dl[t].forEach(function(n){n(e)}),e}},gi=function(t){var e=t.format,n=e===void 0?"native":e,i=t.precision,r=i===void 0?"millisecond":i,o=t.useUTC,a=o===void 0||o,s=gl(r);return function(l){if(l===void 0)return l;if(n==="native"||l instanceof Date)return s(l);var u=a?fo(n):go(n);return s(u(l))}},ml=function(t,e,n,i){var r,o,a,s,l=t.min,u=l===void 0?0:l,f=t.max,c=f===void 0?"auto":f,h=t.stacked,d=h!==void 0&&h,g=t.reverse,m=g!==void 0&&g,p=t.clamp,v=p!==void 0&&p,b=t.nice,k=b!==void 0&&b;u==="auto"?r=d===!0?(o=e.minStacked)!=null?o:0:e.min:r=u,c==="auto"?a=d===!0?(s=e.maxStacked)!=null?s:0:e.max:a=c;var C=Zr().rangeRound(i==="x"?[0,n]:[n,0]).domain(m?[a,r]:[r,a]).clamp(v);return k===!0?C.nice():typeof k=="number"&&C.nice(k),pl(C,d)},pl=function(t,e){e===void 0&&(e=!1);var n=t;return n.type="linear",n.stacked=e,n},vl=function(t,e,n){var i=oa().range([0,n]).domain(e.all);return i.type="point",i},yl=function(t,e,n,i){var r=t.round,o=r===void 0||r,a=wn().range(i==="x"?[0,n]:[n,0]).domain(e.all).round(o);return bl(a)},bl=function(t){var e=t;return e.type="band",e},xl=function(t,e,n){var i,r,o=t.format,a=o===void 0?"native":o,s=t.precision,l=s===void 0?"millisecond":s,u=t.min,f=u===void 0?"auto":u,c=t.max,h=c===void 0?"auto":c,d=t.useUTC,g=d===void 0||d,m=t.nice,p=m!==void 0&&m,v=gi({format:a,precision:l,useUTC:g});i=f==="auto"?v(e.min):a!=="native"?v(f):f,r=h==="auto"?v(e.max):a!=="native"?v(h):h;var b=g?La():Ya();b.range([0,n]),i&&r&&b.domain([i,r]),p===!0?b.nice():typeof p!="object"&&typeof p!="number"||b.nice(p);var k=b;return k.type="time",k.useUTC=g,k},Ml=function(t,e,n,i){var r,o=t.base,a=o===void 0?10:o,s=t.min,l=s===void 0?"auto":s,u=t.max,f=u===void 0?"auto":u;if(e.all.some(function(m){return m===0}))throw new Error("a log scale domain must not include or cross zero");var c,h,d=!1;if(e.all.filter(function(m){return m!=null}).forEach(function(m){d||(r===void 0?r=Math.sign(m):Math.sign(m)!==r&&(d=!0))}),d)throw new Error("a log scale domain must be strictly-positive or strictly-negative");c=l==="auto"?e.min:l,h=f==="auto"?e.max:f;var g=ei().domain([c,h]).rangeRound(i==="x"?[0,n]:[n,0]).base(a).nice();return g.type="log",g},Tl=function(t,e,n,i){var r,o,a=t.constant,s=a===void 0?1:a,l=t.min,u=l===void 0?"auto":l,f=t.max,c=f===void 0?"auto":f,h=t.reverse,d=h!==void 0&&h;r=u==="auto"?e.min:u,o=c==="auto"?e.max:c;var g=ni().constant(s).rangeRound(i==="x"?[0,n]:[n,0]).nice();d===!0?g.domain([o,r]):g.domain([r,o]);var m=g;return m.type="symlog",m},wl=function(t){return t==="x"?"y":"x"},kl=function(t,e){return t===e},Cl=function(t,e){return t.getTime()===e.getTime()};function fr(t,e,n,i){switch(t.type){case"linear":return ml(t,e,n,i);case"point":return vl(t,e,n);case"band":return yl(t,e,n,i);case"time":return xl(t,e,n);case"log":return Ml(t,e,n,i);case"symlog":return Tl(t,e,n,i);default:throw new Error("invalid scale spec")}}var dr=function(t,e,n){var i;if("stacked"in n&&n.stacked){var r=t.data[e==="x"?"xStacked":"yStacked"];return r==null?null:n(r)}return(i=n(t.data[e]))!=null?i:null},_l=function(t,e,n,i,r){var o=t.map(function(f){return function(c){return Rt({},c,{data:c.data.map(function(h){return{data:Rt({},h)}})})}(f)}),a=Sl(o,e,n);"stacked"in e&&e.stacked===!0&&Al(a,o),"stacked"in n&&n.stacked===!0&&$l(a,o);var s=fr(e,a.x,i,"x"),l=fr(n,a.y,r,"y"),u=o.map(function(f){return Rt({},f,{data:f.data.map(function(c){return Rt({},c,{position:{x:dr(c,"x",s),y:dr(c,"y",l)}})})})});return Rt({},a,{series:u,xScale:s,yScale:l})},Sl=function(t,e,n){return{x:gr(t,"x",e),y:gr(t,"y",n)}},gr=function(t,e,n,i){var r={},o=r.getValue,a=o===void 0?function(g){return g.data[e]}:o,s=r.setValue,l=s===void 0?function(g,m){g.data[e]=m}:s;if(n.type==="linear")t.forEach(function(g){g.data.forEach(function(m){var p=a(m);p&&l(m,parseFloat(String(p)))})});else if(n.type==="time"&&n.format!=="native"){var u=gi(n);t.forEach(function(g){g.data.forEach(function(m){var p=a(m);p&&l(m,u(p))})})}var f=[];switch(t.forEach(function(g){g.data.forEach(function(m){f.push(a(m))})}),n.type){case"linear":var c=nl(sr(f).filter(function(g){return g!==null}),function(g){return g});return{all:c,min:Math.min.apply(Math,c),max:Math.max.apply(Math,c)};case"time":var h=Ts(f,function(g){return g.getTime()}).slice(0).sort(function(g,m){return m.getTime()-g.getTime()}).reverse();return{all:h,min:h[0],max:hn(h)};default:var d=sr(f);return{all:d,min:d[0],max:hn(d)}}},mi=function(t,e,n){var i=wl(t),r=[];e[i].all.forEach(function(o){var a=fl(o)?Cl:kl,s=[];n.forEach(function(l){var u=l.data.find(function(d){return a(d.data[i],o)}),f=null,c=null;if(u!==void 0){if((f=u.data[t])!==null){var h=hn(s);h===void 0?c=f:h!==null&&(c=h+f)}u.data[t==="x"?"xStacked":"yStacked"]=c}s.push(c),c!==null&&r.push(c)})}),e[t].minStacked=Math.min.apply(Math,r),e[t].maxStacked=Math.max.apply(Math,r)},Al=function(t,e){return mi("x",t,e)},$l=function(t,e){return mi("y",t,e)},pi=function(t){var e=t.bandwidth();if(e===0)return t;var n=e/2;return t.round()&&(n=Math.round(n)),function(i){var r;return((r=t(i))!=null?r:0)+n}},vi={millisecond:[Me,Me],second:[pn,pn],minute:[ai,ui],hour:[si,ci],day:[dt(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)}),dt(function(t){return t.setUTCHours(0,0,0,0)},function(t,e){return t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)})],week:[Xn,qn],sunday:[Xn,qn],monday:[co,ho],tuesday:[lo,uo],wednesday:[ao,so],thursday:[io,oo],friday:[no,ro],saturday:[to,eo],month:[li,hi],year:[Qi,Zi]},jl=Object.keys(vi),El=new RegExp("^every\\s*(\\d+)?\\s*("+jl.join("|")+")s?$","i"),yi=function(t,e){if(Array.isArray(e))return e;if(typeof e=="string"&&"useUTC"in t){var n=e.match(El);if(n){var i=n[1],r=n[2],o=vi[r][t.useUTC?1:0];if(r==="day"){var a,s,l=t.domain(),u=l[0],f=l[1],c=new Date(f);return c.setDate(c.getDate()+1),(a=(s=o.every(Number(i??1)))==null?void 0:s.range(u,c))!=null?a:[]}if(i===void 0)return t.ticks(o);var h=o.every(Number(i));if(h)return t.ticks(h)}throw new Error("Invalid tickValues: "+e)}if("ticks"in t){if(e===void 0)return t.ticks();if(typeof(d=e)=="number"&&isFinite(d)&&Math.floor(d)===d)return t.ticks(e)}var d;return t.domain()};function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ct.apply(this,arguments)}var bi=function(t){var e,n=t.axis,i=t.scale,r=t.ticksPosition,o=t.tickValues,a=t.tickSize,s=t.tickPadding,l=t.tickRotation,u=t.truncateTickAt,f=t.engine,c=f===void 0?"svg":f,h=yi(i,o),d=po[c],g="bandwidth"in i?pi(i):i,m={lineX:0,lineY:0},p={textX:0,textY:0},v=typeof document=="object"&&document.dir==="rtl",b=d.align.center,k=d.baseline.center;return n==="x"?(e=function(C){var A;return{x:(A=g(C))!=null?A:0,y:0}},m.lineY=a*(r==="after"?1:-1),p.textY=(a+s)*(r==="after"?1:-1),k=r==="after"?d.baseline.top:d.baseline.bottom,l===0?b=d.align.center:r==="after"&&l<0||r==="before"&&l>0?(b=d.align[v?"left":"right"],k=d.baseline.center):(r==="after"&&l>0||r==="before"&&l<0)&&(b=d.align[v?"right":"left"],k=d.baseline.center)):(e=function(C){var A;return{x:0,y:(A=g(C))!=null?A:0}},m.lineX=a*(r==="after"?1:-1),p.textX=(a+s)*(r==="after"?1:-1),b=r==="after"?d.align.left:d.align.right),{ticks:h.map(function(C){var A=typeof C=="string"?function(x){var E=String(x).length;return u&&u>0&&E>u?""+String(x).slice(0,u).concat("..."):""+x}(C):C;return ct({key:C instanceof Date?""+C.valueOf():""+C,value:A},e(C),m,p)}),textAlign:b,textBaseline:k}},xi=function(t,e){if(t===void 0||typeof t=="function")return t;if(e.type==="time"){var n=Cr(t);return function(i){return n(i instanceof Date?i:new Date(i))}}return bn(t)},vn=function(t){var e,n=t.width,i=t.height,r=t.scale,o=t.axis,a=t.values,s=(e=a,(Array.isArray(e)?a:void 0)||yi(r,a)),l="bandwidth"in r?pi(r):r,u=o==="x"?s.map(function(f){var c,h;return{key:f instanceof Date?""+f.valueOf():""+f,x1:(c=l(f))!=null?c:0,x2:(h=l(f))!=null?h:0,y1:0,y2:i}}):s.map(function(f){var c,h;return{key:f instanceof Date?""+f.valueOf():""+f,x1:0,x2:n,y1:(c=l(f))!=null?c:0,y2:(h=l(f))!=null?h:0}});return u},Fl=T.memo(function(t){var e,n=t.value,i=t.format,r=t.lineX,o=t.lineY,a=t.onClick,s=t.textBaseline,l=t.textAnchor,u=t.animatedProps,f=Pt(),c=f.axis.ticks.line,h=f.axis.ticks.text,d=(e=i==null?void 0:i(n))!=null?e:n,g=T.useMemo(function(){var m={opacity:u.opacity};return a?{style:ct({},m,{cursor:"pointer"}),onClick:function(p){return a(p,d)}}:{style:m}},[u.opacity,a,d]);return $.jsxs(oe.g,ct({transform:u.transform},g,{children:[$.jsx("line",{x1:0,x2:r,y1:0,y2:o,style:c}),h.outlineWidth>0&&$.jsx(oe.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:h,strokeWidth:2*h.outlineWidth,stroke:h.outlineColor,strokeLinejoin:"round",children:""+d}),$.jsx(oe.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:mo(h),children:""+d})]}))}),Ol=function(t){var e=t.axis,n=t.scale,i=t.x,r=i===void 0?0:i,o=t.y,a=o===void 0?0:o,s=t.length,l=t.ticksPosition,u=t.tickValues,f=t.tickSize,c=f===void 0?5:f,h=t.tickPadding,d=h===void 0?5:h,g=t.tickRotation,m=g===void 0?0:g,p=t.format,v=t.renderTick,b=v===void 0?Fl:v,k=t.truncateTickAt,C=t.legend,A=t.legendPosition,x=A===void 0?"end":A,E=t.legendOffset,S=E===void 0?0:E,y=t.onClick,M=t.ariaHidden,w=Pt(),j=w.axis.legend.text,_=T.useMemo(function(){return xi(p,n)},[p,n]),P=bi({axis:e,scale:n,ticksPosition:l,tickValues:u,tickSize:c,tickPadding:d,tickRotation:m,truncateTickAt:k}),B=P.ticks,F=P.textAlign,I=P.textBaseline,Y=null;if(C!==void 0){var O,L=0,G=0,tt=0;e==="y"?(tt=-90,L=S,x==="start"?(O="start",G=s):x==="middle"?(O="middle",G=s/2):x==="end"&&(O="end")):(G=S,x==="start"?O="start":x==="middle"?(O="middle",L=s/2):x==="end"&&(O="end",L=s)),Y=$.jsxs($.Fragment,{children:[j.outlineWidth>0&&$.jsx("text",{transform:"translate("+L+", "+G+") rotate("+tt+")",textAnchor:O,style:ct({dominantBaseline:"central"},j),strokeWidth:2*j.outlineWidth,stroke:j.outlineColor,strokeLinejoin:"round",children:C}),$.jsx("text",{transform:"translate("+L+", "+G+") rotate("+tt+")",textAnchor:O,style:ct({dominantBaseline:"central"},j),children:C})]})}var ot=xn(),at=ot.animate,ht=ot.config,H=Ir({transform:"translate("+r+","+a+")",lineX2:e==="x"?s:0,lineY2:e==="x"?0:s,config:ht,immediate:!at}),X=T.useCallback(function(N){return{opacity:1,transform:"translate("+N.x+","+N.y+")",textTransform:"translate("+N.textX+","+N.textY+") rotate("+m+")"}},[m]),U=T.useCallback(function(N){return{opacity:0,transform:"translate("+N.x+","+N.y+")",textTransform:"translate("+N.textX+","+N.textY+") rotate("+m+")"}},[m]),D=Wr(B,{keys:function(N){return N.key},initial:X,from:U,enter:X,update:X,leave:{opacity:0},config:ht,immediate:!at});return $.jsxs(oe.g,{transform:H.transform,"aria-hidden":M,children:[D(function(N,q,Q,z){return T.createElement(b,ct({tickIndex:z,format:_,rotate:m,textBaseline:I,textAnchor:F,truncateTickAt:k,animatedProps:N},q,y?{onClick:y}:{}))}),$.jsx(oe.line,{style:w.axis.domain.line,x1:0,x2:H.lineX2,y1:0,y2:H.lineY2}),Y]})},Ul=T.memo(Ol),Mi=["top","right","bottom","left"],Pl=T.memo(function(t){var e=t.xScale,n=t.yScale,i=t.width,r=t.height,o={top:t.top,right:t.right,bottom:t.bottom,left:t.left};return $.jsx($.Fragment,{children:Mi.map(function(a){var s=o[a];if(!s)return null;var l=a==="top"||a==="bottom";return $.jsx(Ul,ct({},s,{axis:l?"x":"y",x:a==="right"?i:0,y:a==="bottom"?r:0,scale:l?e:n,length:l?i:r,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:s.truncateTickAt}),a)})})}),Dl=T.memo(function(t){var e=t.animatedProps,n=Pt();return $.jsx(oe.line,ct({},e,n.grid.line))}),mr=T.memo(function(t){var e=t.lines,n=xn(),i=n.animate,r=n.config,o=Wr(e,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:r,immediate:!i});return $.jsx("g",{children:o(function(a,s){return T.createElement(Dl,ct({},s,{key:s.key,animatedProps:a}))})})}),Bl=T.memo(function(t){var e=t.width,n=t.height,i=t.xScale,r=t.yScale,o=t.xValues,a=t.yValues,s=T.useMemo(function(){return!!i&&vn({width:e,height:n,scale:i,axis:"x",values:o})},[i,o,e,n]),l=T.useMemo(function(){return!!r&&vn({width:e,height:n,scale:r,axis:"y",values:a})},[n,e,r,a]);return $.jsxs($.Fragment,{children:[s&&$.jsx(mr,{lines:s}),l&&$.jsx(mr,{lines:l})]})}),Wl=function(t,e){var n,i=e.axis,r=e.scale,o=e.x,a=o===void 0?0:o,s=e.y,l=s===void 0?0:s,u=e.length,f=e.ticksPosition,c=e.tickValues,h=e.tickSize,d=h===void 0?5:h,g=e.tickPadding,m=g===void 0?5:g,p=e.tickRotation,v=p===void 0?0:p,b=e.format,k=e.legend,C=e.legendPosition,A=C===void 0?"end":C,x=e.legendOffset,E=x===void 0?0:x,S=e.theme,y=bi({axis:i,scale:r,ticksPosition:f,tickValues:c,tickSize:d,tickPadding:m,tickRotation:v,engine:"canvas"}),M=y.ticks,w=y.textAlign,j=y.textBaseline;t.save(),t.translate(a,l),t.textAlign=w,t.textBaseline=j;var _=S.axis.ticks.text;t.font=(_.fontWeight?_.fontWeight+" ":"")+_.fontSize+"px "+_.fontFamily,((n=S.axis.domain.line.strokeWidth)!=null?n:0)>0&&(t.lineWidth=Number(S.axis.domain.line.strokeWidth),t.lineCap="square",S.axis.domain.line.stroke&&(t.strokeStyle=S.axis.domain.line.stroke),t.beginPath(),t.moveTo(0,0),t.lineTo(i==="x"?u:0,i==="x"?0:u),t.stroke());var P=typeof b=="function"?b:function(O){return""+O};if(M.forEach(function(O){var L;((L=S.axis.ticks.line.strokeWidth)!=null?L:0)>0&&(t.lineWidth=Number(S.axis.ticks.line.strokeWidth),t.lineCap="square",S.axis.ticks.line.stroke&&(t.strokeStyle=S.axis.ticks.line.stroke),t.beginPath(),t.moveTo(O.x,O.y),t.lineTo(O.x+O.lineX,O.y+O.lineY),t.stroke());var G=P(O.value);t.save(),t.translate(O.x+O.textX,O.y+O.textY),t.rotate(Kn(v)),_.outlineWidth>0&&(t.strokeStyle=_.outlineColor,t.lineWidth=2*_.outlineWidth,t.lineJoin="round",t.strokeText(""+G,0,0)),S.axis.ticks.text.fill&&(t.fillStyle=_.fill),t.fillText(""+G,0,0),t.restore()}),k!==void 0){var B=0,F=0,I=0,Y="center";i==="y"?(I=-90,B=E,A==="start"?(Y="start",F=u):A==="middle"?(Y="center",F=u/2):A==="end"&&(Y="end")):(F=E,A==="start"?Y="start":A==="middle"?(Y="center",B=u/2):A==="end"&&(Y="end",B=u)),t.translate(B,F),t.rotate(Kn(I)),t.font=(S.axis.legend.text.fontWeight?S.axis.legend.text.fontWeight+" ":"")+S.axis.legend.text.fontSize+"px "+S.axis.legend.text.fontFamily,S.axis.legend.text.fill&&(t.fillStyle=S.axis.legend.text.fill),t.textAlign=Y,t.textBaseline="middle",t.fillText(k,0,0)}t.restore()},Il=function(t,e){var n=e.xScale,i=e.yScale,r=e.width,o=e.height,a=e.top,s=e.right,l=e.bottom,u=e.left,f=e.theme,c={top:a,right:s,bottom:l,left:u};Mi.forEach(function(h){var d=c[h];if(!d)return null;var g=h==="top"||h==="bottom",m=h==="top"||h==="left"?"before":"after",p=g?n:i,v=xi(d.format,p);Wl(t,ct({},d,{axis:g?"x":"y",x:h==="right"?r:0,y:h==="bottom"?o:0,scale:p,format:v,length:g?r:o,ticksPosition:m,theme:f}))})},pr=function(t,e){var n=e.width,i=e.height,r=e.scale,o=e.axis,a=e.values;vn({width:n,height:i,scale:r,axis:o,values:a}).forEach(function(s){t.beginPath(),t.moveTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.stroke()})},Yl=No,Ll=0;function Nl(t){var e=++Ll;return Yl(t)+e}var Hl=Nl;const Rl=Te(Hl);var Ti=/^--/;function Gl(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!Ti.test(t)&&!(ye.hasOwnProperty(t)&&ye[t])?e+"px":(""+e).trim()}var vr={};function zl(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:r,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...u}=e,f=Object.values(u),c=Object.keys(u).map(h=>n||t.hasAttribute(h)?h:vr[h]||(vr[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));o!==void 0&&(t.textContent=o);for(const h in r)if(r.hasOwnProperty(h)){const d=Gl(h,r[h]);Ti.test(h)?t.style.setProperty(h,d):t.style[h]=d}c.forEach((h,d)=>{t.setAttribute(h,f[d])}),i!==void 0&&(t.className=i),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),l!==void 0&&t.setAttribute("viewBox",l)}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vl=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Xl=["Webkit","Ms","Moz","O"];ye=Object.keys(ye).reduce((t,e)=>(Xl.forEach(n=>t[Vl(n,e)]=t[e]),t),ye);var ql=/^(matrix|translate|scale|rotate|skew)/,Kl=/^(translate)/,Jl=/^(rotate|skew)/,sn=(t,e)=>bt.num(t)&&t!==0?t+e:t,We=(t,e)=>bt.arr(t)?t.every(n=>We(n,e)):bt.num(t)?t===e:parseFloat(t)===e,Ql=class extends Er{constructor({x:t,y:e,z:n,...i}){const r=[],o=[];(t||e||n)&&(r.push([t||0,e||0,n||0]),o.push(a=>[`translate3d(${a.map(s=>sn(s,"px")).join(",")})`,We(a,0)])),Fr(i,(a,s)=>{if(s==="transform")r.push([a||""]),o.push(l=>[l,l===""]);else if(ql.test(s)){if(delete i[s],bt.und(a))return;const l=Kl.test(s)?"px":Jl.test(s)?"deg":"";r.push(Or(a)),o.push(s==="rotate3d"?([u,f,c,h])=>[`rotate3d(${u},${f},${c},${sn(h,l)})`,We(h,0)]:u=>[`${s}(${u.map(f=>sn(f,l)).join(",")})`,We(u,s.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new Zl(r,o)),super(i)}},Zl=class extends Ur{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return yt(this.inputs,(n,i)=>{const r=Le(n[0]),[o,a]=this.transforms[i](bt.arr(r)?r:n.map(Le));t+=" "+o,e=e&&a}),e?"none":t}observerAdded(t){t==1&&yt(this.inputs,e=>yt(e,n=>Ne(n)&&Pr(n,this)))}observerRemoved(t){t==0&&yt(this.inputs,e=>yt(e,n=>Ne(n)&&Dr(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Br(this,t)}},tu=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Sr.assign({batchedUpdates:wr.unstable_batchedUpdates,createStringInterpolator:$r,colors:Ar});var eu=jr(tu,{applyAnimatedValues:zl,createAnimatedStyle:t=>new Ql(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),wi=eu.animated;const At=11102230246251565e-32,Z=134217729,nu=(3+8*At)*At;function ln(t,e,n,i,r){let o,a,s,l,u=e[0],f=i[0],c=0,h=0;f>u==f>-u?(o=u,u=e[++c]):(o=f,f=i[++h]);let d=0;if(c<t&&h<n)for(f>u==f>-u?(a=u+o,s=o-(a-u),u=e[++c]):(a=f+o,s=o-(a-f),f=i[++h]),o=a,s!==0&&(r[d++]=s);c<t&&h<n;)f>u==f>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++c]):(a=o+f,l=a-o,s=o-(a-l)+(f-l),f=i[++h]),o=a,s!==0&&(r[d++]=s);for(;c<t;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++c],o=a,s!==0&&(r[d++]=s);for(;h<n;)a=o+f,l=a-o,s=o-(a-l)+(f-l),f=i[++h],o=a,s!==0&&(r[d++]=s);return(o!==0||d===0)&&(r[d++]=o),d}function ru(t,e){let n=e[0];for(let i=1;i<t;i++)n+=e[i];return n}function we(t){return new Float64Array(t)}const iu=(3+16*At)*At,ou=(2+12*At)*At,au=(9+64*At)*At*At,ee=we(4),yr=we(8),br=we(12),xr=we(16),et=we(4);function su(t,e,n,i,r,o,a){let s,l,u,f,c,h,d,g,m,p,v,b,k,C,A,x,E,S;const y=t-r,M=n-r,w=e-o,j=i-o;C=y*j,h=Z*y,d=h-(h-y),g=y-d,h=Z*j,m=h-(h-j),p=j-m,A=g*p-(C-d*m-g*m-d*p),x=w*M,h=Z*w,d=h-(h-w),g=w-d,h=Z*M,m=h-(h-M),p=M-m,E=g*p-(x-d*m-g*m-d*p),v=A-E,c=A-v,ee[0]=A-(v+c)+(c-E),b=C+v,c=b-C,k=C-(b-c)+(v-c),v=k-x,c=k-v,ee[1]=k-(v+c)+(c-x),S=b+v,c=S-b,ee[2]=b-(S-c)+(v-c),ee[3]=S;let _=ru(4,ee),P=ou*a;if(_>=P||-_>=P||(c=t-y,s=t-(y+c)+(c-r),c=n-M,u=n-(M+c)+(c-r),c=e-w,l=e-(w+c)+(c-o),c=i-j,f=i-(j+c)+(c-o),s===0&&l===0&&u===0&&f===0)||(P=au*a+nu*Math.abs(_),_+=y*f+j*s-(w*u+M*l),_>=P||-_>=P))return _;C=s*j,h=Z*s,d=h-(h-s),g=s-d,h=Z*j,m=h-(h-j),p=j-m,A=g*p-(C-d*m-g*m-d*p),x=l*M,h=Z*l,d=h-(h-l),g=l-d,h=Z*M,m=h-(h-M),p=M-m,E=g*p-(x-d*m-g*m-d*p),v=A-E,c=A-v,et[0]=A-(v+c)+(c-E),b=C+v,c=b-C,k=C-(b-c)+(v-c),v=k-x,c=k-v,et[1]=k-(v+c)+(c-x),S=b+v,c=S-b,et[2]=b-(S-c)+(v-c),et[3]=S;const B=ln(4,ee,4,et,yr);C=y*f,h=Z*y,d=h-(h-y),g=y-d,h=Z*f,m=h-(h-f),p=f-m,A=g*p-(C-d*m-g*m-d*p),x=w*u,h=Z*w,d=h-(h-w),g=w-d,h=Z*u,m=h-(h-u),p=u-m,E=g*p-(x-d*m-g*m-d*p),v=A-E,c=A-v,et[0]=A-(v+c)+(c-E),b=C+v,c=b-C,k=C-(b-c)+(v-c),v=k-x,c=k-v,et[1]=k-(v+c)+(c-x),S=b+v,c=S-b,et[2]=b-(S-c)+(v-c),et[3]=S;const F=ln(B,yr,4,et,br);C=s*f,h=Z*s,d=h-(h-s),g=s-d,h=Z*f,m=h-(h-f),p=f-m,A=g*p-(C-d*m-g*m-d*p),x=l*u,h=Z*l,d=h-(h-l),g=l-d,h=Z*u,m=h-(h-u),p=u-m,E=g*p-(x-d*m-g*m-d*p),v=A-E,c=A-v,et[0]=A-(v+c)+(c-E),b=C+v,c=b-C,k=C-(b-c)+(v-c),v=k-x,c=k-v,et[1]=k-(v+c)+(c-x),S=b+v,c=S-b,et[2]=b-(S-c)+(v-c),et[3]=S;const I=ln(F,br,4,et,xr);return xr[I-1]}function Ue(t,e,n,i,r,o){const a=(e-o)*(n-r),s=(t-r)*(i-o),l=a-s,u=Math.abs(a+s);return Math.abs(l)>=iu*u?l:-su(t,e,n,i,r,o,u)}const Mr=Math.pow(2,-52),Pe=new Uint32Array(512);class ze{static from(e,n=fu,i=du){const r=e.length,o=new Float64Array(r*2);for(let a=0;a<r;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=i(s)}return new ze(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,u=-1/0,f=-1/0;for(let y=0;y<a;y++){const M=e[2*y],w=e[2*y+1];M<s&&(s=M),w<l&&(l=w),M>u&&(u=M),w>f&&(f=w),this._ids[y]=y}const c=(s+u)/2,h=(l+f)/2;let d,g,m;for(let y=0,M=1/0;y<a;y++){const w=un(c,h,e[2*y],e[2*y+1]);w<M&&(d=y,M=w)}const p=e[2*d],v=e[2*d+1];for(let y=0,M=1/0;y<a;y++){if(y===d)continue;const w=un(p,v,e[2*y],e[2*y+1]);w<M&&w>0&&(g=y,M=w)}let b=e[2*g],k=e[2*g+1],C=1/0;for(let y=0;y<a;y++){if(y===d||y===g)continue;const M=cu(p,v,b,k,e[2*y],e[2*y+1]);M<C&&(m=y,C=M)}let A=e[2*m],x=e[2*m+1];if(C===1/0){for(let w=0;w<a;w++)this._dists[w]=e[2*w]-e[0]||e[2*w+1]-e[1];ie(this._ids,this._dists,0,a-1);const y=new Uint32Array(a);let M=0;for(let w=0,j=-1/0;w<a;w++){const _=this._ids[w],P=this._dists[_];P>j&&(y[M++]=_,j=P)}this.hull=y.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Ue(p,v,b,k,A,x)<0){const y=g,M=b,w=k;g=m,b=A,k=x,m=y,A=M,x=w}const E=hu(p,v,b,k,A,x);this._cx=E.x,this._cy=E.y;for(let y=0;y<a;y++)this._dists[y]=un(e[2*y],e[2*y+1],E.x,E.y);ie(this._ids,this._dists,0,a-1),this._hullStart=d;let S=3;i[d]=n[m]=g,i[g]=n[d]=m,i[m]=n[g]=d,r[d]=0,r[g]=1,r[m]=2,o.fill(-1),o[this._hashKey(p,v)]=d,o[this._hashKey(b,k)]=g,o[this._hashKey(A,x)]=m,this.trianglesLen=0,this._addTriangle(d,g,m,-1,-1,-1);for(let y=0,M,w;y<this._ids.length;y++){const j=this._ids[y],_=e[2*j],P=e[2*j+1];if(y>0&&Math.abs(_-M)<=Mr&&Math.abs(P-w)<=Mr||(M=_,w=P,j===d||j===g||j===m))continue;let B=0;for(let L=0,G=this._hashKey(_,P);L<this._hashSize&&(B=o[(G+L)%this._hashSize],!(B!==-1&&B!==i[B]));L++);B=n[B];let F=B,I;for(;I=i[F],Ue(_,P,e[2*F],e[2*F+1],e[2*I],e[2*I+1])>=0;)if(F=I,F===B){F=-1;break}if(F===-1)continue;let Y=this._addTriangle(F,j,i[F],-1,-1,r[F]);r[j]=this._legalize(Y+2),r[F]=Y,S++;let O=i[F];for(;I=i[O],Ue(_,P,e[2*O],e[2*O+1],e[2*I],e[2*I+1])<0;)Y=this._addTriangle(O,j,I,r[j],-1,r[O]),r[j]=this._legalize(Y+2),i[O]=O,S--,O=I;if(F===B)for(;I=n[F],Ue(_,P,e[2*I],e[2*I+1],e[2*F],e[2*F+1])<0;)Y=this._addTriangle(I,j,F,-1,r[F],r[I]),this._legalize(Y+2),r[I]=Y,i[F]=F,S--,F=I;this._hullStart=n[j]=F,i[F]=n[O]=j,i[j]=O,o[this._hashKey(_,P)]=j,o[this._hashKey(e[2*F],e[2*F+1])]=F}this.hull=new Uint32Array(S);for(let y=0,M=this._hullStart;y<S;y++)this.hull[y]=M,M=i[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(lu(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:i,coords:r}=this;let o=0,a=0;for(;;){const s=i[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=Pe[--o];continue}const u=s-s%3,f=l+(e+1)%3,c=u+(s+2)%3,h=n[a],d=n[e],g=n[f],m=n[c];if(uu(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1],r[2*m],r[2*m+1])){n[e]=m,n[s]=h;const v=i[c];if(v===-1){let k=this._hullStart;do{if(this._hullTri[k]===c){this._hullTri[k]=e;break}k=this._hullPrev[k]}while(k!==this._hullStart)}this._link(e,v),this._link(s,i[a]),this._link(a,c);const b=u+(s+1)%3;o<Pe.length&&(Pe[o++]=b)}else{if(o===0)break;e=Pe[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,i,r,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=i,this._link(s,r),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function lu(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function un(t,e,n,i){const r=t-n,o=e-i;return r*r+o*o}function uu(t,e,n,i,r,o,a,s){const l=t-a,u=e-s,f=n-a,c=i-s,h=r-a,d=o-s,g=l*l+u*u,m=f*f+c*c,p=h*h+d*d;return l*(c*p-m*d)-u*(f*p-m*h)+g*(f*d-c*h)<0}function cu(t,e,n,i,r,o){const a=n-t,s=i-e,l=r-t,u=o-e,f=a*a+s*s,c=l*l+u*u,h=.5/(a*u-s*l),d=(u*f-s*c)*h,g=(a*c-l*f)*h;return d*d+g*g}function hu(t,e,n,i,r,o){const a=n-t,s=i-e,l=r-t,u=o-e,f=a*a+s*s,c=l*l+u*u,h=.5/(a*u-s*l),d=t+(u*f-s*c)*h,g=e+(a*c-l*f)*h;return{x:d,y:g}}function ie(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const o=t[r],a=e[o];let s=r-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const r=n+i>>1;let o=n+1,a=i;pe(t,r,o),e[t[n]]>e[t[i]]&&pe(t,n,i),e[t[o]]>e[t[i]]&&pe(t,o,i),e[t[n]]>e[t[o]]&&pe(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;pe(t,o,a)}t[n+1]=t[a],t[a]=s,i-o+1>=a-n?(ie(t,e,o,i),ie(t,e,n,a-1)):(ie(t,e,n,a-1),ie(t,e,o,i))}}function pe(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function fu(t){return t[0]}function du(t){return t[1]}const Tr=1e-6;class zt{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,i){e=+e,n=+n,i=+i;const r=e+i,o=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>Tr||Math.abs(this._y1-o)>Tr)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${e-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(e,n,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class yn{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class gu{constructor(e,[n,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(n=+n))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=n,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:i},vectors:r}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,p=0,v=i.length,b,k;m<v;m+=3,p+=2){const C=i[m]*2,A=i[m+1]*2,x=i[m+2]*2,E=e[C],S=e[C+1],y=e[A],M=e[A+1],w=e[x],j=e[x+1],_=y-E,P=M-S,B=w-E,F=j-S,I=(_*F-P*B)*2;if(Math.abs(I)<1e-9){if(o===void 0){o=a=0;for(const O of n)o+=e[O*2],a+=e[O*2+1];o/=n.length,a/=n.length}const Y=1e9*Math.sign((o-E)*F-(a-S)*B);b=(E+w)/2-Y*F,k=(S+j)/2+Y*B}else{const Y=1/I,O=_*_+P*P,L=B*B+F*F;b=E+(F*O-P*L)*Y,k=S+(_*L-B*O)*Y}s[p]=b,s[p+1]=k}let l=n[n.length-1],u,f=l*4,c,h=e[2*l],d,g=e[2*l+1];r.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=f,c=h,d=g,f=l*4,h=e[2*l],g=e[2*l+1],r[u+2]=r[f]=d-g,r[u+3]=r[f+1]=h-c}render(e){const n=e==null?e=new zt:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let f=0,c=i.length;f<c;++f){const h=i[f];if(h<f)continue;const d=Math.floor(f/3)*2,g=Math.floor(h/3)*2,m=a[d],p=a[d+1],v=a[g],b=a[g+1];this._renderSegment(m,p,v,b,e)}let l,u=o[o.length-1];for(let f=0;f<o.length;++f){l=u,u=o[f];const c=Math.floor(r[u]/3)*2,h=a[c],d=a[c+1],g=l*4,m=this._project(h,d,s[g+2],s[g+3]);m&&this._renderSegment(h,d,m[0],m[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new zt:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const i=n==null?n=new zt:void 0,r=this._clip(e);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(r[a]!==r[a-2]||r[a+1]!==r[a-1])&&n.lineTo(r[a],r[a+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,i=e.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(e){const n=new yn;return this.renderCell(e,n),n.value()}_renderSegment(e,n,i,r,o){let a;const s=this._regioncode(e,n),l=this._regioncode(i,r);s===0&&l===0?(o.moveTo(e,n),o.lineTo(i,r)):(a=this._clipSegment(e,n,i,r,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(e,n,i)===e}*neighbors(e){const n=this._clip(e);if(n)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=r.length;s<l;s+=2)if(n[o]===r[s]&&n[o+1]===r[s+1]&&n[(o+2)%a]===r[(s+l-2)%l]&&n[(o+3)%a]===r[(s+l-1)%l]){yield i;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,a=i[e];if(a===-1)return null;const s=[];let l=a;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=r[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:i}=this,r=e*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(e,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,n))}_clipFinite(e,n){const i=n.length;let r=null,o,a,s=n[i-2],l=n[i-1],u,f=this._regioncode(s,l),c,h=0;for(let d=0;d<i;d+=2)if(o=s,a=l,s=n[d],l=n[d+1],u=f,f=this._regioncode(s,l),u===0&&f===0)c=h,h=0,r?r.push(s,l):r=[s,l];else{let g,m,p,v,b;if(u===0){if((g=this._clipSegment(o,a,s,l,u,f))===null)continue;[m,p,v,b]=g}else{if((g=this._clipSegment(s,l,o,a,f,u))===null)continue;[v,b,m,p]=g,c=h,h=this._edgecode(m,p),c&&h&&this._edge(e,c,h,r,r.length),r?r.push(m,p):r=[m,p]}c=h,h=this._edgecode(v,b),c&&h&&this._edge(e,c,h,r,r.length),r?r.push(v,b):r=[v,b]}if(r)c=h,h=this._edgecode(r[0],r[1]),c&&h&&this._edge(e,c,h,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,n,i,r,o,a){const s=o<a;for(s&&([e,n,i,r,o,a]=[i,r,e,n,a,o]);;){if(o===0&&a===0)return s?[i,r,e,n]:[e,n,i,r];if(o&a)return null;let l,u,f=o||a;f&8?(l=e+(i-e)*(this.ymax-n)/(r-n),u=this.ymax):f&4?(l=e+(i-e)*(this.ymin-n)/(r-n),u=this.ymin):f&2?(u=n+(r-n)*(this.xmax-e)/(i-e),l=this.xmax):(u=n+(r-n)*(this.xmin-e)/(i-e),l=this.xmin),o?(e=l,n=u,o=this._regioncode(e,n)):(i=l,r=u,a=this._regioncode(i,r))}}_clipInfinite(e,n,i,r,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],i,r))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let u=0,f=s.length,c,h=this._edgecode(s[f-2],s[f-1]);u<f;u+=2)c=h,h=this._edgecode(s[u],s[u+1]),c&&h&&(u=this._edge(e,c,h,s,u),f=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,i,r,o){for(;n!==i;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(r[o]!==a||r[o+1]!==s)&&this.contains(e,a,s)&&(r.splice(o,0,a,s),o+=2)}return o}_project(e,n,i,r){let o=1/0,a,s,l;if(r<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/r)<o&&(l=this.ymin,s=e+(o=a)*i)}else if(r>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/r)<o&&(l=this.ymax,s=e+(o=a)*i)}if(i>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/i)<o&&(s=this.xmax,l=n+(o=a)*r)}else if(i<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/i)<o&&(s=this.xmin,l=n+(o=a)*r)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const i=(n+2)%e.length,r=(n+4)%e.length;(e[n]===e[i]&&e[i]===e[r]||e[n+1]===e[i+1]&&e[i+1]===e[r+1])&&(e.splice(i,2),n-=2)}e.length||(e=null)}return e}}const mu=2*Math.PI,ne=Math.pow;function pu(t){return t[0]}function vu(t){return t[1]}function yu(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const r=2*e[i],o=2*e[i+1],a=2*e[i+2];if((n[a]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}function bu(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Dn{static from(e,n=pu,i=vu,r){return new Dn("length"in e?xu(e,n,i,r):Float64Array.from(Mu(e,n,i,r)))}constructor(e){this._delaunator=new ze(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&yu(e)){this.collinear=Int32Array.from({length:n.length/2},(h,d)=>d).sort((h,d)=>n[2*h]-n[2*d]||n[2*h+1]-n[2*d+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],f=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],c=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,d=n.length/2;h<d;++h){const g=bu(n[2*h],n[2*h+1],c);n[2*h]=g[0],n[2*h+1]=g[1]}this._delaunator=new ze(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=i.length;l<u;++l){const f=o[l%3===2?l-2:l+1];(i[l]===-1||a[f]===-1)&&(a[f]=l)}for(let l=0,u=r.length;l<u;++l)s[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,r.length===2&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new gu(this,e)}*neighbors(e){const{inedges:n,hull:i,_hullIndex:r,halfedges:o,triangles:a,collinear:s}=this;if(s){const c=s.indexOf(e);c>0&&(yield s[c-1]),c<s.length-1&&(yield s[c+1]);return}const l=n[e];if(l===-1)return;let u=l,f=-1;do{if(yield f=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){const c=i[(r[e]+1)%i.length];c!==f&&(yield c);return}}while(u!==l)}find(e,n,i=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const r=i;let o;for(;(o=this._step(i,e,n))>=0&&o!==i&&o!==r;)i=o;return o}_step(e,n,i){const{inedges:r,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:u}=this;if(r[e]===-1||!u.length)return(e+1)%(u.length>>1);let f=e,c=ne(n-u[e*2],2)+ne(i-u[e*2+1],2);const h=r[e];let d=h;do{let g=l[d];const m=ne(n-u[g*2],2)+ne(i-u[g*2+1],2);if(m<c&&(c=m,f=g),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=s[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==g&&ne(n-u[d*2],2)+ne(i-u[d*2+1],2)<c)return d;break}}while(d!==h);return f}render(e){const n=e==null?e=new zt:void 0,{points:i,halfedges:r,triangles:o}=this;for(let a=0,s=r.length;a<s;++a){const l=r[a];if(l<a)continue;const u=o[a]*2,f=o[l]*2;e.moveTo(i[u],i[u+1]),e.lineTo(i[f],i[f+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const i=e==null?e=new zt:void 0,{points:r}=this;for(let o=0,a=r.length;o<a;o+=2){const s=r[o],l=r[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,mu)}return i&&i.value()}renderHull(e){const n=e==null?e=new zt:void 0,{hull:i,points:r}=this,o=i[0]*2,a=i.length;e.moveTo(r[o],r[o+1]);for(let s=1;s<a;++s){const l=2*i[s];e.lineTo(r[l],r[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new yn;return this.renderHull(e),e.value()}renderTriangle(e,n){const i=n==null?n=new zt:void 0,{points:r,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(r[a],r[a+1]),n.lineTo(r[s],r[s+1]),n.lineTo(r[l],r[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,i=e.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new yn;return this.renderTriangle(e,n),n.value()}}function xu(t,e,n,i){const r=t.length,o=new Float64Array(r*2);for(let a=0;a<r;++a){const s=t[a];o[a*2]=e.call(i,s,a,t),o[a*2+1]=n.call(i,s,a,t)}return o}function*Mu(t,e,n,i){let r=0;for(const o of t)yield e.call(i,o,r,t),yield n.call(i,o,r,t),++r}var Bn=function(t){return[t.x,t.y]},ke=vo,ki="cursor",Ci="top",Tu=function(t){var e=t.points,n=t.getNodePosition,i=n===void 0?Bn:n,r=t.margin,o=r===void 0?ke:r;return e.map(function(a){var s=i(a),l=s[0],u=s[1];return[l+o.left,u+o.top]})},wu=function(t){var e=t.points,n=t.width,i=t.height,r=t.margin,o=r===void 0?ke:r,a=t.debug,s=Dn.from(e),l=a?s.voronoi([0,0,o.left+n+o.right,o.top+i+o.bottom]):void 0;return{points:e,delaunay:s,voronoi:l}},_i=function(t){var e=t.points,n=t.getNodePosition,i=n===void 0?Bn:n,r=t.width,o=t.height,a=t.margin,s=a===void 0?ke:a,l=t.debug;return T.useMemo(function(){return wu({points:Tu({points:e,margin:s,getNodePosition:i}),width:r,height:o,margin:s,debug:l})},[e,r,o,s,l])},ku=function(t){var e=t.elementRef,n=t.nodes,i=t.getNodePosition,r=i===void 0?Bn:i,o=t.delaunay,a=t.setCurrent,s=t.margin,l=s===void 0?ke:s,u=t.detectionRadius,f=u===void 0?1/0:u,c=t.isInteractive,h=c===void 0||c,d=t.onMouseEnter,g=t.onMouseMove,m=t.onMouseLeave,p=t.onClick,v=t.onTouchStart,b=t.onTouchMove,k=t.onTouchEnd,C=t.enableTouchCrosshair,A=C!==void 0&&C,x=t.tooltip,E=t.tooltipPosition,S=E===void 0?ki:E,y=t.tooltipAnchor,M=y===void 0?Ci:y,w=T.useState(null),j=w[0],_=w[1],P=T.useRef(null);T.useEffect(function(){P.current=j},[P,j]);var B=T.useCallback(function(U){if(!e.current)return null;var D=Yr(e.current,U),N=D[0],q=D[1],Q=o.find(N,q),z=Q!==void 0?n[Q]:null;if(z&&f!==1/0){var K=r(z),xt=K[0],rt=K[1];yo(N,q,xt+l.left,rt+l.top)>f&&(Q=null,z=null)}return Q===null||z===null?null:[Q,z]},[e,o,n,r,l,f]),F=Ve(),I=F.showTooltipAt,Y=F.showTooltipFromEvent,O=F.hideTooltip,L=T.useMemo(function(){if(x)return S==="cursor"?function(U,D){Y(x(U),D,M)}:function(U){var D=r(U),N=D[0],q=D[1];I(x(U),[N+l.left,q+l.top],M)}},[I,Y,x,S,M,r,l]),G=T.useCallback(function(U){var D=B(U);if(_(D),a==null||a(D?D[1]:null),D){var N=D[1];L==null||L(N,U),d==null||d(D[1],U)}},[B,_,a,L,d]),tt=T.useCallback(function(U){var D=B(U);if(_(D),D){var N=D[0],q=D[1];if(a==null||a(q),L==null||L(q,U),P.current){var Q=P.current,z=Q[0],K=Q[1];N!==z?m==null||m(K,U):g==null||g(q,U)}else d==null||d(q,U)}else a==null||a(null),O==null||O(),P.current&&(m==null||m(P.current[1],U))},[B,_,P,d,g,m,L,O]),ot=T.useCallback(function(U){_(null),a==null||a(null),O(),m&&P.current&&m(P.current[1],U)},[_,a,P,O,m]),at=T.useCallback(function(U){var D=B(U);_(D),D&&(p==null||p(D[1],U))},[B,_,p]),ht=T.useCallback(function(U){var D=B(U);A&&(_(D),a==null||a(D?D[1]:null)),D&&(v==null||v(D[1],U))},[B,_,a,A,v]),H=T.useCallback(function(U){var D=B(U);A&&(_(D),a==null||a(D?D[1]:null)),D&&(b==null||b(D[1],U))},[B,_,a,A,b]),X=T.useCallback(function(U){A&&(_(null),a==null||a(null)),k&&P.current&&k(P.current[1],U)},[A,_,a,k,P]);return{current:j,handleMouseEnter:h?G:void 0,handleMouseMove:h?tt:void 0,handleMouseLeave:h?ot:void 0,handleClick:h?at:void 0,handleTouchStart:h?ht:void 0,handleTouchMove:h?H:void 0,handleTouchEnd:h?X:void 0}},Cu=function(t){var e=t.nodes,n=t.width,i=t.height,r=t.margin,o=r===void 0?ke:r,a=t.getNodePosition,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd,m=t.enableTouchCrosshair,p=m!==void 0&&m,v=t.detectionRadius,b=v===void 0?1/0:v,k=t.tooltip,C=t.tooltipPosition,A=C===void 0?ki:C,x=t.tooltipAnchor,E=x===void 0?Ci:x,S=t.debug,y=T.useRef(null),M=_i({points:e,getNodePosition:a,width:n,height:i,margin:o,debug:S}),w=M.delaunay,j=M.voronoi,_=ku({elementRef:y,nodes:e,delaunay:w,margin:o,detectionRadius:b,setCurrent:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:f,onClick:c,onTouchStart:h,onTouchMove:d,onTouchEnd:g,enableTouchCrosshair:p,tooltip:k,tooltipPosition:A,tooltipAnchor:E}),P=_.current,B=_.handleMouseEnter,F=_.handleMouseMove,I=_.handleMouseLeave,Y=_.handleClick,O=_.handleTouchStart,L=_.handleTouchMove,G=_.handleTouchEnd,tt=T.useMemo(function(){if(S&&j)return j.render()},[S,j]);return $.jsxs("g",{ref:y,transform:"translate("+-o.left+","+-o.top+")",children:[S&&j&&$.jsxs($.Fragment,{children:[$.jsx("path",{d:tt,stroke:"red",strokeWidth:1,opacity:.75}),b<1/0&&$.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:w.renderPoints(void 0,b)}),P&&$.jsx("path",{fill:"pink",opacity:.35,d:j.renderCell(P[0])})]}),$.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+n+o.right,height:o.top+i+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:B,onMouseMove:F,onMouseLeave:I,onTouchStart:O,onTouchMove:L,onTouchEnd:G,onClick:Y})]})},_u=function(t,e){t.save(),t.globalAlpha=.75,t.beginPath(),e.render(t),t.strokeStyle="red",t.lineWidth=1,t.stroke(),t.restore()},Su=function(t,e,n){t.save(),t.globalAlpha=.35,t.beginPath(),e.renderCell(n,t),t.fillStyle="pink",t.fill(),t.restore()};function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nt.apply(this,arguments)}var Wn=T.memo(function(t){var e=t.point;return $.jsx(bo,{id:$.jsxs("span",{children:["x: ",$.jsx("strong",{children:e.data.xFormatted}),", y:"," ",$.jsx("strong",{children:e.data.yFormatted})]}),enableChip:!0,color:e.serieColor})}),Si=T.memo(function(t){var e=t.slice,n=t.axis,i=Pt(),r=n==="x"?"y":"x";return $.jsx(xo,{rows:e.points.map(function(o){return[$.jsx(Mo,{color:o.serieColor,style:i.tooltip.chip},"chip"),o.serieId,$.jsx("span",{style:i.tooltip.tableCellValue,children:o.data[r+"Formatted"]},"value")]})})}),Ai={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Wn,enableSlices:!1,debugSlices:!1,sliceTooltip:Si,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Ut=nt({},Ai,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});nt({},Ai,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Au=function(t){var e=t.curve;return T.useMemo(function(){return _r().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(Gr(e))},[e])},$u=function(t){var e=t.curve,n=t.yScale,i=t.areaBaselineValue;return T.useMemo(function(){return Na().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y1(function(r){return r.y}).curve(Gr(e)).y0(n(i))},[e,n,i])},ju=function(t){var e=t.componentId,n=t.enableSlices,i=t.points,r=t.width,o=t.height;return T.useMemo(function(){if(n===!1)return[];if(n==="x"){var a=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(a.has(l.x)?a.get(l.x).push(l):a.set(l.x,[l]))}),Array.from(a.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,f){var c,h,d=l[0],g=l[1],m=f[u-1],p=f[u+1];return c=m?d-(d-m[0])/2:d,h=p?d-c+(p[0]-d)/2:r-c,{id:"slice:"+e+":"+d,x0:c,x:d,y0:0,y:0,width:h,height:o,points:g.reverse()}})}if(n==="y"){var s=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(s.has(l.y)?s.get(l.y).push(l):s.set(l.y,[l]))}),Array.from(s.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,f){var c,h,d=l[0],g=l[1],m=f[u-1],p=f[u+1];return c=m?d-(d-m[0])/2:d,h=p?d-c+(p[0]-d)/2:o-c,{id:d,x0:0,x:0,y0:c,y:d,width:r,height:h,points:g.reverse()}})}},[e,n,o,i,r])},Eu="line",$i=function(t){var e=t.data,n=t.xScale,i=n===void 0?Ut.xScale:n,r=t.xFormat,o=t.yScale,a=o===void 0?Ut.yScale:o,s=t.yFormat,l=t.width,u=t.height,f=t.colors,c=f===void 0?Ut.colors:f,h=t.curve,d=h===void 0?Ut.curve:h,g=t.areaBaselineValue,m=g===void 0?Ut.areaBaselineValue:g,p=t.pointColor,v=p===void 0?Ut.pointColor:p,b=t.pointBorderColor,k=b===void 0?Ut.pointBorderColor:b,C=t.enableSlices,A=C===void 0?Ut.enableSlicesTooltip:C,x=T.useState(Rl(Eu))[0],E=Qn(r),S=Qn(s),y=jo(c,"id"),M=Pt(),w=He(v,M),j=He(k,M),_=T.useState([]),P=_[0],B=_[1],F=T.useMemo(function(){return _l(e.filter(function(H){return P.indexOf(H.id)===-1}),i,a,l,u)},[e,P,i,a,l,u]),I=F.xScale,Y=F.yScale,O=F.series,L=T.useMemo(function(){var H=e.map(function(U){return{id:U.id,label:U.id,color:y(U)}}),X=H.map(function(U){return nt({},O.find(function(D){return D.id===U.id}),{color:U.color})}).filter(function(U){return!!U.id});return{legendData:H.map(function(U){return nt({},U,{hidden:!X.find(function(D){return D.id===U.id})})}).reverse(),series:X}},[e,O,y]),G=L.legendData,tt=L.series,ot=T.useCallback(function(H){B(function(X){return X.indexOf(H)>-1?X.filter(function(U){return U!==H}):[].concat(X,[H])})},[]),at=function(H){var X=H.series,U=H.getPointColor,D=H.getPointBorderColor,N=H.formatX,q=H.formatY;return T.useMemo(function(){return X.reduce(function(Q,z){return[].concat(Q,z.data.filter(function(K){return K.position.x!==null&&K.position.y!==null}).map(function(K,xt){var rt={id:z.id+"."+xt,index:Q.length+xt,serieId:z.id,serieColor:z.color,x:K.position.x,y:K.position.y};return rt.color=U(z),rt.borderColor=D(rt),rt.data=nt({},K.data,{xFormatted:N(K.data.x),yFormatted:q(K.data.y)}),rt}))},[])},[X,U,D,N,q])}({series:tt,getPointColor:w,getPointBorderColor:j,formatX:E,formatY:S}),ht=ju({componentId:x,enableSlices:A,points:at,width:l,height:u});return{legendData:G,toggleSerie:ot,lineGenerator:Au({curve:d}),areaGenerator:$u({curve:d,yScale:Y,areaBaselineValue:m}),getColor:y,series:tt,xScale:I,yScale:Y,slices:ht,points:at}},Fu=function(t){var e=t.areaBlendMode,n=t.areaOpacity,i=t.color,r=t.fill,o=t.path,a=xn(),s=a.animate,l=a.config,u=Hr(o),f=Ir({color:i,config:l,immediate:!s});return $.jsx(wi.path,{d:u,fill:r||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:e}})},Ou=T.memo(function(t){var e=t.areaGenerator,n=t.areaOpacity,i=t.areaBlendMode,r=t.lines.slice(0).reverse();return $.jsx("g",{children:r.map(function(o){return $.jsx(Fu,nt({path:e(o.data.map(function(a){return a.position}))},nt({areaOpacity:n,areaBlendMode:i},o)),o.id)})})}),Uu=T.memo(function(t){var e=t.lineGenerator,n=t.points,i=t.color,r=t.thickness,o=T.useMemo(function(){return e(n)},[e,n]),a=Hr(o);return $.jsx(wi.path,{d:a,fill:"none",strokeWidth:r,stroke:i})}),Pu=T.memo(function(t){var e=t.lines,n=t.lineGenerator,i=t.lineWidth;return e.slice(0).reverse().map(function(r){var o=r.id,a=r.data,s=r.color;return $.jsx(Uu,{id:o,points:a.map(function(l){return l.position}),lineGenerator:n,color:s,thickness:i},o)})}),Du=T.memo(function(t){var e=t.slice,n=t.slices,i=t.axis,r=t.debug,o=t.tooltip,a=t.isCurrent,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd,m=Ve(),p=m.showTooltipFromEvent,v=m.hideTooltip,b=T.useCallback(function(y){p(T.createElement(o,{slice:e,axis:i}),y,"right"),s(e),l&&l(e,y)},[p,o,e,i,s,l]),k=T.useCallback(function(y){p(T.createElement(o,{slice:e,axis:i}),y,"right"),u&&u(e,y)},[p,o,e,i,u]),C=T.useCallback(function(y){v(),s(null),f&&f(e,y)},[v,s,f,e]),A=T.useCallback(function(y){c&&c(e,y)},[e,c]),x=T.useCallback(function(y){p(T.createElement(o,{slice:e,axis:i}),y,"right"),s(e),h&&h(e,y)},[i,h,s,p,e,o]),E=T.useCallback(function(y){var M=y.touches[0],w=document.elementFromPoint(M.clientX,M.clientY),j=w==null?void 0:w.getAttribute("data-ref");if(j){var _=n.find(function(P){return P.id===j});_&&(p(T.createElement(o,{slice:_,axis:i}),y,"right"),s(_))}d&&d(e,y)},[i,d,s,p,e,n,o]),S=T.useCallback(function(y){v(),s(null),g&&g(e,y)},[v,s,g,e]);return $.jsx("rect",{x:e.x0,y:e.y0,width:e.width,height:e.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&r?.35:0,onMouseEnter:b,onMouseMove:k,onMouseLeave:C,onClick:A,onTouchStart:x,onTouchMove:E,onTouchEnd:S,"data-ref":e.id})}),Bu=T.memo(function(t){var e=t.slices,n=t.axis,i=t.debug,r=t.height,o=t.tooltip,a=t.current,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd;return e.map(function(m){return $.jsx(Du,{slice:m,slices:e,axis:n,debug:i,height:r,tooltip:o,setCurrent:s,isCurrent:a!==null&&a.id===m.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:f,onClick:c,onTouchStart:h,onTouchMove:d,onTouchEnd:g},m.id)})}),Wu=T.memo(function(t){var e=t.points,n=t.symbol,i=t.size,r=t.borderWidth,o=t.enableLabel,a=t.label,s=t.labelYOffset,l=Pt(),u=To(a),f=e.slice(0).reverse().map(function(c){return{id:c.id,x:c.x,y:c.y,datum:c.data,fill:c.color,stroke:c.borderColor,label:o?u(c):null}});return $.jsx("g",{children:f.map(function(c){return $.jsx(wo,{x:c.x,y:c.y,datum:c.datum,symbol:n,size:i,color:c.fill,borderWidth:r,borderColor:c.stroke,label:c.label,labelYOffset:s,theme:l},c.id)})})}),Iu=T.memo(function(t){var e=t.points,n=t.width,i=t.height,r=t.margin,o=t.setCurrent,a=t.onMouseEnter,s=t.onMouseMove,l=t.onMouseLeave,u=t.onClick,f=t.onTouchStart,c=t.onTouchMove,h=t.onTouchEnd,d=t.tooltip,g=t.debug,m=t.enableTouchCrosshair,p=Ve(),v=p.showTooltipAt,b=p.hideTooltip,k=T.useCallback(function(M,w){v(T.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),a&&a(M,w)},[v,d,a,r]),C=T.useCallback(function(M,w){v(T.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),s&&s(M,w)},[v,d,r.left,r.top,s]),A=T.useCallback(function(M,w){b(),l&&l(M,w)},[b,l]),x=T.useCallback(function(M,w){u&&u(M,w)},[u]),E=T.useCallback(function(M,w){v(T.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),f&&f(M,w)},[r.left,r.top,f,v,d]),S=T.useCallback(function(M,w){v(T.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),c&&c(M,w)},[r.left,r.top,c,v,d]),y=T.useCallback(function(M,w){b(),h&&h(M,w)},[h,b]);return $.jsx(Cu,{nodes:e,width:n,height:i,setCurrent:o,onMouseEnter:k,onMouseMove:C,onMouseLeave:A,onClick:x,onTouchStart:E,onTouchMove:S,onTouchEnd:y,enableTouchCrosshair:m,debug:g})}),Yu=Nr(function(t){var e=t.data,n=t.xScale,i=n===void 0?{type:"point"}:n,r=t.xFormat,o=t.yScale,a=o===void 0?{type:"linear",min:0,max:"auto"}:o,s=t.yFormat,l=t.layers,u=l===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:l,f=t.curve,c=f===void 0?"linear":f,h=t.areaBaselineValue,d=h===void 0?0:h,g=t.colors,m=g===void 0?{scheme:"nivo"}:g,p=t.margin,v=t.width,b=t.height,k=t.axisTop,C=t.axisRight,A=t.axisBottom,x=A===void 0?{}:A,E=t.axisLeft,S=E===void 0?{}:E,y=t.enableGridX,M=y===void 0||y,w=t.enableGridY,j=w===void 0||w,_=t.gridXValues,P=t.gridYValues,B=t.lineWidth,F=B===void 0?2:B,I=t.enableArea,Y=I!==void 0&&I,O=t.areaOpacity,L=O===void 0?.2:O,G=t.areaBlendMode,tt=G===void 0?"normal":G,ot=t.enablePoints,at=ot===void 0||ot,ht=t.pointSymbol,H=t.pointSize,X=H===void 0?6:H,U=t.pointColor,D=U===void 0?{from:"color"}:U,N=t.pointBorderWidth,q=N===void 0?0:N,Q=t.pointBorderColor,z=Q===void 0?{theme:"background"}:Q,K=t.enablePointLabel,xt=K!==void 0&&K,rt=t.pointLabel,Dt=rt===void 0?"data.yFormatted":rt,Ce=t.pointLabelYOffset,se=t.defs,le=se===void 0?[]:se,qt=t.fill,_e=qt===void 0?[]:qt,Se=t.markers,ue=t.legends,Bt=ue===void 0?[]:ue,gt=t.isInteractive,it=gt===void 0||gt,st=t.useMesh,Wt=st!==void 0&&st,jt=t.debugMesh,Mt=jt!==void 0&&jt,ce=t.onMouseEnter,Tt=t.onMouseMove,Et=t.onMouseLeave,wt=t.onClick,It=t.onTouchStart,Kt=t.onTouchMove,mt=t.onTouchEnd,Yt=t.tooltip,Jt=Yt===void 0?Wn:Yt,Ft=t.enableSlices,Ot=Ft!==void 0&&Ft,he=t.debugSlices,Ae=he!==void 0&&he,Lt=t.sliceTooltip,$e=Lt===void 0?Si:Lt,fe=t.enableCrosshair,Qt=fe===void 0||fe,de=t.crosshairType,Je=de===void 0?"bottom-left":de,je=t.enableTouchCrosshair,W=je!==void 0&&je,R=t.role,kt=R===void 0?"img":R,pt=Rr(v,b,p),V=pt.margin,ft=pt.innerWidth,vt=pt.innerHeight,ji=pt.outerWidth,Ei=pt.outerHeight,Ct=$i({data:e,xScale:i,xFormat:r,yScale:a,yFormat:s,width:ft,height:vt,colors:m,curve:c,areaBaselineValue:d,pointColor:D,pointBorderColor:z,enableSlices:Ot}),Fi=Ct.legendData,Oi=Ct.toggleSerie,In=Ct.lineGenerator,Yn=Ct.areaGenerator,Ee=Ct.series,Fe=Ct.xScale,Oe=Ct.yScale,Ln=Ct.slices,Qe=Ct.points,Zt=Pt(),Ui=He(D,Zt),Pi=He(z,Zt),Nn=T.useState(null),ge=Nn[0],Hn=Nn[1],Rn=T.useState(null),me=Rn[0],Gn=Rn[1],Nt={grid:$.jsx(Bl,{theme:Zt,width:ft,height:vt,xScale:M?Fe:null,yScale:j?Oe:null,xValues:_,yValues:P},"grid"),markers:$.jsx(Co,{markers:Se,width:ft,height:vt,xScale:Fe,yScale:Oe,theme:Zt},"markers"),axes:$.jsx(Pl,{xScale:Fe,yScale:Oe,width:ft,height:vt,theme:Zt,top:k,right:C,bottom:x,left:S},"axes"),areas:null,lines:$.jsx(Pu,{lines:Ee,lineGenerator:In,lineWidth:F},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Bt.map(function(Ht,Ze){return $.jsx(ko,nt({},Ht,{containerWidth:ft,containerHeight:vt,data:Ht.data||Fi,theme:Zt,toggleSerie:Ht.toggleSerie?Oi:void 0}),"legend."+Ze)})},Di=_o(le,Ee,_e);return Y&&(Nt.areas=$.jsx(Ou,{areaGenerator:Yn,areaOpacity:L,areaBlendMode:tt,lines:Ee},"areas")),it&&Ot!==!1&&(Nt.slices=$.jsx(Bu,{slices:Ln,axis:Ot,debug:Ae,height:vt,tooltip:$e,current:me,setCurrent:Gn,onMouseEnter:ce,onMouseMove:Tt,onMouseLeave:Et,onClick:wt,onTouchStart:It,onTouchMove:Kt,onTouchEnd:mt},"slices")),at&&(Nt.points=$.jsx(Wu,{points:Qe,symbol:ht,size:X,color:Ui,borderWidth:q,borderColor:Pi,enableLabel:xt,label:Dt,labelYOffset:Ce},"points")),it&&Qt&&(ge!==null&&(Nt.crosshair=$.jsx(Jn,{width:ft,height:vt,x:ge.x,y:ge.y,type:Je},"crosshair")),me!==null&&(Nt.crosshair=$.jsx(Jn,{width:ft,height:vt,x:me.x,y:me.y,type:Ot},"crosshair"))),it&&Wt&&Ot===!1&&(Nt.mesh=$.jsx(Iu,{points:Qe,width:ft,height:vt,margin:V,current:ge,setCurrent:Hn,onMouseEnter:ce,onMouseMove:Tt,onMouseLeave:Et,onClick:wt,onTouchStart:It,onTouchMove:Kt,onTouchEnd:mt,tooltip:Jt,enableTouchCrosshair:W,debug:Mt},"mesh")),$.jsx(So,{defs:Di,width:ji,height:Ei,margin:V,role:kt,children:u.map(function(Ht,Ze){return typeof Ht=="function"?$.jsx(T.Fragment,{children:Ht(nt({},t,{innerWidth:ft,innerHeight:vt,series:Ee,slices:Ln,points:Qe,xScale:Fe,yScale:Oe,lineGenerator:In,areaGenerator:Yn,currentPoint:ge,setCurrentPoint:Hn,currentSlice:me,setCurrentSlice:Gn}))},Ze):Nt[Ht]})})}),qu=function(t){return $.jsx(Lr,{children:function(e){var n=e.width,i=e.height;return $.jsx(Yu,nt({width:n,height:i},t))}})},Lu=Nr(function(t){var e=T.useRef(null),n=t.width,i=t.height,r=t.margin,o=t.pixelRatio,a=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,s=t.data,l=t.xScale,u=l===void 0?{type:"point"}:l,f=t.xFormat,c=t.yScale,h=c===void 0?{type:"linear",min:0,max:"auto"}:c,d=t.yFormat,g=t.curve,m=g===void 0?"linear":g,p=t.layers,v=p===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:p,b=t.colors,k=b===void 0?{scheme:"nivo"}:b,C=t.lineWidth,A=C===void 0?2:C,x=t.enableArea,E=x!==void 0&&x,S=t.areaBaselineValue,y=S===void 0?0:S,M=t.areaOpacity,w=M===void 0?.2:M,j=t.enablePoints,_=j===void 0||j,P=t.pointSize,B=P===void 0?6:P,F=t.pointColor,I=F===void 0?{from:"color"}:F,Y=t.pointBorderWidth,O=Y===void 0?0:Y,L=t.pointBorderColor,G=L===void 0?{theme:"background"}:L,tt=t.enableGridX,ot=tt===void 0||tt,at=t.gridXValues,ht=t.enableGridY,H=ht===void 0||ht,X=t.gridYValues,U=t.axisTop,D=t.axisRight,N=t.axisBottom,q=N===void 0?{}:N,Q=t.axisLeft,z=Q===void 0?{}:Q,K=t.legends,xt=K===void 0?[]:K,rt=t.isInteractive,Dt=rt===void 0||rt,Ce=t.debugMesh,se=Ce!==void 0&&Ce,le=t.onMouseLeave,qt=t.onClick,_e=t.tooltip,Se=_e===void 0?Wn:_e,ue=t.canvasRef,Bt=Rr(n,i,r),gt=Bt.margin,it=Bt.innerWidth,st=Bt.innerHeight,Wt=Bt.outerWidth,jt=Bt.outerHeight,Mt=Pt(),ce=T.useState(null),Tt=ce[0],Et=ce[1],wt=$i({data:s,xScale:u,xFormat:f,yScale:h,yFormat:d,width:it,height:st,colors:k,curve:m,areaBaselineValue:y,pointColor:I,pointBorderColor:G}),It=wt.lineGenerator,Kt=wt.areaGenerator,mt=wt.series,Yt=wt.xScale,Jt=wt.yScale,Ft=wt.points,Ot=_i({points:Ft,width:it,height:st,debug:se}),he=Ot.delaunay,Ae=Ot.voronoi;T.useEffect(function(){ue&&(ue.current=e.current),e.current.width=Wt*a,e.current.height=jt*a;var W=e.current.getContext("2d");W.scale(a,a),W.fillStyle=Mt.background,W.fillRect(0,0,Wt,jt),W.translate(gt.left,gt.top),v.forEach(function(R){if(typeof R=="function"&&R({ctx:W,innerWidth:it,innerHeight:st,series:mt,points:Ft,xScale:Yt,yScale:Jt,lineWidth:A,lineGenerator:It,areaGenerator:Kt,currentPoint:Tt,setCurrentPoint:Et}),R==="grid"&&Mt.grid.line.strokeWidth>0&&(W.lineWidth=Mt.grid.line.strokeWidth,W.strokeStyle=Mt.grid.line.stroke,ot&&pr(W,{width:it,height:st,scale:Yt,axis:"x",values:at}),H&&pr(W,{width:it,height:st,scale:Jt,axis:"y",values:X})),R==="axes"&&Il(W,{xScale:Yt,yScale:Jt,width:it,height:st,top:U,right:D,bottom:q,left:z,theme:Mt}),R==="areas"&&E===!0){W.save(),W.globalAlpha=w,Kt.context(W);for(var kt=mt.length-1;kt>=0;kt--)W.fillStyle=mt[kt].color,W.beginPath(),Kt(mt[kt].data.map(function(V){return V.position})),W.fill();W.restore()}if(R==="lines"&&(It.context(W),mt.forEach(function(V){W.strokeStyle=V.color,W.lineWidth=A,W.beginPath(),It(V.data.map(function(ft){return ft.position})),W.stroke()})),R==="points"&&_===!0&&B>0&&Ft.forEach(function(V){W.fillStyle=V.color,W.beginPath(),W.arc(V.x,V.y,B/2,0,2*Math.PI),W.fill(),O>0&&(W.strokeStyle=V.borderColor,W.lineWidth=O,W.stroke())}),R==="mesh"&&se===!0&&(_u(W,Ae),Tt&&Su(W,Ae,Tt.index)),R==="legends"){var pt=mt.map(function(V){return{id:V.id,label:V.id,color:V.color}}).reverse();xt.forEach(function(V){Ao(W,nt({},V,{data:V.data||pt,containerWidth:it,containerHeight:st,theme:Mt}))})}})},[e,Wt,jt,v,Mt,It,mt,Yt,Jt,ot,at,H,X,U,D,q,z,xt,Ft,_,B,Tt]);var Lt=T.useCallback(function(W){var R=Yr(e.current,W),kt=R[0],pt=R[1];if(!$o(gt.left,gt.top,it,st,kt,pt))return null;var V=he.find(kt-gt.left,pt-gt.top);return Ft[V]},[e,gt,it,st,he]),$e=Ve(),fe=$e.showTooltipFromEvent,Qt=$e.hideTooltip,de=T.useCallback(function(W){var R=Lt(W);Et(R),R?fe(T.createElement(Se,{point:R}),W):Qt()},[Lt,Et,fe,Qt,Se]),Je=T.useCallback(function(W){Qt(),Et(null),Tt&&le&&le(Tt,W)},[Qt,Et,le]),je=T.useCallback(function(W){if(qt){var R=Lt(W);R&&qt(R,W)}},[Lt,qt]);return $.jsx("canvas",{ref:e,width:Wt*a,height:jt*a,style:{width:Wt,height:jt,cursor:Dt?"auto":"normal"},onMouseEnter:Dt?de:void 0,onMouseMove:Dt?de:void 0,onMouseLeave:Dt?Je:void 0,onClick:Dt?je:void 0})}),Nu=T.forwardRef(function(t,e){return $.jsx(Lu,nt({},t,{canvasRef:e}))});T.forwardRef(function(t,e){return $.jsx(Lr,{children:function(n){var i=n.width,r=n.height;return $.jsx(Nu,nt({width:i,height:r},t,{ref:e}))}})});export{Ts as J,$s as _,ci as a,ai as b,ui as c,Me as d,ni as e,La as f,wn as g,si as h,oa as i,Zr as j,ei as l,li as m,qu as p,pn as s,Ya as t,hi as u,qo as v};
