import{r as O,j as I}from"./index-22HUb1_z.js";import{H as Gn}from"./Header-CXtHvVsg.js";import{w as Hn,a6 as Ne,a7 as $,a8 as xe,a9 as ne,aa as Z,ab as Le,ac as Ue,ad as qe,ae,af as V,j as B,ag as Ke,ah as Xn,ai as Fn,h as Yn,m as zn,aj as ye,B as ce,X as be,ak as Re,U as ke,D as Me,al as fe,am as ie,C as oe,K as re,an as Jn,T as Nn,ao as Un,V as qn,Z as Kn,a0 as Zn,Y as Qn,J as _n,a3 as er,a4 as nr,H as rr}from"./nivo-legends.es-CYp-fGTu.js";import{t as Ae}from"./modal-CFzM2TvC.js";import{j as tr,w as Ze}from"./constants-BJW4J9P5.js";import"./index-dxrUZtLq.js";import"./MenuItem-38XN_-vW.js";import"./IconButton-xWupQFdG.js";import"./useApi-BivKV4bK.js";import"./confirmationModal-BxJ-28ob.js";import"./index-DF2Knd0X.js";import"./loadingButton-DUprIo-A.js";import"./useSlot-Bb0ot7dQ.js";import"./index-DPLhSCMu.js";import"./identity-BcSRpnIK.js";function ar(e){return e.innerRadius}function ir(e){return e.outerRadius}function or(e){return e.startAngle}function ur(e){return e.endAngle}function sr(e){return e&&e.padAngle}function lr(e,n,r,a,u,s,i,t){var l=r-e,d=a-n,o=i-u,p=t-s,c=p*l-o*d;if(!(c*c<$))return c=(o*(n-s)-p*(e-u))/c,[e+c*l,n+c*d]}function ve(e,n,r,a,u,s,i){var t=e-r,l=n-a,d=(i?s:-s)/ae(t*t+l*l),o=d*l,p=-d*t,c=e+o,h=n+p,v=r+o,x=a+p,L=(c+v)/2,A=(h+x)/2,f=v-c,g=x-h,R=f*f+g*g,m=u-s,M=c*x-v*h,w=(g<0?-1:1)*ae(Fn(0,m*m*R-M*M)),P=(M*g-f*w)/R,T=(-M*f-g*w)/R,k=(M*g+f*w)/R,S=(-M*f+g*w)/R,E=P-L,b=T-A,C=k-L,z=S-A;return E*E+b*b>C*C+z*z&&(P=k,T=S),{cx:P,cy:T,x01:-o,y01:-p,x11:P*(u/m-1),y11:T*(u/m-1)}}function dr(){var e=ar,n=ir,r=B(0),a=null,u=or,s=ur,i=sr,t=null,l=Hn(d);function d(){var o,p,c=+e.apply(this,arguments),h=+n.apply(this,arguments),v=u.apply(this,arguments)-Ne,x=s.apply(this,arguments)-Ne,L=Ue(x-v),A=x>v;if(t||(t=o=l()),h<c&&(p=h,h=c,c=p),!(h>$))t.moveTo(0,0);else if(L>xe-$)t.moveTo(h*ne(v),h*Z(v)),t.arc(0,0,h,v,x,!A),c>$&&(t.moveTo(c*ne(x),c*Z(x)),t.arc(0,0,c,x,v,A));else{var f=v,g=x,R=v,m=x,M=L,w=L,P=i.apply(this,arguments)/2,T=P>$&&(a?+a.apply(this,arguments):ae(c*c+h*h)),k=Le(Ue(h-c)/2,+r.apply(this,arguments)),S=k,E=k,b,C;if(T>$){var z=Ke(T/c*Z(P)),J=Ke(T/h*Z(P));(M-=z*2)>$?(z*=A?1:-1,R+=z,m-=z):(M=0,R=m=(v+x)/2),(w-=J*2)>$?(J*=A?1:-1,f+=J,g-=J):(w=0,f=g=(v+x)/2)}var q=h*ne(f),N=h*Z(f),G=c*ne(m),D=c*Z(m);if(k>$){var U=h*ne(g),Y=h*Z(g),K=c*ne(R),Q=c*Z(R),H;if(L<qe)if(H=lr(q,N,K,Q,U,Y,G,D)){var W=q-H[0],X=N-H[1],F=U-H[0],ue=Y-H[1],ge=1/Z(Xn((W*F+X*ue)/(ae(W*W+X*X)*ae(F*F+ue*ue)))/2),se=ae(H[0]*H[0]+H[1]*H[1]);S=Le(k,(c-se)/(ge-1)),E=Le(k,(h-se)/(ge+1))}else S=E=0}w>$?E>$?(b=ve(K,Q,q,N,h,E,A),C=ve(U,Y,G,D,h,E,A),t.moveTo(b.cx+b.x01,b.cy+b.y01),E<k?t.arc(b.cx,b.cy,E,V(b.y01,b.x01),V(C.y01,C.x01),!A):(t.arc(b.cx,b.cy,E,V(b.y01,b.x01),V(b.y11,b.x11),!A),t.arc(0,0,h,V(b.cy+b.y11,b.cx+b.x11),V(C.cy+C.y11,C.cx+C.x11),!A),t.arc(C.cx,C.cy,E,V(C.y11,C.x11),V(C.y01,C.x01),!A))):(t.moveTo(q,N),t.arc(0,0,h,f,g,!A)):t.moveTo(q,N),!(c>$)||!(M>$)?t.lineTo(G,D):S>$?(b=ve(G,D,U,Y,c,-S,A),C=ve(q,N,K,Q,c,-S,A),t.lineTo(b.cx+b.x01,b.cy+b.y01),S<k?t.arc(b.cx,b.cy,S,V(b.y01,b.x01),V(C.y01,C.x01),!A):(t.arc(b.cx,b.cy,S,V(b.y01,b.x01),V(b.y11,b.x11),!A),t.arc(0,0,c,V(b.cy+b.y11,b.cx+b.x11),V(C.cy+C.y11,C.cx+C.x11),A),t.arc(C.cx,C.cy,S,V(C.y11,C.x11),V(C.y01,C.x01),!A))):t.arc(0,0,c,m,R,A)}if(t.closePath(),o)return t=null,o+""||null}return d.centroid=function(){var o=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,p=(+u.apply(this,arguments)+ +s.apply(this,arguments))/2-qe/2;return[ne(p)*o,Z(p)*o]},d.innerRadius=function(o){return arguments.length?(e=typeof o=="function"?o:B(+o),d):e},d.outerRadius=function(o){return arguments.length?(n=typeof o=="function"?o:B(+o),d):n},d.cornerRadius=function(o){return arguments.length?(r=typeof o=="function"?o:B(+o),d):r},d.padRadius=function(o){return arguments.length?(a=o==null?null:typeof o=="function"?o:B(+o),d):a},d.startAngle=function(o){return arguments.length?(u=typeof o=="function"?o:B(+o),d):u},d.endAngle=function(o){return arguments.length?(s=typeof o=="function"?o:B(+o),d):s},d.padAngle=function(o){return arguments.length?(i=typeof o=="function"?o:B(+o),d):i},d.context=function(o){return arguments.length?(t=o??null,d):t},d}function cr(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function fr(e){return e}function gr(){var e=fr,n=cr,r=null,a=B(0),u=B(xe),s=B(0);function i(t){var l,d=(t=Yn(t)).length,o,p,c=0,h=new Array(d),v=new Array(d),x=+a.apply(this,arguments),L=Math.min(xe,Math.max(-xe,u.apply(this,arguments)-x)),A,f=Math.min(Math.abs(L)/d,s.apply(this,arguments)),g=f*(L<0?-1:1),R;for(l=0;l<d;++l)(R=v[h[l]=l]=+e(t[l],l,t))>0&&(c+=R);for(n!=null?h.sort(function(m,M){return n(v[m],v[M])}):r!=null&&h.sort(function(m,M){return r(t[m],t[M])}),l=0,p=c?(L-d*g)/c:0;l<d;++l,x=A)o=h[l],R=v[o],A=x+(R>0?R*p:0)+g,v[o]={data:t[o],index:l,value:R,startAngle:x,endAngle:A,padAngle:f};return v}return i.value=function(t){return arguments.length?(e=typeof t=="function"?t:B(+t),i):e},i.sortValues=function(t){return arguments.length?(n=t,r=null,i):n},i.sort=function(t){return arguments.length?(r=t,n=null,i):r},i.startAngle=function(t){return arguments.length?(a=typeof t=="function"?t:B(+t),i):a},i.endAngle=function(t){return arguments.length?(u=typeof t=="function"?t:B(+t),i):u},i.padAngle=function(t){return arguments.length?(s=typeof t=="function"?t:B(+t),i):s},i}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j.apply(this,arguments)}var hr={pointerEvents:"none"},pr=function(e){var n=e.label,r=e.style,a=ce();return I.jsx(oe.g,{transform:r.transform,opacity:r.progress,style:hr,children:I.jsx(oe.text,{textAnchor:"middle",dominantBaseline:"central",style:j({},a.labels.text,{fill:r.textColor}),children:n})})},_e=function(e){var n=e%(2*Math.PI);return n<0&&(n+=2*Math.PI),n},mr=function(e,n){return e.filter(function(r){return Math.abs(Re(r.arc.endAngle-r.arc.startAngle))>=n})},vr={startAngle:{enter:function(e){return j({},e,{endAngle:e.startAngle})},update:function(e){return e},leave:function(e){return j({},e,{startAngle:e.endAngle})}},middleAngle:{enter:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return j({},e,{startAngle:n,endAngle:n})},update:function(e){return e},leave:function(e){var n=e.startAngle+(e.endAngle-e.startAngle)/2;return j({},e,{startAngle:n,endAngle:n})}},endAngle:{enter:function(e){return j({},e,{startAngle:e.endAngle})},update:function(e){return e},leave:function(e){return j({},e,{endAngle:e.startAngle})}},innerRadius:{enter:function(e){return j({},e,{outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return j({},e,{innerRadius:e.outerRadius})}},centerRadius:{enter:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return j({},e,{innerRadius:n,outerRadius:n})},update:function(e){return e},leave:function(e){var n=e.innerRadius+(e.outerRadius-e.innerRadius)/2;return j({},e,{innerRadius:n,outerRadius:n})}},outerRadius:{enter:function(e){return j({},e,{innerRadius:e.outerRadius})},update:function(e){return e},leave:function(e){return j({},e,{outerRadius:e.innerRadius})}},pushIn:{enter:function(e){return j({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})},update:function(e){return e},leave:function(e){return j({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})}},pushOut:{enter:function(e){return j({},e,{innerRadius:e.outerRadius,outerRadius:e.outerRadius+e.outerRadius-e.innerRadius})},update:function(e){return e},leave:function(e){return j({},e,{innerRadius:e.innerRadius-e.outerRadius+e.innerRadius,outerRadius:e.innerRadius})}}},en=function(e,n){return O.useMemo(function(){var r=vr[e];return{enter:function(a){return j({progress:0},r.enter(a.arc),n?n.enter(a):{})},update:function(a){return j({progress:1},r.update(a.arc),n?n.update(a):{})},leave:function(a){return j({progress:0},r.leave(a.arc),n?n.leave(a):{})}}},[e,n])},xr=function(e,n){var r=Jn(e)-Math.PI/2,a=e.innerRadius+(e.outerRadius-e.innerRadius)*n;return ie(r,a)},Ar=function(e){return function(n,r,a,u){return fe([n,r,a,u],function(s,i,t,l){var d=xr({startAngle:s,endAngle:i,innerRadius:t,outerRadius:l},e);return"translate("+d.x+","+d.y+")"})}},yr=function(e,n,r,a){n===void 0&&(n=.5),r===void 0&&(r="innerRadius");var u=ke(),s=u.animate,i=u.config,t=en(r,a);return{transition:Me(e,{keys:function(l){return l.id},initial:t.update,from:t.enter,enter:t.update,update:t.update,leave:t.leave,config:i,immediate:!s}),interpolate:Ar(n)}},br=function(e){var n=e.center,r=e.data,a=e.transitionMode,u=e.label,s=e.radiusOffset,i=e.skipAngle,t=e.textColor,l=e.component,d=l===void 0?pr:l,o=ye(u),p=ce(),c=be(t,p),h=O.useMemo(function(){return r.filter(function(f){return Math.abs(Re(f.arc.endAngle-f.arc.startAngle))>=i})},[r,i]),v=yr(h,s,a),x=v.transition,L=v.interpolate,A=d;return I.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:x(function(f,g){return O.createElement(A,{key:g.id,datum:g,label:o(g),style:j({},f,{transform:L(f.startAngle,f.endAngle,f.innerRadius,f.outerRadius),textColor:c(g)})})})})},Lr=function(e){var n=e.label,r=e.style,a=ce();return I.jsxs(oe.g,{opacity:r.opacity,children:[I.jsx(oe.path,{fill:"none",stroke:r.linkColor,strokeWidth:r.thickness,d:r.path}),I.jsx(oe.text,{transform:r.textPosition,textAnchor:r.textAnchor,dominantBaseline:"central",style:j({},a.labels.text,{fill:r.textColor}),children:n})]})},Rr=function(e){var n=_e(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2);return n<Math.PI/2||n>1.5*Math.PI?"start":"end"},nn=function(e,n,r,a){var u,s,i=_e(e.startAngle+(e.endAngle-e.startAngle)/2-Math.PI/2),t=ie(i,e.outerRadius+n),l=ie(i,e.outerRadius+n+r);return i<Math.PI/2||i>1.5*Math.PI?(u="after",s={x:l.x+a,y:l.y}):(u="before",s={x:l.x-a,y:l.y}),{side:u,points:[t,l,s]}},kr=zn().x(function(e){return e.x}).y(function(e){return e.y}),Mr=function(e,n,r,a,u,s,i){return fe([e,n,r,a,u,s,i],function(t,l,d,o,p,c,h){var v=nn({startAngle:t,endAngle:l,innerRadius:d,outerRadius:o},p,c,h).points;return kr(v)})},Cr=function(e,n,r,a){return fe([e,n,r,a],function(u,s,i,t){return Rr({startAngle:u,endAngle:s,innerRadius:i,outerRadius:t})})},Or=function(e,n,r,a,u,s,i,t){return fe([e,n,r,a,u,s,i,t],function(l,d,o,p,c,h,v,x){var L=nn({startAngle:l,endAngle:d,innerRadius:o,outerRadius:p},c,h,v),A=L.points,f=L.side,g=A[2];return f==="before"?g.x-=x:g.x+=x,"translate("+g.x+","+g.y+")"})},Ir=function(e){var n=e.data,r=e.offset,a=r===void 0?0:r,u=e.diagonalLength,s=e.straightLength,i=e.skipAngle,t=i===void 0?0:i,l=e.textOffset,d=e.linkColor,o=e.textColor,p=ke(),c=p.animate,h=p.config,v=ce(),x=be(d,v),L=be(o,v),A=function(g,R){return O.useMemo(function(){return mr(g,R)},[g,R])}(n,t),f=function(g){var R=g.offset,m=g.diagonalLength,M=g.straightLength,w=g.textOffset,P=g.getLinkColor,T=g.getTextColor;return O.useMemo(function(){return{enter:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:R,diagonalLength:0,straightLength:0,textOffset:w,linkColor:P(k),textColor:T(k),opacity:0}},update:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:R,diagonalLength:m,straightLength:M,textOffset:w,linkColor:P(k),textColor:T(k),opacity:1}},leave:function(k){return{startAngle:k.arc.startAngle,endAngle:k.arc.endAngle,innerRadius:k.arc.innerRadius,outerRadius:k.arc.outerRadius,offset:R,diagonalLength:0,straightLength:0,textOffset:w,linkColor:P(k),textColor:T(k),opacity:0}}}},[m,M,w,P,T,R])}({offset:a,diagonalLength:u,straightLength:s,textOffset:l,getLinkColor:x,getTextColor:L});return{transition:Me(A,{keys:function(g){return g.id},initial:f.update,from:f.enter,enter:f.update,update:f.update,leave:f.leave,config:h,immediate:!c}),interpolateLink:Mr,interpolateTextAnchor:Cr,interpolateTextPosition:Or}},jr=function(e){var n=e.center,r=e.data,a=e.label,u=e.skipAngle,s=e.offset,i=e.diagonalLength,t=e.straightLength,l=e.strokeWidth,d=e.textOffset,o=e.textColor,p=e.linkColor,c=e.component,h=c===void 0?Lr:c,v=ye(a),x=Ir({data:r,skipAngle:u,offset:s,diagonalLength:i,straightLength:t,textOffset:d,linkColor:p,textColor:o}),L=x.transition,A=x.interpolateLink,f=x.interpolateTextAnchor,g=x.interpolateTextPosition,R=h;return I.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:L(function(m,M){return O.createElement(R,{key:M.id,datum:M,label:v(M),style:j({},m,{thickness:l,path:A(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius,m.offset,m.diagonalLength,m.straightLength),textAnchor:f(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius),textPosition:g(m.startAngle,m.endAngle,m.innerRadius,m.outerRadius,m.offset,m.diagonalLength,m.straightLength,m.textOffset)})})})})},wr=function(e){var n=e.datum,r=e.style,a=e.onClick,u=e.onMouseEnter,s=e.onMouseMove,i=e.onMouseLeave,t=O.useCallback(function(p){return a==null?void 0:a(n,p)},[a,n]),l=O.useCallback(function(p){return u==null?void 0:u(n,p)},[u,n]),d=O.useCallback(function(p){return s==null?void 0:s(n,p)},[s,n]),o=O.useCallback(function(p){return i==null?void 0:i(n,p)},[i,n]);return I.jsx(oe.path,{d:r.path,opacity:r.opacity,fill:n.fill||r.color,stroke:r.borderColor,strokeWidth:r.borderWidth,onClick:a?t:void 0,onMouseEnter:u?l:void 0,onMouseMove:s?d:void 0,onMouseLeave:i?o:void 0})},Tr=function(e,n,r,a,u){return fe([e,n,r,a],function(s,i,t,l){return u({startAngle:s,endAngle:i,innerRadius:Math.max(0,t),outerRadius:Math.max(0,l)})})},Wr=function(e,n,r){n===void 0&&(n="innerRadius");var a=ke(),u=a.animate,s=a.config,i=en(n,r);return{transition:Me(e,{keys:function(t){return t.id},initial:i.update,from:i.enter,enter:i.update,update:i.update,leave:i.leave,config:s,immediate:!u}),interpolate:Tr}},Pr=function(e){var n=e.center,r=e.data,a=e.arcGenerator,u=e.borderWidth,s=e.borderColor,i=e.onClick,t=e.onMouseEnter,l=e.onMouseMove,d=e.onMouseLeave,o=e.transitionMode,p=e.component,c=p===void 0?wr:p,h=ce(),v=be(s,h),x=Wr(r,o,{enter:function(g){return{opacity:0,color:g.color,borderColor:v(g)}},update:function(g){return{opacity:1,color:g.color,borderColor:v(g)}},leave:function(g){return{opacity:0,color:g.color,borderColor:v(g)}}}),L=x.transition,A=x.interpolate,f=c;return I.jsx("g",{transform:"translate("+n[0]+","+n[1]+")",children:L(function(g,R){return O.createElement(f,{key:R.id,datum:R,style:j({},g,{borderWidth:u,path:A(g.startAngle,g.endAngle,g.innerRadius,g.outerRadius,a)}),onClick:i,onMouseEnter:t,onMouseMove:l,onMouseLeave:d})})})},Sr=function(e,n,r,a,u,s){s===void 0&&(s=!0);var i=[],t=ie(re(a),r);i.push([t.x,t.y]);var l=ie(re(u),r);i.push([l.x,l.y]);for(var d=Math.round(Math.min(a,u));d<=Math.round(Math.max(a,u));d++)if(d%90==0){var o=ie(re(d),r);i.push([o.x,o.y])}i=i.map(function(L){var A=L[0],f=L[1];return[e+A,n+f]}),s&&i.push([e,n]);var p=i.map(function(L){return L[0]}),c=i.map(function(L){return L[1]}),h=Math.min.apply(Math,p),v=Math.max.apply(Math,p),x=Math.min.apply(Math,c);return{points:i,x:h,y:x,width:v-h,height:Math.max.apply(Math,c)-x}},Er=function(e){var n=e===void 0?{}:e,r=n.cornerRadius,a=r===void 0?0:r,u=n.padAngle,s=u===void 0?0:u;return O.useMemo(function(){return dr().innerRadius(function(i){return i.innerRadius}).outerRadius(function(i){return i.outerRadius}).cornerRadius(a).padAngle(s)},[a,s])};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ee.apply(this,arguments)}function rn(e,n){if(e==null)return{};var r,a,u={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],n.indexOf(r)>=0||(u[r]=e[r]);return u}var Qe,Dr=function(e){var n=e.width,r=e.height,a=e.legends,u=e.data,s=e.toggleSerie;return I.jsx(I.Fragment,{children:a.map(function(i,t){var l;return I.jsx(Qn,ee({},i,{containerWidth:n,containerHeight:r,data:(l=i.data)!=null?l:u,toggleSerie:i.toggleSerie?s:void 0}),t)})})},y={id:"id",value:"value",sortByValue:!1,innerRadius:0,padAngle:0,cornerRadius:0,layers:["arcs","arcLinkLabels","arcLabels","legends"],startAngle:0,endAngle:360,fit:!0,activeInnerRadiusOffset:0,activeOuterRadiusOffset:0,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableArcLabels:!0,arcLabel:"formattedValue",arcLabelsSkipAngle:0,arcLabelsRadiusOffset:.5,arcLabelsTextColor:{theme:"labels.text.fill"},enableArcLinkLabels:!0,arcLinkLabel:"id",arcLinkLabelsSkipAngle:0,arcLinkLabelsOffset:0,arcLinkLabelsDiagonalLength:16,arcLinkLabelsStraightLength:24,arcLinkLabelsThickness:1,arcLinkLabelsTextOffset:6,arcLinkLabelsTextColor:{theme:"labels.text.fill"},arcLinkLabelsColor:{theme:"axis.ticks.line.stroke"},colors:{scheme:"nivo"},defs:[],fill:[],isInteractive:!0,animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",tooltip:function(e){var n=e.datum;return I.jsx(_n,{id:n.id,value:n.formattedValue,enableChip:!0,color:n.color})},legends:[],role:"img",pixelRatio:typeof window<"u"&&(Qe=window.devicePixelRatio)!=null?Qe:1},Vr=["points"],Br=function(e){var n=e.data,r=e.id,a=r===void 0?y.id:r,u=e.value,s=u===void 0?y.value:u,i=e.valueFormat,t=e.colors,l=t===void 0?y.colors:t,d=ye(a),o=ye(s),p=er(i),c=nr(l,"id");return O.useMemo(function(){return n.map(function(h){var v,x=d(h),L=o(h),A={id:x,label:(v=h.label)!=null?v:x,hidden:!1,value:L,formattedValue:p(L),data:h};return ee({},A,{color:c(A)})})},[n,d,o,p,c])},$r=function(e){var n=e.data,r=e.startAngle,a=e.endAngle,u=e.innerRadius,s=e.outerRadius,i=e.padAngle,t=e.sortByValue,l=e.activeId,d=e.activeInnerRadiusOffset,o=e.activeOuterRadiusOffset,p=e.hiddenIds,c=e.forwardLegendData,h=O.useMemo(function(){var A=gr().value(function(f){return f.value}).startAngle(re(r)).endAngle(re(a)).padAngle(re(i));return t||A.sortValues(null),A},[r,a,i,t]),v=O.useMemo(function(){var A=n.filter(function(f){return!p.includes(f.id)});return{dataWithArc:h(A).map(function(f){var g=Math.abs(f.endAngle-f.startAngle);return ee({},f.data,{arc:{index:f.index,startAngle:f.startAngle,endAngle:f.endAngle,innerRadius:l===f.data.id?u-d:u,outerRadius:l===f.data.id?s+o:s,thickness:s-u,padAngle:f.padAngle,angle:g,angleDeg:Re(g)}})}),legendData:n.map(function(f){return{id:f.id,label:f.label,color:f.color,hidden:p.includes(f.id),data:f}})}},[h,n,p,l,u,d,s,o]),x=v.legendData,L=O.useRef(c);return O.useEffect(function(){typeof L.current=="function"&&L.current(x)},[L,x]),v},Gr=function(e){var n=e.activeId,r=e.onActiveIdChange,a=e.defaultActiveId,u=n!==void 0,s=O.useState(u||a===void 0?null:a),i=s[0],t=s[1];return{activeId:u?n:i,setActiveId:O.useCallback(function(l){r&&r(l),u||t(l)},[u,r,t])}},Hr=function(e){var n=e.data,r=e.width,a=e.height,u=e.innerRadius,s=u===void 0?y.innerRadius:u,i=e.startAngle,t=i===void 0?y.startAngle:i,l=e.endAngle,d=l===void 0?y.endAngle:l,o=e.padAngle,p=o===void 0?y.padAngle:o,c=e.sortByValue,h=c===void 0?y.sortByValue:c,v=e.cornerRadius,x=v===void 0?y.cornerRadius:v,L=e.fit,A=L===void 0?y.fit:L,f=e.activeInnerRadiusOffset,g=f===void 0?y.activeInnerRadiusOffset:f,R=e.activeOuterRadiusOffset,m=R===void 0?y.activeOuterRadiusOffset:R,M=e.activeId,w=e.onActiveIdChange,P=e.defaultActiveId,T=e.forwardLegendData,k=Gr({activeId:M,onActiveIdChange:w,defaultActiveId:P}),S=k.activeId,E=k.setActiveId,b=O.useState([]),C=b[0],z=b[1],J=O.useMemo(function(){var G,D=Math.min(r,a)/2,U=D*Math.min(s,1),Y=r/2,K=a/2;if(A){var Q=Sr(Y,K,D,t-90,d-90),H=Q.points,W=rn(Q,Vr),X=Math.min(r/W.width,a/W.height),F={width:W.width*X,height:W.height*X};F.x=(r-F.width)/2,F.y=(a-F.height)/2,Y=(Y-W.x)/W.width*W.width*X+F.x,K=(K-W.y)/W.height*W.height*X+F.y,G={box:W,ratio:X,points:H},D*=X,U*=X}return{centerX:Y,centerY:K,radius:D,innerRadius:U,debug:G}},[r,a,s,t,d,A]),q=$r({data:n,startAngle:t,endAngle:d,innerRadius:J.innerRadius,outerRadius:J.radius,padAngle:p,sortByValue:h,activeId:S,activeInnerRadiusOffset:g,activeOuterRadiusOffset:m,hiddenIds:C,forwardLegendData:T}),N=O.useCallback(function(G){z(function(D){return D.indexOf(G)>-1?D.filter(function(U){return U!==G}):[].concat(D,[G])})},[]);return ee({arcGenerator:Er({cornerRadius:x,padAngle:re(p)}),activeId:S,setActiveId:E,toggleSerie:N},q,J)},Xr=function(e){var n=e.dataWithArc,r=e.arcGenerator,a=e.centerX,u=e.centerY,s=e.radius,i=e.innerRadius;return O.useMemo(function(){return{dataWithArc:n,arcGenerator:r,centerX:a,centerY:u,radius:s,innerRadius:i}},[n,r,a,u,s,i])},Fr=function(e){var n=e.center,r=e.data,a=e.arcGenerator,u=e.borderWidth,s=e.borderColor,i=e.isInteractive,t=e.onClick,l=e.onMouseEnter,d=e.onMouseMove,o=e.onMouseLeave,p=e.setActiveId,c=e.tooltip,h=e.transitionMode,v=rr(),x=v.showTooltipFromEvent,L=v.hideTooltip,A=O.useMemo(function(){if(i)return function(m,M){t==null||t(m,M)}},[i,t]),f=O.useMemo(function(){if(i)return function(m,M){x(O.createElement(c,{datum:m}),M),p(m.id),l==null||l(m,M)}},[i,x,p,l,c]),g=O.useMemo(function(){if(i)return function(m,M){x(O.createElement(c,{datum:m}),M),d==null||d(m,M)}},[i,x,d,c]),R=O.useMemo(function(){if(i)return function(m,M){L(),p(null),o==null||o(m,M)}},[i,L,p,o]);return I.jsx(Pr,{center:n,data:r,arcGenerator:a,borderWidth:u,borderColor:s,transitionMode:h,onClick:A,onMouseEnter:f,onMouseMove:g,onMouseLeave:R})},Yr=["isInteractive","animate","motionConfig","theme","renderWrapper"],zr=function(e){var n=e.data,r=e.id,a=r===void 0?y.id:r,u=e.value,s=u===void 0?y.value:u,i=e.valueFormat,t=e.sortByValue,l=t===void 0?y.sortByValue:t,d=e.layers,o=d===void 0?y.layers:d,p=e.startAngle,c=p===void 0?y.startAngle:p,h=e.endAngle,v=h===void 0?y.endAngle:h,x=e.padAngle,L=x===void 0?y.padAngle:x,A=e.fit,f=A===void 0?y.fit:A,g=e.innerRadius,R=g===void 0?y.innerRadius:g,m=e.cornerRadius,M=m===void 0?y.cornerRadius:m,w=e.activeInnerRadiusOffset,P=w===void 0?y.activeInnerRadiusOffset:w,T=e.activeOuterRadiusOffset,k=T===void 0?y.activeOuterRadiusOffset:T,S=e.width,E=e.height,b=e.margin,C=e.colors,z=C===void 0?y.colors:C,J=e.borderWidth,q=J===void 0?y.borderWidth:J,N=e.borderColor,G=N===void 0?y.borderColor:N,D=e.enableArcLabels,U=D===void 0?y.enableArcLabels:D,Y=e.arcLabel,K=Y===void 0?y.arcLabel:Y,Q=e.arcLabelsSkipAngle,H=Q===void 0?y.arcLabelsSkipAngle:Q,W=e.arcLabelsTextColor,X=W===void 0?y.arcLabelsTextColor:W,F=e.arcLabelsRadiusOffset,ue=F===void 0?y.arcLabelsRadiusOffset:F,ge=e.arcLabelsComponent,se=e.enableArcLinkLabels,tn=se===void 0?y.enableArcLinkLabels:se,Ce=e.arcLinkLabel,an=Ce===void 0?y.arcLinkLabel:Ce,Oe=e.arcLinkLabelsSkipAngle,on=Oe===void 0?y.arcLinkLabelsSkipAngle:Oe,Ie=e.arcLinkLabelsOffset,un=Ie===void 0?y.arcLinkLabelsOffset:Ie,je=e.arcLinkLabelsDiagonalLength,sn=je===void 0?y.arcLinkLabelsDiagonalLength:je,we=e.arcLinkLabelsStraightLength,ln=we===void 0?y.arcLinkLabelsStraightLength:we,Te=e.arcLinkLabelsThickness,dn=Te===void 0?y.arcLinkLabelsThickness:Te,We=e.arcLinkLabelsTextOffset,cn=We===void 0?y.arcLinkLabelsTextOffset:We,Pe=e.arcLinkLabelsTextColor,fn=Pe===void 0?y.arcLinkLabelsTextColor:Pe,Se=e.arcLinkLabelsColor,gn=Se===void 0?y.arcLinkLabelsColor:Se,hn=e.arcLinkLabelComponent,Ee=e.defs,pn=Ee===void 0?y.defs:Ee,De=e.fill,mn=De===void 0?y.fill:De,Ve=e.isInteractive,vn=Ve===void 0?y.isInteractive:Ve,xn=e.onClick,An=e.onMouseEnter,yn=e.onMouseMove,bn=e.onMouseLeave,Be=e.tooltip,Ln=Be===void 0?y.tooltip:Be,Rn=e.activeId,kn=e.onActiveIdChange,Mn=e.defaultActiveId,$e=e.transitionMode,Ge=$e===void 0?y.transitionMode:$e,He=e.legends,Xe=He===void 0?y.legends:He,Cn=e.forwardLegendData,Fe=e.role,On=Fe===void 0?y.role:Fe,le=qn(S,E,b),In=le.outerWidth,jn=le.outerHeight,wn=le.margin,Ye=le.innerWidth,ze=le.innerHeight,Tn=Br({data:n,id:a,value:s,valueFormat:i,colors:z}),_=Hr({data:Tn,width:Ye,height:ze,fit:f,innerRadius:R,startAngle:c,endAngle:v,padAngle:L,sortByValue:l,cornerRadius:M,activeInnerRadiusOffset:P,activeOuterRadiusOffset:k,activeId:Rn,onActiveIdChange:kn,defaultActiveId:Mn,forwardLegendData:Cn}),de=_.dataWithArc,Wn=_.legendData,Je=_.arcGenerator,he=_.centerX,pe=_.centerY,Pn=_.radius,Sn=_.innerRadius,En=_.setActiveId,Dn=_.toggleSerie,Vn=Kn(pn,de,mn),te={arcs:null,arcLinkLabels:null,arcLabels:null,legends:null};o.includes("arcs")&&(te.arcs=I.jsx(Fr,{center:[he,pe],data:de,arcGenerator:Je,borderWidth:q,borderColor:G,isInteractive:vn,onClick:xn,onMouseEnter:An,onMouseMove:yn,onMouseLeave:bn,setActiveId:En,tooltip:Ln,transitionMode:Ge},"arcs")),tn&&o.includes("arcLinkLabels")&&(te.arcLinkLabels=I.jsx(jr,{center:[he,pe],data:de,label:an,skipAngle:on,offset:un,diagonalLength:sn,straightLength:ln,strokeWidth:dn,textOffset:cn,textColor:fn,linkColor:gn,component:hn},"arcLinkLabels")),U&&o.includes("arcLabels")&&(te.arcLabels=I.jsx(br,{center:[he,pe],data:de,label:K,radiusOffset:ue,skipAngle:H,textColor:X,transitionMode:Ge,component:ge},"arcLabels")),Xe.length>0&&o.includes("legends")&&(te.legends=I.jsx(Dr,{width:Ye,height:ze,data:Wn,legends:Xe,toggleSerie:Dn},"legends"));var Bn=Xr({dataWithArc:de,arcGenerator:Je,centerX:he,centerY:pe,radius:Pn,innerRadius:Sn});return I.jsx(Zn,{width:In,height:jn,margin:wn,defs:Vn,role:On,children:o.map(function(me,$n){return te[me]!==void 0?te[me]:typeof me=="function"?I.jsx(O.Fragment,{children:O.createElement(me,Bn)},$n):null})})},Jr=function(e){var n=e.isInteractive,r=n===void 0?y.isInteractive:n,a=e.animate,u=a===void 0?y.animate:a,s=e.motionConfig,i=s===void 0?y.motionConfig:s,t=e.theme,l=e.renderWrapper,d=rn(e,Yr);return I.jsx(Un,{animate:u,isInteractive:r,motionConfig:i,renderWrapper:l,theme:t,children:I.jsx(zr,ee({isInteractive:r},d))})},Nr=function(e){return I.jsx(Nn,{children:function(n){var r=n.width,a=n.height;return I.jsx(Jr,ee({width:r,height:a},e))}})};const Ur=[{id:"hack",label:"hack",value:239,color:"hsl(104, 70%, 50%)"},{id:"make",label:"make",value:170,color:"hsl(162, 70%, 50%)"},{id:"go",label:"go",value:322,color:"hsl(291, 70%, 50%)"},{id:"lisp",label:"lisp",value:503,color:"hsl(229, 70%, 50%)"},{id:"scala",label:"scala",value:584,color:"hsl(344, 70%, 50%)"}];Ae("dark").greenAccent[500],Ae("dark").blueAccent[300],Ae("dark").redAccent[200];const qr=()=>{const e=tr(),n=Ae(e.palette.mode);return I.jsx(Nr,{data:Ur,theme:{axis:{domain:{line:{stroke:n.grey[100]}},legend:{text:{fill:n.grey[100]}},ticks:{line:{stroke:n.grey[100],strokeWidth:1},text:{fill:n.grey[100]}}},legends:{text:{fill:n.grey[100]}}},margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,activeOuterRadiusOffset:8,borderColor:{from:"color",modifiers:[["darker",.2]]},arcLinkLabelsSkipAngle:10,arcLinkLabelsTextColor:n.grey[100],arcLinkLabelsThickness:2,arcLinkLabelsColor:{from:"color"},enableArcLabels:!1,arcLabelsRadiusOffset:.4,arcLabelsSkipAngle:7,arcLabelsTextColor:{from:"color",modifiers:[["darker",2]]},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}],legends:[{anchor:"bottom",direction:"row",justify:!1,translateX:0,translateY:56,itemsSpacing:0,itemWidth:100,itemHeight:18,itemTextColor:"#999",itemDirection:"left-to-right",itemOpacity:1,symbolSize:18,symbolShape:"circle",effects:[{on:"hover",style:{itemTextColor:"#000"}}]}]})},ct=()=>I.jsxs(Ze,{m:"20px",children:[I.jsx(Gn,{title:"Pie Chart",subtitle:"Simple Pie Chart"}),I.jsx(Ze,{height:"75vh",children:I.jsx(qr,{})})]});export{ct as default};
