import{r as s,e as k,j as e}from"./index-22HUb1_z.js";import{L as b}from"./loadingButton-DUprIo-A.js";import{u as A}from"./useApi-BivKV4bK.js";import{H as P,F as E}from"./Header-BIvCpIXD.js";import{w as c,T as a,z as L,A as C}from"./constants-BJW4J9P5.js";import{B}from"./backgroundWithHome-CN5BhPtj.js";import{A as g}from"./Alert-Bl6PSDrU.js";import"./index-Sp3zthuY.js";import"./useSlot-Bb0ot7dQ.js";import"./IconButton-xWupQFdG.js";const F=()=>{const[i,d]=s.useState(""),[u,l]=s.useState(""),[t,m]=s.useState(!1),[f,h]=s.useState(""),[n,x]=s.useState(0),{data:H,loading:y,error:w,callApi:j}=A(),S=k();s.useEffect(()=>{let r;return t&&n>0&&(r=setInterval(()=>{x(o=>{const p=o-1;return p<=0&&m(!1),p})},1e3)),()=>clearInterval(r)},[t,n]);const v=async r=>{if(r.preventDefault(),l(""),!i)return l("Please enter your email");const o=await j(C.PASSWORD_LINK,"POST",{email:i});o&&o.message&&o.message==="Password reset link sent successfully"?(l("Password reset link sent. Kindly check your email!"),d(""),m(!0),x(60)):h("Password link not sent, something went wrong or you can check if your email is correctly inputted")};return e.jsxs(c,{children:[e.jsx(P,{}),e.jsx(c,{sx:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"30px",mx:{xs:4,sm:4,md:0}},children:e.jsxs(c,{sx:{p:3,textAlign:"start",backgroundColor:"white",boxShadow:10,borderRadius:2},children:[e.jsx(a,{variant:"h5",color:"#000",gutterBottom:!0,children:"Forgot your password?"}),e.jsx(a,{variant:"body2",color:"textSecondary",mb:2,children:"Enter your email and we will send you a password reset link."}),u&&e.jsx(g,{severity:"success",children:u}),w&&e.jsx(g,{severity:"error",children:f}),e.jsxs("form",{onSubmit:v,children:[e.jsx(L,{fullWidth:!0,label:"Email",variant:"outlined",type:"email",margin:"normal",value:i,onChange:r=>d(r.target.value)}),e.jsx(b,{type:"submit",variant:"contained",fullWidth:!0,isLoading:y,disabled:t,sx:{filter:t?"blur(0.1px)":"none",cursor:t?"not-allowed":"pointer"},children:t?"Reset Link Sent":"Request Reset Link"})]}),t&&n>0&&e.jsxs(a,{variant:"body2",color:"textSecondary",sx:{mt:2,textAlign:"center"},children:["You can resend the link in ",n," seconds."]}),e.jsx(a,{variant:"body2",color:"primary",sx:{mt:2,textAlign:"center",cursor:"pointer"},onClick:()=>S("/signin"),children:"Back to Login"})]})}),e.jsx(E,{})]})},R=B(F),Y=()=>e.jsx(R,{});export{Y as default};
