import{r as d,j as c,a as Ct,n as Ho}from"./index-22HUb1_z.js";import{t as so,M as qe}from"./modal-CFzM2TvC.js";import{H as io}from"./Header-CXtHvVsg.js";import{T as ao}from"./table-iQGSzLj8.js";import{d as lo}from"./Visibility-CAQTlKmU.js";import{u as Be}from"./useApi-BivKV4bK.js";import{au as Vo,g as po,a as co,b as ut,a8 as Ut,av as Uo,_ as k,p as xt,n as qt,h as qo,e as uo,s as ft,u as fo,f as mo,i as ho,j as St,ao as zo,aw as tt,ac as Xo,ab as Go,ad as zt,$ as Yo,ag as Ko,d as ot,ax as Xt,am as nt,ay as Jo,w as ne,T as bt,z as at,A as lt,y as Qo}from"./constants-BJW4J9P5.js";import{A as vo,C as go}from"./confirmationModal-BxJ-28ob.js";import{I as Zo}from"./IconButton-xWupQFdG.js";import{d as en}from"./Edit-C8fyuzwg.js";import{A as tn,a as on}from"./index-dxrUZtLq.js";import{C as yt}from"./customIconButton-PDrFBAUO.js";import{w as nn}from"./dasboardPagesContainer-qh7jt9JW.js";import"./useMediaQuery-vabypUKQ.js";import"./index-DF2Knd0X.js";import"./loadingButton-DUprIo-A.js";import"./MenuItem-38XN_-vW.js";import"./useSlot-Bb0ot7dQ.js";var At={};Object.defineProperty(At,"__esModule",{value:!0});var bo=At.default=void 0,rn=an(d),sn=Vo;function yo(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(yo=function(n){return n?o:t})(e)}function an(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=yo(t);if(o&&o.has(e))return o.get(e);var n={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var p=r?Object.getOwnPropertyDescriptor(e,s):null;p&&(p.get||p.set)?Object.defineProperty(n,s,p):n[s]=e[s]}return n.default=e,o&&o.set(e,n),n}function ln(e){return Object.keys(e).length===0}function pn(e=null){const t=rn.useContext(sn.ThemeContext);return!t||ln(t)?e:t}bo=At.default=pn;var G="top",se="bottom",ie="right",Y="left",Tt="auto",Ke=[G,se,ie,Y],Le="start",Ge="end",cn="clippingParents",xo="viewport",Ve="popper",un="reference",Gt=Ke.reduce(function(e,t){return e.concat([t+"-"+Le,t+"-"+Ge])},[]),wo=[].concat(Ke,[Tt]).reduce(function(e,t){return e.concat([t,t+"-"+Le,t+"-"+Ge])},[]),fn="beforeRead",dn="read",mn="afterRead",hn="beforeMain",vn="main",gn="afterMain",bn="beforeWrite",yn="write",xn="afterWrite",wn=[fn,dn,mn,hn,vn,gn,bn,yn,xn];function fe(e){return e?(e.nodeName||"").toLowerCase():null}function Z(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ee(e){var t=Z(e).Element;return e instanceof t||e instanceof Element}function re(e){var t=Z(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Rt(e){if(typeof ShadowRoot>"u")return!1;var t=Z(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Pn(e){var t=e.state;Object.keys(t.elements).forEach(function(o){var n=t.styles[o]||{},r=t.attributes[o]||{},s=t.elements[o];!re(s)||!fe(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(p){var a=r[p];a===!1?s.removeAttribute(p):s.setAttribute(p,a===!0?"":a)}))})}function On(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],s=t.attributes[n]||{},p=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:o[n]),a=p.reduce(function(i,u){return i[u]="",i},{});!re(r)||!fe(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(i){r.removeAttribute(i)}))})}}const Cn={name:"applyStyles",enabled:!0,phase:"write",fn:Pn,effect:On,requires:["computeStyles"]};function ue(e){return e.split("-")[0]}var De=Math.max,ct=Math.min,Ne=Math.round;function wt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Po(){return!/^((?!chrome|android).)*safari/i.test(wt())}function We(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!1);var n=e.getBoundingClientRect(),r=1,s=1;t&&re(e)&&(r=e.offsetWidth>0&&Ne(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ne(n.height)/e.offsetHeight||1);var p=Ee(e)?Z(e):window,a=p.visualViewport,i=!Po()&&o,u=(n.left+(i&&a?a.offsetLeft:0))/r,l=(n.top+(i&&a?a.offsetTop:0))/s,v=n.width/r,C=n.height/s;return{width:v,height:C,top:l,right:u+v,bottom:l+C,left:u,x:u,y:l}}function jt(e){var t=We(e),o=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-o)<=1&&(o=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:n}}function Oo(e,t){var o=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(o&&Rt(o)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function be(e){return Z(e).getComputedStyle(e)}function Sn(e){return["table","td","th"].indexOf(fe(e))>=0}function Te(e){return((Ee(e)?e.ownerDocument:e.document)||window.document).documentElement}function dt(e){return fe(e)==="html"?e:e.assignedSlot||e.parentNode||(Rt(e)?e.host:null)||Te(e)}function Yt(e){return!re(e)||be(e).position==="fixed"?null:e.offsetParent}function An(e){var t=/firefox/i.test(wt()),o=/Trident/i.test(wt());if(o&&re(e)){var n=be(e);if(n.position==="fixed")return null}var r=dt(e);for(Rt(r)&&(r=r.host);re(r)&&["html","body"].indexOf(fe(r))<0;){var s=be(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Je(e){for(var t=Z(e),o=Yt(e);o&&Sn(o)&&be(o).position==="static";)o=Yt(o);return o&&(fe(o)==="html"||fe(o)==="body"&&be(o).position==="static")?t:o||An(e)||t}function Dt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ze(e,t,o){return De(e,ct(t,o))}function Tn(e,t,o){var n=ze(e,t,o);return n>o?o:n}function Co(){return{top:0,right:0,bottom:0,left:0}}function So(e){return Object.assign({},Co(),e)}function Ao(e,t){return t.reduce(function(o,n){return o[n]=e,o},{})}var Rn=function(t,o){return t=typeof t=="function"?t(Object.assign({},o.rects,{placement:o.placement})):t,So(typeof t!="number"?t:Ao(t,Ke))};function jn(e){var t,o=e.state,n=e.name,r=e.options,s=o.elements.arrow,p=o.modifiersData.popperOffsets,a=ue(o.placement),i=Dt(a),u=[Y,ie].indexOf(a)>=0,l=u?"height":"width";if(!(!s||!p)){var v=Rn(r.padding,o),C=jt(s),m=i==="y"?G:Y,R=i==="y"?se:ie,g=o.rects.reference[l]+o.rects.reference[i]-p[i]-o.rects.popper[l],x=p[i]-o.rects.reference[i],A=Je(s),D=A?i==="y"?A.clientHeight||0:A.clientWidth||0:0,P=g/2-x/2,h=v[m],w=D-C[l]-v[R],b=D/2-C[l]/2+P,T=ze(h,b,w),$=i;o.modifiersData[n]=(t={},t[$]=T,t.centerOffset=T-b,t)}}function Dn(e){var t=e.state,o=e.options,n=o.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Oo(t.elements.popper,r)&&(t.elements.arrow=r))}const En={name:"arrow",enabled:!0,phase:"main",fn:jn,effect:Dn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ie(e){return e.split("-")[1]}var Mn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $n(e,t){var o=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:Ne(o*r)/r||0,y:Ne(n*r)/r||0}}function Kt(e){var t,o=e.popper,n=e.popperRect,r=e.placement,s=e.variation,p=e.offsets,a=e.position,i=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,v=e.isFixed,C=p.x,m=C===void 0?0:C,R=p.y,g=R===void 0?0:R,x=typeof l=="function"?l({x:m,y:g}):{x:m,y:g};m=x.x,g=x.y;var A=p.hasOwnProperty("x"),D=p.hasOwnProperty("y"),P=Y,h=G,w=window;if(u){var b=Je(o),T="clientHeight",$="clientWidth";if(b===Z(o)&&(b=Te(o),be(b).position!=="static"&&a==="absolute"&&(T="scrollHeight",$="scrollWidth")),b=b,r===G||(r===Y||r===ie)&&s===Ge){h=se;var S=v&&b===w&&w.visualViewport?w.visualViewport.height:b[T];g-=S-n.height,g*=i?1:-1}if(r===Y||(r===G||r===se)&&s===Ge){P=ie;var O=v&&b===w&&w.visualViewport?w.visualViewport.width:b[$];m-=O-n.width,m*=i?1:-1}}var M=Object.assign({position:a},u&&Mn),W=l===!0?$n({x:m,y:g},Z(o)):{x:m,y:g};if(m=W.x,g=W.y,i){var E;return Object.assign({},M,(E={},E[h]=D?"0":"",E[P]=A?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",E))}return Object.assign({},M,(t={},t[h]=D?g+"px":"",t[P]=A?m+"px":"",t.transform="",t))}function kn(e){var t=e.state,o=e.options,n=o.gpuAcceleration,r=n===void 0?!0:n,s=o.adaptive,p=s===void 0?!0:s,a=o.roundOffsets,i=a===void 0?!0:a,u={placement:ue(t.placement),variation:Ie(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Kt(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:i})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kt(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Bn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:kn,data:{}};var rt={passive:!0};function Ln(e){var t=e.state,o=e.instance,n=e.options,r=n.scroll,s=r===void 0?!0:r,p=n.resize,a=p===void 0?!0:p,i=Z(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(l){l.addEventListener("scroll",o.update,rt)}),a&&i.addEventListener("resize",o.update,rt),function(){s&&u.forEach(function(l){l.removeEventListener("scroll",o.update,rt)}),a&&i.removeEventListener("resize",o.update,rt)}}const Nn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ln,data:{}};var Wn={left:"right",right:"left",bottom:"top",top:"bottom"};function pt(e){return e.replace(/left|right|bottom|top/g,function(t){return Wn[t]})}var In={start:"end",end:"start"};function Jt(e){return e.replace(/start|end/g,function(t){return In[t]})}function Et(e){var t=Z(e),o=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:o,scrollTop:n}}function Mt(e){return We(Te(e)).left+Et(e).scrollLeft}function Fn(e,t){var o=Z(e),n=Te(e),r=o.visualViewport,s=n.clientWidth,p=n.clientHeight,a=0,i=0;if(r){s=r.width,p=r.height;var u=Po();(u||!u&&t==="fixed")&&(a=r.offsetLeft,i=r.offsetTop)}return{width:s,height:p,x:a+Mt(e),y:i}}function _n(e){var t,o=Te(e),n=Et(e),r=(t=e.ownerDocument)==null?void 0:t.body,s=De(o.scrollWidth,o.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),p=De(o.scrollHeight,o.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Mt(e),i=-n.scrollTop;return be(r||o).direction==="rtl"&&(a+=De(o.clientWidth,r?r.clientWidth:0)-s),{width:s,height:p,x:a,y:i}}function $t(e){var t=be(e),o=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+r+n)}function To(e){return["html","body","#document"].indexOf(fe(e))>=0?e.ownerDocument.body:re(e)&&$t(e)?e:To(dt(e))}function Xe(e,t){var o;t===void 0&&(t=[]);var n=To(e),r=n===((o=e.ownerDocument)==null?void 0:o.body),s=Z(n),p=r?[s].concat(s.visualViewport||[],$t(n)?n:[]):n,a=t.concat(p);return r?a:a.concat(Xe(dt(p)))}function Pt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Hn(e,t){var o=We(e,!1,t==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function Qt(e,t,o){return t===xo?Pt(Fn(e,o)):Ee(t)?Hn(t,o):Pt(_n(Te(e)))}function Vn(e){var t=Xe(dt(e)),o=["absolute","fixed"].indexOf(be(e).position)>=0,n=o&&re(e)?Je(e):e;return Ee(n)?t.filter(function(r){return Ee(r)&&Oo(r,n)&&fe(r)!=="body"}):[]}function Un(e,t,o,n){var r=t==="clippingParents"?Vn(e):[].concat(t),s=[].concat(r,[o]),p=s[0],a=s.reduce(function(i,u){var l=Qt(e,u,n);return i.top=De(l.top,i.top),i.right=ct(l.right,i.right),i.bottom=ct(l.bottom,i.bottom),i.left=De(l.left,i.left),i},Qt(e,p,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ro(e){var t=e.reference,o=e.element,n=e.placement,r=n?ue(n):null,s=n?Ie(n):null,p=t.x+t.width/2-o.width/2,a=t.y+t.height/2-o.height/2,i;switch(r){case G:i={x:p,y:t.y-o.height};break;case se:i={x:p,y:t.y+t.height};break;case ie:i={x:t.x+t.width,y:a};break;case Y:i={x:t.x-o.width,y:a};break;default:i={x:t.x,y:t.y}}var u=r?Dt(r):null;if(u!=null){var l=u==="y"?"height":"width";switch(s){case Le:i[u]=i[u]-(t[l]/2-o[l]/2);break;case Ge:i[u]=i[u]+(t[l]/2-o[l]/2);break}}return i}function Ye(e,t){t===void 0&&(t={});var o=t,n=o.placement,r=n===void 0?e.placement:n,s=o.strategy,p=s===void 0?e.strategy:s,a=o.boundary,i=a===void 0?cn:a,u=o.rootBoundary,l=u===void 0?xo:u,v=o.elementContext,C=v===void 0?Ve:v,m=o.altBoundary,R=m===void 0?!1:m,g=o.padding,x=g===void 0?0:g,A=So(typeof x!="number"?x:Ao(x,Ke)),D=C===Ve?un:Ve,P=e.rects.popper,h=e.elements[R?D:C],w=Un(Ee(h)?h:h.contextElement||Te(e.elements.popper),i,l,p),b=We(e.elements.reference),T=Ro({reference:b,element:P,strategy:"absolute",placement:r}),$=Pt(Object.assign({},P,T)),S=C===Ve?$:b,O={top:w.top-S.top+A.top,bottom:S.bottom-w.bottom+A.bottom,left:w.left-S.left+A.left,right:S.right-w.right+A.right},M=e.modifiersData.offset;if(C===Ve&&M){var W=M[r];Object.keys(O).forEach(function(E){var F=[ie,se].indexOf(E)>=0?1:-1,z=[G,se].indexOf(E)>=0?"y":"x";O[E]+=W[z]*F})}return O}function qn(e,t){t===void 0&&(t={});var o=t,n=o.placement,r=o.boundary,s=o.rootBoundary,p=o.padding,a=o.flipVariations,i=o.allowedAutoPlacements,u=i===void 0?wo:i,l=Ie(n),v=l?a?Gt:Gt.filter(function(R){return Ie(R)===l}):Ke,C=v.filter(function(R){return u.indexOf(R)>=0});C.length===0&&(C=v);var m=C.reduce(function(R,g){return R[g]=Ye(e,{placement:g,boundary:r,rootBoundary:s,padding:p})[ue(g)],R},{});return Object.keys(m).sort(function(R,g){return m[R]-m[g]})}function zn(e){if(ue(e)===Tt)return[];var t=pt(e);return[Jt(e),t,Jt(t)]}function Xn(e){var t=e.state,o=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=o.mainAxis,s=r===void 0?!0:r,p=o.altAxis,a=p===void 0?!0:p,i=o.fallbackPlacements,u=o.padding,l=o.boundary,v=o.rootBoundary,C=o.altBoundary,m=o.flipVariations,R=m===void 0?!0:m,g=o.allowedAutoPlacements,x=t.options.placement,A=ue(x),D=A===x,P=i||(D||!R?[pt(x)]:zn(x)),h=[x].concat(P).reduce(function(ee,K){return ee.concat(ue(K)===Tt?qn(t,{placement:K,boundary:l,rootBoundary:v,padding:u,flipVariations:R,allowedAutoPlacements:g}):K)},[]),w=t.rects.reference,b=t.rects.popper,T=new Map,$=!0,S=h[0],O=0;O<h.length;O++){var M=h[O],W=ue(M),E=Ie(M)===Le,F=[G,se].indexOf(W)>=0,z=F?"width":"height",B=Ye(t,{placement:M,boundary:l,rootBoundary:v,altBoundary:C,padding:u}),N=F?E?ie:Y:E?se:G;w[z]>b[z]&&(N=pt(N));var _=pt(N),U=[];if(s&&U.push(B[W]<=0),a&&U.push(B[N]<=0,B[_]<=0),U.every(function(ee){return ee})){S=M,$=!1;break}T.set(M,U)}if($)for(var de=R?3:1,me=function(K){var te=h.find(function(oe){var V=T.get(oe);if(V)return V.slice(0,K).every(function(y){return y})});if(te)return S=te,"break"},ae=de;ae>0;ae--){var ce=me(ae);if(ce==="break")break}t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}}const Gn={name:"flip",enabled:!0,phase:"main",fn:Xn,requiresIfExists:["offset"],data:{_skip:!1}};function Zt(e,t,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-t.height-o.y,right:e.right-t.width+o.x,bottom:e.bottom-t.height+o.y,left:e.left-t.width-o.x}}function eo(e){return[G,ie,se,Y].some(function(t){return e[t]>=0})}function Yn(e){var t=e.state,o=e.name,n=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,p=Ye(t,{elementContext:"reference"}),a=Ye(t,{altBoundary:!0}),i=Zt(p,n),u=Zt(a,r,s),l=eo(i),v=eo(u);t.modifiersData[o]={referenceClippingOffsets:i,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":v})}const Kn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yn};function Jn(e,t,o){var n=ue(e),r=[Y,G].indexOf(n)>=0?-1:1,s=typeof o=="function"?o(Object.assign({},t,{placement:e})):o,p=s[0],a=s[1];return p=p||0,a=(a||0)*r,[Y,ie].indexOf(n)>=0?{x:a,y:p}:{x:p,y:a}}function Qn(e){var t=e.state,o=e.options,n=e.name,r=o.offset,s=r===void 0?[0,0]:r,p=wo.reduce(function(l,v){return l[v]=Jn(v,t.rects,s),l},{}),a=p[t.placement],i=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=p}const Zn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qn};function er(e){var t=e.state,o=e.name;t.modifiersData[o]=Ro({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const tr={name:"popperOffsets",enabled:!0,phase:"read",fn:er,data:{}};function or(e){return e==="x"?"y":"x"}function nr(e){var t=e.state,o=e.options,n=e.name,r=o.mainAxis,s=r===void 0?!0:r,p=o.altAxis,a=p===void 0?!1:p,i=o.boundary,u=o.rootBoundary,l=o.altBoundary,v=o.padding,C=o.tether,m=C===void 0?!0:C,R=o.tetherOffset,g=R===void 0?0:R,x=Ye(t,{boundary:i,rootBoundary:u,padding:v,altBoundary:l}),A=ue(t.placement),D=Ie(t.placement),P=!D,h=Dt(A),w=or(h),b=t.modifiersData.popperOffsets,T=t.rects.reference,$=t.rects.popper,S=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,O=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,W={x:0,y:0};if(b){if(s){var E,F=h==="y"?G:Y,z=h==="y"?se:ie,B=h==="y"?"height":"width",N=b[h],_=N+x[F],U=N-x[z],de=m?-$[B]/2:0,me=D===Le?T[B]:$[B],ae=D===Le?-$[B]:-T[B],ce=t.elements.arrow,ee=m&&ce?jt(ce):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Co(),te=K[F],oe=K[z],V=ze(0,T[B],ee[B]),y=P?T[B]/2-de-V-te-O.mainAxis:me-V-te-O.mainAxis,I=P?-T[B]/2+de+V+oe+O.mainAxis:ae+V+oe+O.mainAxis,q=t.elements.arrow&&Je(t.elements.arrow),ye=q?h==="y"?q.clientTop||0:q.clientLeft||0:0,le=(E=M==null?void 0:M[h])!=null?E:0,Me=N+y-le-ye,X=N+I-le,xe=ze(m?ct(_,Me):_,N,m?De(U,X):U);b[h]=xe,W[h]=xe-N}if(a){var Re,he=h==="x"?G:Y,$e=h==="x"?se:ie,J=b[w],we=w==="y"?"height":"width",ve=J+x[he],Pe=J-x[$e],Oe=[G,Y].indexOf(A)!==-1,Ce=(Re=M==null?void 0:M[w])!=null?Re:0,ge=Oe?ve:J-T[we]-$[we]-Ce+O.altAxis,je=Oe?J+T[we]+$[we]-Ce-O.altAxis:Pe,Se=m&&Oe?Tn(ge,J,je):ze(m?ge:ve,J,m?je:Pe);b[w]=Se,W[w]=Se-J}t.modifiersData[n]=W}}const rr={name:"preventOverflow",enabled:!0,phase:"main",fn:nr,requiresIfExists:["offset"]};function sr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ir(e){return e===Z(e)||!re(e)?Et(e):sr(e)}function ar(e){var t=e.getBoundingClientRect(),o=Ne(t.width)/e.offsetWidth||1,n=Ne(t.height)/e.offsetHeight||1;return o!==1||n!==1}function lr(e,t,o){o===void 0&&(o=!1);var n=re(t),r=re(t)&&ar(t),s=Te(t),p=We(e,r,o),a={scrollLeft:0,scrollTop:0},i={x:0,y:0};return(n||!n&&!o)&&((fe(t)!=="body"||$t(s))&&(a=ir(t)),re(t)?(i=We(t,!0),i.x+=t.clientLeft,i.y+=t.clientTop):s&&(i.x=Mt(s))),{x:p.left+a.scrollLeft-i.x,y:p.top+a.scrollTop-i.y,width:p.width,height:p.height}}function pr(e){var t=new Map,o=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function r(s){o.add(s.name);var p=[].concat(s.requires||[],s.requiresIfExists||[]);p.forEach(function(a){if(!o.has(a)){var i=t.get(a);i&&r(i)}}),n.push(s)}return e.forEach(function(s){o.has(s.name)||r(s)}),n}function cr(e){var t=pr(e);return wn.reduce(function(o,n){return o.concat(t.filter(function(r){return r.phase===n}))},[])}function ur(e){var t;return function(){return t||(t=new Promise(function(o){Promise.resolve().then(function(){t=void 0,o(e())})})),t}}function fr(e){var t=e.reduce(function(o,n){var r=o[n.name];return o[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,o},{});return Object.keys(t).map(function(o){return t[o]})}var to={placement:"bottom",modifiers:[],strategy:"absolute"};function oo(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function dr(e){e===void 0&&(e={});var t=e,o=t.defaultModifiers,n=o===void 0?[]:o,r=t.defaultOptions,s=r===void 0?to:r;return function(a,i,u){u===void 0&&(u=s);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},to,s),modifiersData:{},elements:{reference:a,popper:i},attributes:{},styles:{}},v=[],C=!1,m={state:l,setOptions:function(A){var D=typeof A=="function"?A(l.options):A;g(),l.options=Object.assign({},s,l.options,D),l.scrollParents={reference:Ee(a)?Xe(a):a.contextElement?Xe(a.contextElement):[],popper:Xe(i)};var P=cr(fr([].concat(n,l.options.modifiers)));return l.orderedModifiers=P.filter(function(h){return h.enabled}),R(),m.update()},forceUpdate:function(){if(!C){var A=l.elements,D=A.reference,P=A.popper;if(oo(D,P)){l.rects={reference:lr(D,Je(P),l.options.strategy==="fixed"),popper:jt(P)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(O){return l.modifiersData[O.name]=Object.assign({},O.data)});for(var h=0;h<l.orderedModifiers.length;h++){if(l.reset===!0){l.reset=!1,h=-1;continue}var w=l.orderedModifiers[h],b=w.fn,T=w.options,$=T===void 0?{}:T,S=w.name;typeof b=="function"&&(l=b({state:l,options:$,name:S,instance:m})||l)}}}},update:ur(function(){return new Promise(function(x){m.forceUpdate(),x(l)})}),destroy:function(){g(),C=!0}};if(!oo(a,i))return m;m.setOptions(u).then(function(x){!C&&u.onFirstUpdate&&u.onFirstUpdate(x)});function R(){l.orderedModifiers.forEach(function(x){var A=x.name,D=x.options,P=D===void 0?{}:D,h=x.effect;if(typeof h=="function"){var w=h({state:l,name:A,instance:m,options:P}),b=function(){};v.push(w||b)}})}function g(){v.forEach(function(x){return x()}),v=[]}return m}}var mr=[Nn,tr,Bn,Cn,Zn,Gn,rr,En,Kn],hr=dr({defaultModifiers:mr});function vr(e){return co("MuiPopper",e)}po("MuiPopper",["root"]);const gr=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],br=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function yr(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function Ot(e){return typeof e=="function"?e():e}function xr(e){return e.nodeType!==void 0}const wr=e=>{const{classes:t}=e;return uo({root:["root"]},vr,t)},Pr={},Or=d.forwardRef(function(t,o){var n;const{anchorEl:r,children:s,direction:p,disablePortal:a,modifiers:i,open:u,placement:l,popperOptions:v,popperRef:C,slotProps:m={},slots:R={},TransitionProps:g}=t,x=ut(t,gr),A=d.useRef(null),D=xt(A,o),P=d.useRef(null),h=xt(P,C),w=d.useRef(h);qt(()=>{w.current=h},[h]),d.useImperativeHandle(C,()=>P.current,[]);const b=yr(l,p),[T,$]=d.useState(b),[S,O]=d.useState(Ot(r));d.useEffect(()=>{P.current&&P.current.forceUpdate()}),d.useEffect(()=>{r&&O(Ot(r))},[r]),qt(()=>{if(!S||!u)return;const z=_=>{$(_.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:_})=>{z(_)}}];i!=null&&(B=B.concat(i)),v&&v.modifiers!=null&&(B=B.concat(v.modifiers));const N=hr(S,A.current,k({placement:b},v,{modifiers:B}));return w.current(N),()=>{N.destroy(),w.current(null)}},[S,a,i,u,v,b]);const M={placement:T};g!==null&&(M.TransitionProps=g);const W=wr(t),E=(n=R.root)!=null?n:"div",F=qo({elementType:E,externalSlotProps:m.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:D},ownerState:t,className:W.root});return c.jsx(E,k({},F,{children:typeof s=="function"?s(M):s}))}),Cr=d.forwardRef(function(t,o){const{anchorEl:n,children:r,container:s,direction:p="ltr",disablePortal:a=!1,keepMounted:i=!1,modifiers:u,open:l,placement:v="bottom",popperOptions:C=Pr,popperRef:m,style:R,transition:g=!1,slotProps:x={},slots:A={}}=t,D=ut(t,br),[P,h]=d.useState(!0),w=()=>{h(!1)},b=()=>{h(!0)};if(!i&&!l&&(!g||P))return null;let T;if(s)T=s;else if(n){const O=Ot(n);T=O&&xr(O)?Ut(O).body:Ut(null).body}const $=!l&&i&&(!g||P)?"none":void 0,S=g?{in:l,onEnter:w,onExited:b}:void 0;return c.jsx(Uo,{disablePortal:a,container:T,children:c.jsx(Or,k({anchorEl:n,direction:p,disablePortal:a,modifiers:u,ref:o,open:g?!P:l,placement:v,popperOptions:C,popperRef:m,slotProps:x,slots:A},D,{style:k({position:"fixed",top:0,left:0,display:$},R),TransitionProps:S,children:r}))})}),Sr=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Ar=ft(Cr,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),jo=d.forwardRef(function(t,o){var n;const r=bo(),s=fo({props:t,name:"MuiPopper"}),{anchorEl:p,component:a,components:i,componentsProps:u,container:l,disablePortal:v,keepMounted:C,modifiers:m,open:R,placement:g,popperOptions:x,popperRef:A,transition:D,slots:P,slotProps:h}=s,w=ut(s,Sr),b=(n=P==null?void 0:P.root)!=null?n:i==null?void 0:i.Root,T=k({anchorEl:p,container:l,disablePortal:v,keepMounted:C,modifiers:m,open:R,placement:g,popperOptions:x,popperRef:A,transition:D},w);return c.jsx(Ar,k({as:a,direction:r==null?void 0:r.direction,slots:{root:b},slotProps:h??u},T,{ref:o}))});function Tr(e){return co("MuiTooltip",e)}const Ae=po("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Rr=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function jr(e){return Math.round(e*1e5)/1e5}const Dr=e=>{const{classes:t,disableInteractive:o,arrow:n,touch:r,placement:s}=e,p={popper:["popper",!o&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",r&&"touch",`tooltipPlacement${mo(s.split("-")[0])}`],arrow:["arrow"]};return uo(p,Tr,t)},Er=ft(jo,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popper,!o.disableInteractive&&t.popperInteractive,o.arrow&&t.popperArrow,!o.open&&t.popperClose]}})(({theme:e,ownerState:t,open:o})=>k({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Ae.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ae.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ae.arrow}`]:k({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ae.arrow}`]:k({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Mr=ft("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.tooltip,o.touch&&t.touch,o.arrow&&t.tooltipArrow,t[`tooltipPlacement${mo(o.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>k({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:ho(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${jr(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Ae.popper}[data-popper-placement*="left"] &`]:k({transformOrigin:"right center"},t.isRtl?k({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):k({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Ae.popper}[data-popper-placement*="right"] &`]:k({transformOrigin:"left center"},t.isRtl?k({marginRight:"14px"},t.touch&&{marginRight:"24px"}):k({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Ae.popper}[data-popper-placement*="top"] &`]:k({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Ae.popper}[data-popper-placement*="bottom"] &`]:k({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),$r=ft("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:ho(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let st=!1;const no=new Jo;let Ue={x:0,y:0};function it(e,t){return(o,...n)=>{t&&t(o,...n),e(o,...n)}}const ro=d.forwardRef(function(t,o){var n,r,s,p,a,i,u,l,v,C,m,R,g,x,A,D,P,h,w;const b=fo({props:t,name:"MuiTooltip"}),{arrow:T=!1,children:$,components:S={},componentsProps:O={},describeChild:M=!1,disableFocusListener:W=!1,disableHoverListener:E=!1,disableInteractive:F=!1,disableTouchListener:z=!1,enterDelay:B=100,enterNextDelay:N=0,enterTouchDelay:_=700,followCursor:U=!1,id:de,leaveDelay:me=0,leaveTouchDelay:ae=1500,onClose:ce,onOpen:ee,open:K,placement:te="bottom",PopperComponent:oe,PopperProps:V={},slotProps:y={},slots:I={},title:q,TransitionComponent:ye=Xt,TransitionProps:le}=b,Me=ut(b,Rr),X=d.isValidElement($)?$:c.jsx("span",{children:$}),xe=St(),Re=zo(),[he,$e]=d.useState(),[J,we]=d.useState(null),ve=d.useRef(!1),Pe=F||U,Oe=tt(),Ce=tt(),ge=tt(),je=tt(),[Se,Qe]=Xo({controlled:K,default:!1,name:"Tooltip",state:"open"});let f=Se;const L=Go(de),H=d.useRef(),ke=zt(()=>{H.current!==void 0&&(document.body.style.WebkitUserSelect=H.current,H.current=void 0),je.clear()});d.useEffect(()=>ke,[ke]);const kt=j=>{no.clear(),st=!0,Qe(!0),ee&&!f&&ee(j)},Ze=zt(j=>{no.start(800+me,()=>{st=!1}),Qe(!1),ce&&f&&ce(j),Oe.start(xe.transitions.duration.shortest,()=>{ve.current=!1})}),et=j=>{ve.current&&j.type!=="touchstart"||(he&&he.removeAttribute("title"),Ce.clear(),ge.clear(),B||st&&N?Ce.start(st?N:B,()=>{kt(j)}):kt(j))},mt=j=>{Ce.clear(),ge.start(me,()=>{Ze(j)})},{isFocusVisibleRef:Bt,onBlur:Do,onFocus:Eo,ref:Mo}=Yo(),[,Lt]=d.useState(!1),Nt=j=>{Do(j),Bt.current===!1&&(Lt(!1),mt(j))},Wt=j=>{he||$e(j.currentTarget),Eo(j),Bt.current===!0&&(Lt(!0),et(j))},It=j=>{ve.current=!0;const Q=X.props;Q.onTouchStart&&Q.onTouchStart(j)},$o=j=>{It(j),ge.clear(),Oe.clear(),ke(),H.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",je.start(_,()=>{document.body.style.WebkitUserSelect=H.current,et(j)})},ko=j=>{X.props.onTouchEnd&&X.props.onTouchEnd(j),ke(),ge.start(ae,()=>{Ze(j)})};d.useEffect(()=>{if(!f)return;function j(Q){(Q.key==="Escape"||Q.key==="Esc")&&Ze(Q)}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[Ze,f]);const Bo=xt(Ko(X),Mo,$e,o);!q&&q!==0&&(f=!1);const ht=d.useRef(),Lo=j=>{const Q=X.props;Q.onMouseMove&&Q.onMouseMove(j),Ue={x:j.clientX,y:j.clientY},ht.current&&ht.current.update()},Fe={},vt=typeof q=="string";M?(Fe.title=!f&&vt&&!E?q:null,Fe["aria-describedby"]=f?L:null):(Fe["aria-label"]=vt?q:null,Fe["aria-labelledby"]=f&&!vt?L:null);const pe=k({},Fe,Me,X.props,{className:ot(Me.className,X.props.className),onTouchStart:It,ref:Bo},U?{onMouseMove:Lo}:{}),_e={};z||(pe.onTouchStart=$o,pe.onTouchEnd=ko),E||(pe.onMouseOver=it(et,pe.onMouseOver),pe.onMouseLeave=it(mt,pe.onMouseLeave),Pe||(_e.onMouseOver=et,_e.onMouseLeave=mt)),W||(pe.onFocus=it(Wt,pe.onFocus),pe.onBlur=it(Nt,pe.onBlur),Pe||(_e.onFocus=Wt,_e.onBlur=Nt));const No=d.useMemo(()=>{var j;let Q=[{name:"arrow",enabled:!!J,options:{element:J,padding:4}}];return(j=V.popperOptions)!=null&&j.modifiers&&(Q=Q.concat(V.popperOptions.modifiers)),k({},V.popperOptions,{modifiers:Q})},[J,V]),He=k({},b,{isRtl:Re,arrow:T,disableInteractive:Pe,placement:te,PopperComponentProp:oe,touch:ve.current}),gt=Dr(He),Ft=(n=(r=I.popper)!=null?r:S.Popper)!=null?n:Er,_t=(s=(p=(a=I.transition)!=null?a:S.Transition)!=null?p:ye)!=null?s:Xt,Ht=(i=(u=I.tooltip)!=null?u:S.Tooltip)!=null?i:Mr,Vt=(l=(v=I.arrow)!=null?v:S.Arrow)!=null?l:$r,Wo=nt(Ft,k({},V,(C=y.popper)!=null?C:O.popper,{className:ot(gt.popper,V==null?void 0:V.className,(m=(R=y.popper)!=null?R:O.popper)==null?void 0:m.className)}),He),Io=nt(_t,k({},le,(g=y.transition)!=null?g:O.transition),He),Fo=nt(Ht,k({},(x=y.tooltip)!=null?x:O.tooltip,{className:ot(gt.tooltip,(A=(D=y.tooltip)!=null?D:O.tooltip)==null?void 0:A.className)}),He),_o=nt(Vt,k({},(P=y.arrow)!=null?P:O.arrow,{className:ot(gt.arrow,(h=(w=y.arrow)!=null?w:O.arrow)==null?void 0:h.className)}),He);return c.jsxs(d.Fragment,{children:[d.cloneElement(X,pe),c.jsx(Ft,k({as:oe??jo,placement:te,anchorEl:U?{getBoundingClientRect:()=>({top:Ue.y,left:Ue.x,right:Ue.x,bottom:Ue.y,width:0,height:0})}:he,popperRef:ht,open:he?f:!1,id:L,transition:!0},_e,Wo,{popperOptions:No,children:({TransitionProps:j})=>c.jsx(_t,k({timeout:xe.transitions.duration.shorter},j,Io,{children:c.jsxs(Ht,k({},Fo,{children:[q,T?c.jsx(Vt,k({},_o,{ref:we})):null]}))}))}))]})}),kr=()=>{const e=St();so(e.palette.mode);const[t,o]=d.useState([]),[n,r]=d.useState(null),[s,p]=d.useState(!1),[a,i]=d.useState(!1),[u,l]=d.useState(!1),[v,C]=d.useState(null),[m,R]=d.useState("id"),[g,x]=d.useState("asc"),[A,D]=d.useState(0),[P,h]=d.useState(5),{loading:w,data:b,callApi:T}=Be(),{loading:$,error:S,callApi:O}=Be(),M=Ct(y=>y.users.user),W=M.cohort,E=M.studentId,F=`${lt.ASSIGNMENT}/${W}`;d.useEffect(()=>{F&&T(F,"GET")},[F,T]),d.useEffect(()=>{b&&o(b)},[b]);const z=t.map((y,I)=>{const q=y.submissions.some(ye=>ye.studentId===E);return{id:I+1,title:y.title,dueDate:y.dueDate,description:y.description,assignmentId:y.id,hasSubmitted:q}}),B=(y=null)=>{r(y||null),p(!0)},N=()=>{p(!1)},_=(y=null)=>{r(y),l(!0)},U=()=>{l(!1)},de=()=>{i(!1)},me=y=>{C(y.target.files[0])},ae=y=>{if(v){const I=new FormData;I.append("submission",v),I.append("studentId",E);const q=O(`${lt.ASSIGNMENT}/submissions/${M.cohort}/${y}`,"PATCH",I);q&&q.message&&(o(ye=>ye.map(le=>le.id===y?{...le,submissions:[...le.submissions,{studentId:E}]}:le)),i(!0)),S&&i(!0)}U()},ce=y=>{if(v){const I=new FormData;I.append("submission",v),I.append("studentId",E),O(`${lt.ASSIGNMENT}/resubmissions/${M.cohort}/${y}`,"PATCH",I),(O||S)&&i(!0)}U()},ee=[{id:"id",label:"ID"},{id:"title",label:"Title"},{id:"dueDate",label:"Due Date"},{id:"description",label:"Description"},{id:"actions",label:"Actions",renderCell:y=>c.jsxs(c.Fragment,{children:[c.jsx(ro,{title:"View assignment",children:c.jsx(Zo,{onClick:()=>B(y),children:c.jsx(lo,{})})}),c.jsx(ro,{title:y.hasSubmitted?"Resubmit assignment":"Submit assignment",children:c.jsx(Qo,{onClick:()=>_(y),variant:"contained",color:"primary",children:y.hasSubmitted?"Resubmit":"Submit"})})]})}],K=y=>{x(m===y&&g==="asc"?"desc":"asc"),R(y)},te=(y,I)=>{D(I)},oe=y=>{h(parseInt(y.target.value,10))},V=y=>{console.log(y)};return c.jsxs(ne,{children:[c.jsx(io,{title:"ASSIGNMENTS",subtitle:"Overview of Assignments"}),w?c.jsx(Ho,{}):c.jsx(ne,{height:"75vh",children:c.jsx(ao,{columns:ee,tableHeader:"Overview of Assignments",data:z,sortBy:m,sortDirection:g,onSortChange:K,page:A,rowsPerPage:P,onPageChange:te,onRowsPerPageChange:oe,onRowClick:V,hiddenColumnsSmallScreen:["dueDate","description"]})}),c.jsx(qe,{open:s,onClose:N,title:"View Assignment Details",onConfirm:N,children:n&&c.jsxs(ne,{children:[c.jsxs(bt,{variant:"h6",children:["Title: ",n.title]}),c.jsxs(bt,{variant:"body1",children:["Due Date: ",n.dueDate]}),c.jsxs(bt,{variant:"body2",children:["Description: ",n.description]})]})}),c.jsx(qe,{open:u,onClose:U,title:`Submit assignment for ${n==null?void 0:n.title}`,noConfirm:!0,children:c.jsxs(ne,{display:"flex",children:[c.jsx(at,{type:"file",onChange:me,fullWidth:!0}),c.jsx(vo,{onClick:()=>{n!=null&&n.hasSubmitted?ce(n==null?void 0:n.assignmentId):ae(n==null?void 0:n.assignmentId)},content:n!=null&&n.hasSubmitted?"Resubmit":"Submit",sx:{margin:"10px"}})]})}),c.jsx(go,{open:a,onClose:de,isLoading:$,title:"Assigment submission confirmation",message:S?"Error submitting the assignment!":"Assignment submitted successfully!"})]})},Br=()=>{const e=St();so(e.palette.mode);const[t,o]=d.useState([]),[n,r]=d.useState(null),[s,p]=d.useState(!1),[a,i]=d.useState({title:"",dueDate:"",description:""}),[u,l]=d.useState("sn"),[v,C]=d.useState("asc"),[m,R]=d.useState(0),[g,x]=d.useState(5),[A,D]=d.useState(!1),[P,h]=d.useState([]),[w,b]=d.useState(!1),[T,$]=d.useState(null),[S,O]=d.useState(!1),[M,W]=d.useState(!1),[E,F]=d.useState(!1),z=()=>{S===!0&&O(!1),M===!0&&W(!1),E===!0&&F(!1)},N=Ct(f=>f.users.user).cohort,_=`${lt.ASSIGNMENT}/${N}`,{loading:U,data:de,error:me,callApi:ae}=Be(),{loading:ce,data:ee,error:K,callApi:te}=Be(),{loading:oe,data:V,error:y,callApi:I}=Be(),{loading:q,data:ye,error:le,callApi:Me}=Be();d.useEffect(()=>{(async()=>{if(_){console.log(_);const L=await te(_,"GET");o(L)}})()},[]);const X=f=>f.sort((L,H)=>((H==null?void 0:H.id)||0)-((L==null?void 0:L.id)||0)),xe=(f=null)=>{f?(r(f),i({title:f.title,dueDate:f.dueDate,description:f.description})):(r(null),i({title:"",dueDate:"",description:""})),p(!0)},Re=()=>{p(!1)},he=async()=>{try{if(n)if(await I(`${_}/${n._id}`,"PUT",a)){const L=t.map(H=>H.id===n.id?{...H,...a}:H);o(X(L)),W(!0)}else W(!0);else if(await ae(_,"POST",a)){const L={...a,id:t.length+1},H=[...t,L];o(X(H)),F(!0)}else F(!0);Re()}catch(f){console.error("Error submitting assignment: ",f)}},$e=f=>{$(f),b(!0)},J=async()=>{try{if(await Me(`${_}/${T._id}`,"DELETE")){const L=t.filter(H=>H.id!==T.id);o(X(L)),O(!0),O(!0)}else O(!0);b(!1)}catch(f){console.error("Error deleting assignment: ",f),b(!1)}},we=()=>{b(!1)},ve=f=>{r(f),h(f.submissions||[]),console.log(P),D(!0)},Pe=()=>{D(!1)},Oe=f=>{C(u===f&&v==="asc"?"desc":"asc"),l(f)},Ce=(f,L)=>{R(L)},ge=f=>{x(parseInt(f.target.value,10))},je=f=>{console.log(f)},Se=f=>{const{name:L,value:H}=f.target;i(ke=>({...ke,[L]:H}))},Qe=[{id:"sn",label:"S/N",minWidth:50},{id:"title",label:"Title",minWidth:100},{id:"dueDate",label:"Due Date",minWidth:100},{id:"description",label:"Description",minWidth:150},{id:"actions",label:"Actions",minWidth:150,renderCell:f=>c.jsxs(ne,{display:"flex",justifyContent:"start",children:[c.jsx(yt,{title:"Edit assignment",onClick:()=>xe(f),icon:c.jsx(en,{})}),c.jsx(yt,{onClick:()=>$e(f),title:"Delete assignment",icon:c.jsx(on,{})}),c.jsx(yt,{onClick:()=>ve(f),title:"View submissions",icon:c.jsx(lo,{})})]})}];return c.jsxs(ne,{children:[c.jsx(io,{title:"ASSIGNMENTS",subtitle:"Overview of Assignments"}),c.jsx(vo,{onClick:()=>xe(),content:"Add Assignment"}),c.jsx(ao,{columns:Qe,tableHeader:"Overview of Assignments",data:t.map((f,L)=>({...f,sn:L+1})),sortBy:u,sortDirection:v,onSortChange:Oe,page:m,rowsPerPage:g,onPageChange:Ce,onRowsPerPageChange:ge,onRowClick:je,hiddenColumnsSmallScreen:["dueDate","description"]}),c.jsx(qe,{open:s,onClose:Re,title:n?"Update Assignment":"Add Assignment",onConfirm:he,children:c.jsxs(ne,{component:"form",sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsx(at,{type:"text",name:"title",label:"Title",value:a.title,onChange:Se,required:!0}),c.jsx(at,{type:"date",name:"dueDate",label:"Due Date",value:a.dueDate,onChange:Se,required:!0,InputLabelProps:{shrink:!0}}),c.jsx(at,{type:"text",name:"description",label:"Description",value:a.description,onChange:Se,required:!0,multiline:!0,rows:4})]})}),c.jsx(qe,{open:w,onClose:we,title:"Confirm Deletion",onConfirm:J,children:c.jsx(ne,{children:c.jsx("p",{children:"Are you sure you want to delete this assignment?"})})}),c.jsx(qe,{open:A,onClose:Pe,title:"View Submissions",noConfirm:!0,children:c.jsx(ne,{children:P.length===0?c.jsx("p",{children:"No submissions yet."}):c.jsx(ne,{children:P.map((f,L)=>c.jsxs(ne,{sx:{display:"flex",alignItems:"center",marginBottom:"1rem",padding:"1rem",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.5)"},children:[c.jsx(tn,{alt:`${f.firstName} ${f.lastName}`,src:f.profilePictureUrl,sx:{width:50,height:50,marginRight:"1rem"}}),c.jsxs(ne,{children:[c.jsx("p",{children:c.jsxs("strong",{children:[f.firstName," ",f.lastName]})}),c.jsxs("p",{children:["Student ID: ",f.studentId]}),c.jsxs("p",{children:["Submitted At: ",new Date(f.submittedAt).toLocaleString()]}),c.jsx("p",{children:c.jsx("a",{href:f.submission,download:!0,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"blue"},children:"Download Submission"})})]})]},L))})})}),c.jsx(go,{open:S||M||E,onClose:z,title:S?"Delete Confirmation":E?"Assignment created":"Update confirmation",isLoading:S?q:E?U:oe,message:S?"Assignment successfully deleted":M?"Assignment successfully updated":S&&le||M&&y?"Could not update assignemnt, something went wrong":E?"Assignment successfully posted":"something went wrong"})]})},Lr=()=>{const e=Ct(o=>o.users.user),t=e.role;return c.jsx("div",{children:t==="student"?c.jsx(kr,{}):c.jsx(Br,{babtechUser:e})})},ts=nn(Lr);export{ts as default};
