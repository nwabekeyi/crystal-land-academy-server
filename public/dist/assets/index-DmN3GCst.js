import{r as d,a as w,j as a}from"./index-CmongNqj.js";import{H as Y}from"./Header-C-IOg9fy.js";import{p as A}from"./nivo-line.es-DwuoSVVA.js";import{t as M}from"./modal-DOkj5b5S.js";import{j as z,v as p}from"./TextField-BRCl01nD.js";import"./index-DlEtA_4g.js";import"./MenuItem-CBa9F7RL.js";import"./IconButton-BxixnWx-.js";import"./useApi-DRHDw2QR.js";import"./confirmationModal-DmU1e-AI.js";import"./CircularProgress-CJ7ctfkv.js";import"./index-Cdxudna_.js";import"./loadingButton-Cu9NSFum.js";import"./crystal-land-log-removebg-DVF-nlbN.js";import"./useSlot-Ctrqk4ly.js";import"./isEqual-BLke84nn.js";import"./_baseIsEqual-Br-TGmzm.js";import"./_baseForOwn-DTq9TjwJ.js";const O=({isCustomLineColors:f=!1,isDashboard:h=!1})=>{const[u,S]=d.useState([]),[g,k]=d.useState(new Date().getFullYear()),y=z(),t=d.useMemo(()=>M(y.palette.mode),[y.palette.mode]),n=w(s=>s.adminData.usersData.students);console.log(n);const D=s=>`hsl(${s*360/10%360}, 70%, 60%)`;return d.useEffect(()=>{(()=>{try{if(n&&n.length>0){const i=["January","February","March","April","May","June","July","August","September","October","November","December"],x=Array.from(new Set(n.map(e=>new Date(e.createdAt).getFullYear()))),b=x.includes(g)?g:Math.max(...x);k(b);const o={};n.forEach(e=>{const r=e.program,l=e.createdAt?new Date(e.createdAt):new Date,c=l.getFullYear(),m=l.getMonth(),B=i[m];console.log(e),c===b&&(o[r]||(o[r]=i.map((C,v)=>({x:i[v],y:0}))),o[r][m]?o[r][m].y+=e.amountPaid:console.warn(`Data point with month index ${m} is undefined for program ${r}.`))}),console.log(o);const j=Object.keys(o).map((e,r)=>{const l=o[e].map(c=>({x:c.x||"Unknown",y:c.y||0}));return{id:e,color:f?D(r):t.primary[500],data:l}});S(j)}else console.warn("No data available or data array is empty.")}catch(i){console.error("Error fetching data from sessionStorage: ",i)}})()},[f,t.primary,g]),u.length===0?a.jsx(p,{children:"Loading data..."}):a.jsx(p,{width:"98%",height:"100%",children:a.jsx(A,{data:u,animate:!0,motionConfig:"default",theme:{axis:{domain:{line:{stroke:t.grey[100]}},legend:{text:{fill:t.grey[100],fontSize:8}},ticks:{line:{stroke:t.grey[100],strokeWidth:1},text:{fill:t.grey[100],fontSize:8}}},legends:{text:{fill:t.grey[100],fontSize:8}},tooltip:{container:{color:t.primary[500]}}},colors:f?{datum:"color"}:{scheme:"nivo"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:0,tickPadding:5,tickRotation:0,legend:h?void 0:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:h?void 0:"Amount Paid",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},K=()=>a.jsxs(p,{m:"20px",children:[a.jsx(Y,{title:"Line Chart",subtitle:"Simple Line Chart"}),a.jsx(p,{height:"75vh",children:a.jsx(O,{})})]});export{K as default};
