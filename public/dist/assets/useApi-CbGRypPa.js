import{r as a}from"./index-D_kDwTfs.js";const d=()=>{const[l,i]=a.useState(!1),[u,g]=a.useState(""),[p,o]=a.useState(null),f=a.useCallback(async(m,h="GET",s=null,w={})=>{i(!0),o(null);const c=sessionStorage.getItem("accessToken"),r={...w.headers};c&&(r.Authorization=`Bearer ${c}`),s instanceof FormData||(r["Content-Type"]="application/json");const S={method:h,headers:r,body:s&&!(s instanceof FormData)?JSON.stringify(s):s};try{const e=await fetch(m,S);if(e.ok){const t=e.headers.get("Content-Type");let n;return t&&t.includes("application/json")?n=await e.json():n=await e.text(),g(n),n}else{let t=await e.json();console.log(t),t&&t.message&&o(t.message||"Something went wrong")}}catch(e){return o(e.message||"Something went wrong"),null}finally{i(!1)}},[]);return{loading:l,data:u,error:p,callApi:f}};export{d as u};
