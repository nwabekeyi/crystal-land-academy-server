import{r as i,j as t}from"./index-6D99QuFG.js";import{t as N,M as _}from"./modal-DqZ7eHOa.js";import{C as M}from"./accordion-BdMzdIiS.js";import{H as E}from"./Header-DW_Gm6l8.js";import{C as I}from"./confirmationModal-DgvI5Ut6.js";import{j as $,v as s,T as m,y as v}from"./TextField-DNCAtP8T.js";import{A as k}from"./index-WimI5LkW.js";import{M as A}from"./MenuItem-CWg5t3XM.js";import"./IconButton-S8eDekGk.js";import"./useSlot-ivDgNzIL.js";import"./CircularProgress-C-UCLo1M.js";import"./useApi-l6Ih029s.js";import"./index-xdteryru.js";import"./loadingButton-CXLrw9-F.js";import"./crystal-land-log-removebg-DVF-nlbN.js";const O=[{_id:"tch_1",firstName:"Yusuf",lastName:"Ahmed",role:"Mathematics Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/john_doe.jpg"},{_id:"tch_2",firstName:"Halima",lastName:"Rasheed",role:"English Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/jane_smith.jpg"},{_id:"tch_3",firstName:"Fawaz",lastName:"Razak",role:"Science Teacher",program:"Secondary Education",profilePictureUrl:"https://example.com/profiles/alice_brown.jpg"}];function W(){const w=$(),u=N(w.palette.mode),[c]=i.useState(O),[r,p]=i.useState(null),[j,d]=i.useState(!1),[a,f]=i.useState({reviewText:"",rating:""}),[C,o]=i.useState(!1),[x,n]=i.useState({error:null,message:null}),y=e=>{p(e),d(!0)},R=()=>{o(!1),n({error:null,message:null})},g=()=>{d(!1),f({reviewText:"",rating:""}),p(null)},h=e=>{const{name:l,value:T}=e.target;f(b=>({...b,[l]:T}))},S=()=>{if(!a.reviewText||!a.rating){n({error:"Please provide both review text and rating",message:null}),o(!0);return}console.log("Submitting review:",{userId:"mock_user_id",teacherId:r==null?void 0:r._id,reviewText:a.reviewText,rating:Number(a.rating)}),n({error:null,message:"Teacher review submitted successfully!"}),o(!0),g()};return t.jsxs(s,{m:"30px",children:[t.jsx(E,{title:"YOUR TEACHERS",subtitle:""}),c.length<1&&t.jsx(m,{children:"You have not been assigned a teacher yet"}),c.map((e,l)=>t.jsx(M,{title:`${e.firstName} ${e.lastName}`,details:t.jsxs(s,{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",children:[t.jsx(k,{src:e.profilePictureUrl,alt:`${e.firstName} ${e.lastName}`,sx:{width:120,height:120,mb:2}}),t.jsxs(s,{children:[t.jsx(m,{variant:"body2",color:u.grey[100],children:e.role}),t.jsx(m,{variant:"body2",color:u.grey[100],mt:"5px",children:e.program})]})]}),actions:[{label:"Review",onClick:()=>y(e)}]},l)),t.jsx(_,{open:j,onClose:g,title:`Review ${r==null?void 0:r.firstName} ${r==null?void 0:r.lastName}`,onConfirm:S,children:t.jsxs(s,{display:"flex",flexDirection:"column",gap:"16px",children:[t.jsx(v,{name:"reviewText",label:"Review",variant:"outlined",multiline:!0,rows:4,value:a.reviewText,onChange:h,required:!0}),t.jsx(v,{name:"rating",label:"Rating",variant:"outlined",select:!0,value:a.rating,onChange:h,required:!0,children:[1,2,3,4,5].map(e=>t.jsx(A,{value:e,children:e},e))})]})}),t.jsx(I,{open:C,onClose:R,isLoading:!1,title:"Teacher Review Confirmation",message:x.message||x.error})]})}export{W as default};
