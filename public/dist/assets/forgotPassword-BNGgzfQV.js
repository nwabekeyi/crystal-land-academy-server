import{r as s,f as k,j as e,e as b}from"./index-D_BFJj-0.js";import{L as P}from"./loadingButton-CzAJehWZ.js";import{u as A}from"./useApi-DAb_JD3N.js";import{H as E,F as L}from"./Header-DIxLl8i_.js";import{B as C}from"./backgroundWithHome-Clk0T5AA.js";import{v as c,T as i,y as B}from"./TextField-CTJJbsxV.js";import{A as g}from"./Alert-F-QKvef6.js";import"./CircularProgress-euEUZc_8.js";import"./index.esm-BEJ5PHKZ.js";import"./index-GIa04vFt.js";import"./modal-DeOsfxrp.js";import"./IconButton-irclJGl8.js";import"./Tooltip-D99YuVsd.js";import"./useSlot-CnZl1Zys.js";const F=()=>{const[a,m]=s.useState(""),[u,l]=s.useState(""),[t,d]=s.useState(!1),[f,h]=s.useState(""),[n,p]=s.useState(0),{loading:y,error:w,callApi:j}=A(),v=k();s.useEffect(()=>{let r;return t&&n>0&&(r=setInterval(()=>{p(o=>{const x=o-1;return x<=0&&d(!1),x})},1e3)),()=>clearInterval(r)},[t,n]);const S=async r=>{if(r.preventDefault(),l(""),!a)return l("Please enter your email");const o=await j(b.PASSWORD_LINK,"POST",{email:a});o&&o.message&&o.message==="Password reset link sent successfully"?(l("Password reset link sent. Kindly check your email!"),m(""),d(!0),p(60)):h("Password link not sent, something went wrong or you can check if your email is correctly inputted")};return e.jsxs(c,{children:[e.jsx(E,{}),e.jsx(c,{sx:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"30px",mx:{xs:4,sm:4,md:0}},children:e.jsxs(c,{sx:{p:3,textAlign:"start",backgroundColor:"white",boxShadow:10,borderRadius:2},children:[e.jsx(i,{variant:"h5",color:"#000",gutterBottom:!0,children:"Forgot your password?"}),e.jsx(i,{variant:"body2",color:"textSecondary",mb:2,children:"Enter your email and we will send you a password reset link."}),u&&e.jsx(g,{severity:"success",children:u}),w&&e.jsx(g,{severity:"error",children:f}),e.jsxs("form",{onSubmit:S,children:[e.jsx(B,{fullWidth:!0,label:"Email",variant:"outlined",type:"email",margin:"normal",value:a,onChange:r=>m(r.target.value)}),e.jsx(P,{type:"submit",variant:"contained",fullWidth:!0,isLoading:y,disabled:t,sx:{filter:t?"blur(0.1px)":"none",cursor:t?"not-allowed":"pointer"},children:t?"Reset Link Sent":"Request Reset Link"})]}),t&&n>0&&e.jsxs(i,{variant:"body2",color:"textSecondary",sx:{mt:2,textAlign:"center"},children:["You can resend the link in ",n," seconds."]}),e.jsx(i,{variant:"body2",color:"primary",sx:{mt:2,textAlign:"center",cursor:"pointer"},onClick:()=>v("/signin"),children:"Back to Login"})]})}),e.jsx(L,{})]})},R=C(F),J=()=>e.jsx(R,{});export{J as default};
