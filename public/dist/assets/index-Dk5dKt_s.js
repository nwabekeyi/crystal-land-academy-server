import{r as t,e as l,j as e}from"./index-CWYHbWdA.js";import{t as T}from"./modal-CcIzH7lN.js";import{H as w}from"./Header-0tvqhBL0.js";import{T as M}from"./table-CSUb9WH_.js";import{u as j}from"./useApi-BXbrCWjd.js";import{w as k}from"./dasboardPagesContainer-A6AVuI_f.js";import{j as G,w as s,z as a,y as A,T as m}from"./TextField-Dq8tnGPq.js";import"./IconButton-DASaTb9x.js";import"./index-BKshzm7m.js";import"./MenuItem-bOm2_mFj.js";import"./confirmationModal-CJQ-KLpP.js";import"./CircularProgress-SqmvOjt-.js";import"./index-BdvaMi24.js";import"./loadingButton-DZpOVDD_.js";import"./useSlot-DlsXiE8L.js";import"./useMediaQuery-DVERPn9q.js";const N=()=>{const I=G(),o=T(I.palette.mode),[u,c]=t.useState(""),[d,p]=t.useState(""),[b,g]=t.useState(""),[x,h]=t.useState(""),{data:y,loading:E,error:f,callApi:i}=j(),{callApi:C,loading:S,error:n}=j();t.useEffect(()=>{i(l.ENQUIRIES,"GET")},[i]);const v=async r=>{r.preventDefault();const q={name:u,email:d,date:b,message:x};await C(l.ENQUIRIES,"POST",q),n||(i(l.ENQUIRIES,"GET"),c(""),p(""),g(""),h(""))},D={columns:[{id:"id",label:"ID",flex:.5},{id:"name",label:"Name",flex:1},{id:"email",label:"Email",flex:1},{id:"date",label:"Date",flex:1},{id:"message",label:"Message",flex:2}],tableHeader:"Support Inquiries",data:y||[],sortBy:"id",sortDirection:"asc",page:0,rowsPerPage:5,onRowClick:r=>console.log("Row clicked:",r)};return e.jsxs(s,{children:[e.jsx(w,{title:"Support and Customer Care",subtitle:"Submit your inquiries and concerns"}),e.jsxs(s,{component:"form",onSubmit:v,sx:{mt:3,mb:3},children:[e.jsx(a,{label:"Name",value:u,onChange:r=>c(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Email",type:"email",value:d,onChange:r=>p(r.target.value),fullWidth:!0,margin:"normal"}),e.jsx(a,{label:"Date",type:"date",value:b,onChange:r=>g(r.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(a,{label:"Message",value:x,onChange:r=>h(r.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",sx:{mt:2},disabled:S,children:S?"Submitting...":"Submit Inquiry"}),n&&e.jsx(m,{color:"error",children:n})]}),E?e.jsx(m,{children:"Loading inquiries..."}):f?e.jsx(m,{color:"error",children:f}):e.jsx(s,{height:"75vh",sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:o.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-virtualScroller":{backgroundColor:o.primary[400]},"& .MuiDataGrid-footerContainer":{borderTop:"none",backgroundColor:o.blueAccent[700]},"& .MuiCheckbox-root":{color:`${o.greenAccent[200]} !important`}},children:e.jsx(M,{...D})})]})},Z=k(N);export{Z as default};
