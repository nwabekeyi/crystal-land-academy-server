import{r,F as W,e as F,j as s}from"./index-22HUb1_z.js";import{H as M,F as T}from"./Header-BIvCpIXD.js";import{L as k}from"./loadingButton-DUprIo-A.js";import{u as B}from"./useApi-BivKV4bK.js";import{w as o,T as x,z as p,C as D,A as H}from"./constants-BJW4J9P5.js";import{M as z}from"./modal-CFzM2TvC.js";import{B as N}from"./backgroundWithHome-CN5BhPtj.js";import{A as f}from"./Alert-Bl6PSDrU.js";import"./IconButton-xWupQFdG.js";import"./index-Sp3zthuY.js";import"./useSlot-Bb0ot7dQ.js";const L=()=>{const[t,h]=r.useState(""),[a,g]=r.useState(""),[n,w]=r.useState(""),[i,b]=r.useState(""),[j,l]=r.useState(!1),[c]=W(),S=c.get("email"),P=c.get("token"),{loading:d,data:v,error:q,callApi:y}=B(),u=F(),C=()=>{l(!1),u("/")},A=()=>{u("/signin")},E=async e=>{if(e.preventDefault(),t!==a){b("Passwords do not match.");return}const R={email:S,token:P,newPassword:t},m=await y(H.RESET_PASSWORD,"PATCH",R);m&&m.message==="Password reset successful"&&(l(!0),w(v.message))};return s.jsxs("div",{children:[s.jsx(M,{}),s.jsx(o,{sx:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"30px",mx:2},children:s.jsxs(o,{sx:{p:3,textAlign:"start",backgroundColor:"rgba(255, 255, 255, 0.8)",boxShadow:10,borderRadius:2,backdropFilter:"blur(10px)",filter:"blur(0.3px)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:[s.jsx(x,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",color:"#15131D"},children:"Reset Password"}),s.jsx(x,{variant:"subtitle1",sx:{mb:3,color:"text.secondary"},children:"Enter your new password below."}),s.jsxs("form",{onSubmit:E,children:[s.jsx(p,{label:"New Password",type:"password",fullWidth:!0,variant:"outlined",value:t,onChange:e=>h(e.target.value),required:!0,sx:{mb:2}}),s.jsx(p,{label:"Confirm New Password",type:"password",fullWidth:!0,variant:"outlined",value:a,onChange:e=>g(e.target.value),required:!0,sx:{mb:3}}),s.jsx(k,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",isLoading:d,sx:{py:1.5,fontSize:"1rem",fontWeight:"bold",textTransform:"none"},children:d?s.jsx(D,{size:24}):"Reset Password"})]}),i&&s.jsx(f,{severity:"error",sx:{mt:3},children:i}),n&&s.jsx(f,{severity:"success",sx:{mt:3},children:n})]})}),s.jsx(T,{}),s.jsx(z,{open:j,onClose:C,title:"Password Reset Successful",onConfirm:A,children:s.jsx(o,{children:s.jsx("p",{children:"Password reset successful. Do you want to login?"})})})]})},Z=N(L);export{Z as default};
