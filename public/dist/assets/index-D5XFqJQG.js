import{r as m,j as c,a as ro,e as Fo}from"./index-CikQMIxq.js";import{t as no,M as He}from"./modal-DegES_uk.js";import{H as so}from"./Header-TreUcfEU.js";import{T as io}from"./table-BLDLF2xb.js";import{d as ao}from"./Visibility-CGxD2sVQ.js";import{A as lo,C as po}from"./confirmationModal-IVK2OKxs.js";import{av as Ho,g as co,a as uo,_ as pt,aa as Ht,aw as Vo,b as k,p as bt,n as Vt,f as Uo,e as fo,u as mo,s as ct,ax as Ut,j as Pt,ao as qo,ay as Ze,ae as zo,ad as Xo,af as qt,az as Yo,Y as Go,aj as Ko,d as et,a6 as tt,h as vo,i as ho,w as oe,T as je,z as it,y as Jo}from"./TextField-DBM3Kdjt.js";import{I as Qo}from"./IconButton-D4HzaP6M.js";import{d as Zo}from"./Edit-CnI8ZXAk.js";import{A as er,c as tr}from"./index-CBIszJhn.js";import{u as ot}from"./useApi-ClS9LJ9f.js";import{C as gt}from"./customIconButton-yInW23qL.js";import{w as or}from"./dasboardPagesContainer-MS05gvgF.js";import"./useMediaQuery-rMa90EY2.js";import"./index-C35jSBSo.js";import"./loadingButton-B7aR1mEr.js";import"./CircularProgress-D0-LNmPF.js";import"./MenuItem-wbOmOVuU.js";import"./useSlot-perXj4Tc.js";var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});var go=Ot.default=void 0,rr=sr(m),nr=Ho;function bo(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(bo=function(r){return r?o:t})(e)}function sr(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=bo(t);if(o&&o.has(e))return o.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var p=n?Object.getOwnPropertyDescriptor(e,s):null;p&&(p.get||p.set)?Object.defineProperty(r,s,p):r[s]=e[s]}return r.default=e,o&&o.set(e,r),r}function ir(e){return Object.keys(e).length===0}function ar(e=null){const t=rr.useContext(nr.ThemeContext);return!t||ir(t)?e:t}go=Ot.default=ar;var G="top",ne="bottom",se="right",K="left",Ct="auto",Xe=[G,ne,se,K],De="start",qe="end",lr="clippingParents",yo="viewport",_e="popper",pr="reference",zt=Xe.reduce(function(e,t){return e.concat([t+"-"+De,t+"-"+qe])},[]),xo=[].concat(Xe,[Ct]).reduce(function(e,t){return e.concat([t,t+"-"+De,t+"-"+qe])},[]),cr="beforeRead",ur="read",dr="afterRead",fr="beforeMain",mr="main",vr="afterMain",hr="beforeWrite",gr="write",br="afterWrite",yr=[cr,ur,dr,fr,mr,vr,hr,gr,br];function de(e){return e?(e.nodeName||"").toLowerCase():null}function Z(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ce(e){var t=Z(e).Element;return e instanceof t||e instanceof Element}function re(e){var t=Z(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function St(e){if(typeof ShadowRoot>"u")return!1;var t=Z(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function xr(e){var t=e.state;Object.keys(t.elements).forEach(function(o){var r=t.styles[o]||{},n=t.attributes[o]||{},s=t.elements[o];!re(s)||!de(s)||(Object.assign(s.style,r),Object.keys(n).forEach(function(p){var i=n[p];i===!1?s.removeAttribute(p):s.setAttribute(p,i===!0?"":i)}))})}function wr(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(r){var n=t.elements[r],s=t.attributes[r]||{},p=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:o[r]),i=p.reduce(function(a,u){return a[u]="",a},{});!re(n)||!de(n)||(Object.assign(n.style,i),Object.keys(s).forEach(function(a){n.removeAttribute(a)}))})}}const Pr={name:"applyStyles",enabled:!0,phase:"write",fn:xr,effect:wr,requires:["computeStyles"]};function ue(e){return e.split("-")[0]}var Oe=Math.max,lt=Math.min,Ee=Math.round;function yt(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function wo(){return!/^((?!chrome|android).)*safari/i.test(yt())}function Me(e,t,o){t===void 0&&(t=!1),o===void 0&&(o=!1);var r=e.getBoundingClientRect(),n=1,s=1;t&&re(e)&&(n=e.offsetWidth>0&&Ee(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ee(r.height)/e.offsetHeight||1);var p=Ce(e)?Z(e):window,i=p.visualViewport,a=!wo()&&o,u=(r.left+(a&&i?i.offsetLeft:0))/n,l=(r.top+(a&&i?i.offsetTop:0))/s,g=r.width/n,O=r.height/s;return{width:g,height:O,top:l,right:u+g,bottom:l+O,left:u,x:u,y:l}}function At(e){var t=Me(e),o=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-o)<=1&&(o=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:o,height:r}}function Po(e,t){var o=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(o&&St(o)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ye(e){return Z(e).getComputedStyle(e)}function Or(e){return["table","td","th"].indexOf(de(e))>=0}function we(e){return((Ce(e)?e.ownerDocument:e.document)||window.document).documentElement}function ut(e){return de(e)==="html"?e:e.assignedSlot||e.parentNode||(St(e)?e.host:null)||we(e)}function Xt(e){return!re(e)||ye(e).position==="fixed"?null:e.offsetParent}function Cr(e){var t=/firefox/i.test(yt()),o=/Trident/i.test(yt());if(o&&re(e)){var r=ye(e);if(r.position==="fixed")return null}var n=ut(e);for(St(n)&&(n=n.host);re(n)&&["html","body"].indexOf(de(n))<0;){var s=ye(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Ye(e){for(var t=Z(e),o=Xt(e);o&&Or(o)&&ye(o).position==="static";)o=Xt(o);return o&&(de(o)==="html"||de(o)==="body"&&ye(o).position==="static")?t:o||Cr(e)||t}function Rt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ve(e,t,o){return Oe(e,lt(t,o))}function Sr(e,t,o){var r=Ve(e,t,o);return r>o?o:r}function Oo(){return{top:0,right:0,bottom:0,left:0}}function Co(e){return Object.assign({},Oo(),e)}function So(e,t){return t.reduce(function(o,r){return o[r]=e,o},{})}var Ar=function(t,o){return t=typeof t=="function"?t(Object.assign({},o.rects,{placement:o.placement})):t,Co(typeof t!="number"?t:So(t,Xe))};function Rr(e){var t,o=e.state,r=e.name,n=e.options,s=o.elements.arrow,p=o.modifiersData.popperOffsets,i=ue(o.placement),a=Rt(i),u=[K,se].indexOf(i)>=0,l=u?"height":"width";if(!(!s||!p)){var g=Ar(n.padding,o),O=At(s),v=a==="y"?G:K,R=a==="y"?ne:se,b=o.rects.reference[l]+o.rects.reference[a]-p[a]-o.rects.popper[l],x=p[a]-o.rects.reference[a],C=Ye(s),D=C?a==="y"?C.clientHeight||0:C.clientWidth||0:0,P=b/2-x/2,d=g[v],y=D-O[l]-g[R],h=D/2-O[l]/2+P,T=Ve(d,h,y),M=a;o.modifiersData[r]=(t={},t[M]=T,t.centerOffset=T-h,t)}}function Tr(e){var t=e.state,o=e.options,r=o.element,n=r===void 0?"[data-popper-arrow]":r;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||Po(t.elements.popper,n)&&(t.elements.arrow=n))}const jr={name:"arrow",enabled:!0,phase:"main",fn:Rr,effect:Tr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $e(e){return e.split("-")[1]}var Dr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Er(e,t){var o=e.x,r=e.y,n=t.devicePixelRatio||1;return{x:Ee(o*n)/n||0,y:Ee(r*n)/n||0}}function Yt(e){var t,o=e.popper,r=e.popperRect,n=e.placement,s=e.variation,p=e.offsets,i=e.position,a=e.gpuAcceleration,u=e.adaptive,l=e.roundOffsets,g=e.isFixed,O=p.x,v=O===void 0?0:O,R=p.y,b=R===void 0?0:R,x=typeof l=="function"?l({x:v,y:b}):{x:v,y:b};v=x.x,b=x.y;var C=p.hasOwnProperty("x"),D=p.hasOwnProperty("y"),P=K,d=G,y=window;if(u){var h=Ye(o),T="clientHeight",M="clientWidth";if(h===Z(o)&&(h=we(o),ye(h).position!=="static"&&i==="absolute"&&(T="scrollHeight",M="scrollWidth")),h=h,n===G||(n===K||n===se)&&s===qe){d=ne;var A=g&&h===y&&y.visualViewport?y.visualViewport.height:h[T];b-=A-r.height,b*=a?1:-1}if(n===K||(n===G||n===ne)&&s===qe){P=se;var S=g&&h===y&&y.visualViewport?y.visualViewport.width:h[M];v-=S-r.width,v*=a?1:-1}}var E=Object.assign({position:i},u&&Dr),I=l===!0?Er({x:v,y:b},Z(o)):{x:v,y:b};if(v=I.x,b=I.y,a){var $;return Object.assign({},E,($={},$[d]=D?"0":"",$[P]=C?"0":"",$.transform=(y.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",$))}return Object.assign({},E,(t={},t[d]=D?b+"px":"",t[P]=C?v+"px":"",t.transform="",t))}function Mr(e){var t=e.state,o=e.options,r=o.gpuAcceleration,n=r===void 0?!0:r,s=o.adaptive,p=s===void 0?!0:s,i=o.roundOffsets,a=i===void 0?!0:i,u={placement:ue(t.placement),variation:$e(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Yt(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:p,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Yt(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $r={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Mr,data:{}};var rt={passive:!0};function kr(e){var t=e.state,o=e.instance,r=e.options,n=r.scroll,s=n===void 0?!0:n,p=r.resize,i=p===void 0?!0:p,a=Z(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(l){l.addEventListener("scroll",o.update,rt)}),i&&a.addEventListener("resize",o.update,rt),function(){s&&u.forEach(function(l){l.removeEventListener("scroll",o.update,rt)}),i&&a.removeEventListener("resize",o.update,rt)}}const Br={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:kr,data:{}};var Lr={left:"right",right:"left",bottom:"top",top:"bottom"};function at(e){return e.replace(/left|right|bottom|top/g,function(t){return Lr[t]})}var Wr={start:"end",end:"start"};function Gt(e){return e.replace(/start|end/g,function(t){return Wr[t]})}function Tt(e){var t=Z(e),o=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:o,scrollTop:r}}function jt(e){return Me(we(e)).left+Tt(e).scrollLeft}function Ir(e,t){var o=Z(e),r=we(e),n=o.visualViewport,s=r.clientWidth,p=r.clientHeight,i=0,a=0;if(n){s=n.width,p=n.height;var u=wo();(u||!u&&t==="fixed")&&(i=n.offsetLeft,a=n.offsetTop)}return{width:s,height:p,x:i+jt(e),y:a}}function Nr(e){var t,o=we(e),r=Tt(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Oe(o.scrollWidth,o.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),p=Oe(o.scrollHeight,o.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),i=-r.scrollLeft+jt(e),a=-r.scrollTop;return ye(n||o).direction==="rtl"&&(i+=Oe(o.clientWidth,n?n.clientWidth:0)-s),{width:s,height:p,x:i,y:a}}function Dt(e){var t=ye(e),o=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+n+r)}function Ao(e){return["html","body","#document"].indexOf(de(e))>=0?e.ownerDocument.body:re(e)&&Dt(e)?e:Ao(ut(e))}function Ue(e,t){var o;t===void 0&&(t=[]);var r=Ao(e),n=r===((o=e.ownerDocument)==null?void 0:o.body),s=Z(r),p=n?[s].concat(s.visualViewport||[],Dt(r)?r:[]):r,i=t.concat(p);return n?i:i.concat(Ue(ut(p)))}function xt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _r(e,t){var o=Me(e,!1,t==="fixed");return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}function Kt(e,t,o){return t===yo?xt(Ir(e,o)):Ce(t)?_r(t,o):xt(Nr(we(e)))}function Fr(e){var t=Ue(ut(e)),o=["absolute","fixed"].indexOf(ye(e).position)>=0,r=o&&re(e)?Ye(e):e;return Ce(r)?t.filter(function(n){return Ce(n)&&Po(n,r)&&de(n)!=="body"}):[]}function Hr(e,t,o,r){var n=t==="clippingParents"?Fr(e):[].concat(t),s=[].concat(n,[o]),p=s[0],i=s.reduce(function(a,u){var l=Kt(e,u,r);return a.top=Oe(l.top,a.top),a.right=lt(l.right,a.right),a.bottom=lt(l.bottom,a.bottom),a.left=Oe(l.left,a.left),a},Kt(e,p,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Ro(e){var t=e.reference,o=e.element,r=e.placement,n=r?ue(r):null,s=r?$e(r):null,p=t.x+t.width/2-o.width/2,i=t.y+t.height/2-o.height/2,a;switch(n){case G:a={x:p,y:t.y-o.height};break;case ne:a={x:p,y:t.y+t.height};break;case se:a={x:t.x+t.width,y:i};break;case K:a={x:t.x-o.width,y:i};break;default:a={x:t.x,y:t.y}}var u=n?Rt(n):null;if(u!=null){var l=u==="y"?"height":"width";switch(s){case De:a[u]=a[u]-(t[l]/2-o[l]/2);break;case qe:a[u]=a[u]+(t[l]/2-o[l]/2);break}}return a}function ze(e,t){t===void 0&&(t={});var o=t,r=o.placement,n=r===void 0?e.placement:r,s=o.strategy,p=s===void 0?e.strategy:s,i=o.boundary,a=i===void 0?lr:i,u=o.rootBoundary,l=u===void 0?yo:u,g=o.elementContext,O=g===void 0?_e:g,v=o.altBoundary,R=v===void 0?!1:v,b=o.padding,x=b===void 0?0:b,C=Co(typeof x!="number"?x:So(x,Xe)),D=O===_e?pr:_e,P=e.rects.popper,d=e.elements[R?D:O],y=Hr(Ce(d)?d:d.contextElement||we(e.elements.popper),a,l,p),h=Me(e.elements.reference),T=Ro({reference:h,element:P,placement:n}),M=xt(Object.assign({},P,T)),A=O===_e?M:h,S={top:y.top-A.top+C.top,bottom:A.bottom-y.bottom+C.bottom,left:y.left-A.left+C.left,right:A.right-y.right+C.right},E=e.modifiersData.offset;if(O===_e&&E){var I=E[n];Object.keys(S).forEach(function($){var U=[se,ne].indexOf($)>=0?1:-1,q=[G,ne].indexOf($)>=0?"y":"x";S[$]+=I[q]*U})}return S}function Vr(e,t){t===void 0&&(t={});var o=t,r=o.placement,n=o.boundary,s=o.rootBoundary,p=o.padding,i=o.flipVariations,a=o.allowedAutoPlacements,u=a===void 0?xo:a,l=$e(r),g=l?i?zt:zt.filter(function(R){return $e(R)===l}):Xe,O=g.filter(function(R){return u.indexOf(R)>=0});O.length===0&&(O=g);var v=O.reduce(function(R,b){return R[b]=ze(e,{placement:b,boundary:n,rootBoundary:s,padding:p})[ue(b)],R},{});return Object.keys(v).sort(function(R,b){return v[R]-v[b]})}function Ur(e){if(ue(e)===Ct)return[];var t=at(e);return[Gt(e),t,Gt(t)]}function qr(e){var t=e.state,o=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=o.mainAxis,s=n===void 0?!0:n,p=o.altAxis,i=p===void 0?!0:p,a=o.fallbackPlacements,u=o.padding,l=o.boundary,g=o.rootBoundary,O=o.altBoundary,v=o.flipVariations,R=v===void 0?!0:v,b=o.allowedAutoPlacements,x=t.options.placement,C=ue(x),D=C===x,P=a||(D||!R?[at(x)]:Ur(x)),d=[x].concat(P).reduce(function(W,X){return W.concat(ue(X)===Ct?Vr(t,{placement:X,boundary:l,rootBoundary:g,padding:u,flipVariations:R,allowedAutoPlacements:b}):X)},[]),y=t.rects.reference,h=t.rects.popper,T=new Map,M=!0,A=d[0],S=0;S<d.length;S++){var E=d[S],I=ue(E),$=$e(E)===De,U=[G,ne].indexOf(I)>=0,q=U?"width":"height",L=ze(t,{placement:E,boundary:l,rootBoundary:g,altBoundary:O,padding:u}),N=U?$?se:K:$?ne:G;y[q]>h[q]&&(N=at(N));var H=at(N),z=[];if(s&&z.push(L[I]<=0),i&&z.push(L[N]<=0,L[H]<=0),z.every(function(W){return W})){A=E,M=!1;break}T.set(E,z)}if(M)for(var fe=R?3:1,ae=function(X){var le=d.find(function(pe){var F=T.get(pe);if(F)return F.slice(0,X).every(function(Y){return Y})});if(le)return A=le,"break"},w=fe;w>0;w--){var V=ae(w);if(V==="break")break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}}const zr={name:"flip",enabled:!0,phase:"main",fn:qr,requiresIfExists:["offset"],data:{_skip:!1}};function Jt(e,t,o){return o===void 0&&(o={x:0,y:0}),{top:e.top-t.height-o.y,right:e.right-t.width+o.x,bottom:e.bottom-t.height+o.y,left:e.left-t.width-o.x}}function Qt(e){return[G,se,ne,K].some(function(t){return e[t]>=0})}function Xr(e){var t=e.state,o=e.name,r=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,p=ze(t,{elementContext:"reference"}),i=ze(t,{altBoundary:!0}),a=Jt(p,r),u=Jt(i,n,s),l=Qt(a),g=Qt(u);t.modifiersData[o]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":g})}const Yr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xr};function Gr(e,t,o){var r=ue(e),n=[K,G].indexOf(r)>=0?-1:1,s=typeof o=="function"?o(Object.assign({},t,{placement:e})):o,p=s[0],i=s[1];return p=p||0,i=(i||0)*n,[K,se].indexOf(r)>=0?{x:i,y:p}:{x:p,y:i}}function Kr(e){var t=e.state,o=e.options,r=e.name,n=o.offset,s=n===void 0?[0,0]:n,p=xo.reduce(function(l,g){return l[g]=Gr(g,t.rects,s),l},{}),i=p[t.placement],a=i.x,u=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=p}const Jr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kr};function Qr(e){var t=e.state,o=e.name;t.modifiersData[o]=Ro({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Zr={name:"popperOffsets",enabled:!0,phase:"read",fn:Qr,data:{}};function en(e){return e==="x"?"y":"x"}function tn(e){var t=e.state,o=e.options,r=e.name,n=o.mainAxis,s=n===void 0?!0:n,p=o.altAxis,i=p===void 0?!1:p,a=o.boundary,u=o.rootBoundary,l=o.altBoundary,g=o.padding,O=o.tether,v=O===void 0?!0:O,R=o.tetherOffset,b=R===void 0?0:R,x=ze(t,{boundary:a,rootBoundary:u,padding:g,altBoundary:l}),C=ue(t.placement),D=$e(t.placement),P=!D,d=Rt(C),y=en(d),h=t.modifiersData.popperOffsets,T=t.rects.reference,M=t.rects.popper,A=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,S=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(h){if(s){var $,U=d==="y"?G:K,q=d==="y"?ne:se,L=d==="y"?"height":"width",N=h[d],H=N+x[U],z=N-x[q],fe=v?-M[L]/2:0,ae=D===De?T[L]:M[L],w=D===De?-M[L]:-T[L],V=t.elements.arrow,W=v&&V?At(V):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Oo(),le=X[U],pe=X[q],F=Ve(0,T[L],W[L]),Y=P?T[L]/2-fe-F-le-S.mainAxis:ae-F-le-S.mainAxis,me=P?-T[L]/2+fe+F+pe+S.mainAxis:w+F+pe+S.mainAxis,ee=t.elements.arrow&&Ye(t.elements.arrow),ke=ee?d==="y"?ee.clientTop||0:ee.clientLeft||0:0,Se=($=E==null?void 0:E[d])!=null?$:0,Ae=N+Y-Se-ke,te=N+me-Se,Pe=Ve(v?lt(H,Ae):H,N,v?Oe(z,te):z);h[d]=Pe,I[d]=Pe-N}if(i){var Re,ve=d==="x"?G:K,Te=d==="x"?ne:se,J=h[y],ce=y==="y"?"height":"width",he=J+x[ve],f=J-x[Te],B=[G,K].indexOf(C)!==-1,_=(Re=E==null?void 0:E[y])!=null?Re:0,ge=B?he:J-T[ce]-M[ce]-_+S.altAxis,Be=B?J+T[ce]+M[ce]-_-S.altAxis:f,Ge=v&&B?Sr(ge,J,Be):Ve(v?ge:he,J,v?Be:f);h[y]=Ge,I[y]=Ge-J}t.modifiersData[r]=I}}const on={name:"preventOverflow",enabled:!0,phase:"main",fn:tn,requiresIfExists:["offset"]};function rn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nn(e){return e===Z(e)||!re(e)?Tt(e):rn(e)}function sn(e){var t=e.getBoundingClientRect(),o=Ee(t.width)/e.offsetWidth||1,r=Ee(t.height)/e.offsetHeight||1;return o!==1||r!==1}function an(e,t,o){o===void 0&&(o=!1);var r=re(t),n=re(t)&&sn(t),s=we(t),p=Me(e,n,o),i={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!o)&&((de(t)!=="body"||Dt(s))&&(i=nn(t)),re(t)?(a=Me(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):s&&(a.x=jt(s))),{x:p.left+i.scrollLeft-a.x,y:p.top+i.scrollTop-a.y,width:p.width,height:p.height}}function ln(e){var t=new Map,o=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function n(s){o.add(s.name);var p=[].concat(s.requires||[],s.requiresIfExists||[]);p.forEach(function(i){if(!o.has(i)){var a=t.get(i);a&&n(a)}}),r.push(s)}return e.forEach(function(s){o.has(s.name)||n(s)}),r}function pn(e){var t=ln(e);return yr.reduce(function(o,r){return o.concat(t.filter(function(n){return n.phase===r}))},[])}function cn(e){var t;return function(){return t||(t=new Promise(function(o){Promise.resolve().then(function(){t=void 0,o(e())})})),t}}function un(e){var t=e.reduce(function(o,r){var n=o[r.name];return o[r.name]=n?Object.assign({},n,r,{options:Object.assign({},n.options,r.options),data:Object.assign({},n.data,r.data)}):r,o},{});return Object.keys(t).map(function(o){return t[o]})}var Zt={placement:"bottom",modifiers:[],strategy:"absolute"};function eo(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dn(e){e===void 0&&(e={});var t=e,o=t.defaultModifiers,r=o===void 0?[]:o,n=t.defaultOptions,s=n===void 0?Zt:n;return function(i,a,u){u===void 0&&(u=s);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zt,s),modifiersData:{},elements:{reference:i,popper:a},attributes:{},styles:{}},g=[],O=!1,v={state:l,setOptions:function(C){var D=typeof C=="function"?C(l.options):C;b(),l.options=Object.assign({},s,l.options,D),l.scrollParents={reference:Ce(i)?Ue(i):i.contextElement?Ue(i.contextElement):[],popper:Ue(a)};var P=pn(un([].concat(r,l.options.modifiers)));return l.orderedModifiers=P.filter(function(d){return d.enabled}),R(),v.update()},forceUpdate:function(){if(!O){var C=l.elements,D=C.reference,P=C.popper;if(eo(D,P)){l.rects={reference:an(D,Ye(P),l.options.strategy==="fixed"),popper:At(P)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(S){return l.modifiersData[S.name]=Object.assign({},S.data)});for(var d=0;d<l.orderedModifiers.length;d++){if(l.reset===!0){l.reset=!1,d=-1;continue}var y=l.orderedModifiers[d],h=y.fn,T=y.options,M=T===void 0?{}:T,A=y.name;typeof h=="function"&&(l=h({state:l,options:M,name:A,instance:v})||l)}}}},update:cn(function(){return new Promise(function(x){v.forceUpdate(),x(l)})}),destroy:function(){b(),O=!0}};if(!eo(i,a))return v;v.setOptions(u).then(function(x){!O&&u.onFirstUpdate&&u.onFirstUpdate(x)});function R(){l.orderedModifiers.forEach(function(x){var C=x.name,D=x.options,P=D===void 0?{}:D,d=x.effect;if(typeof d=="function"){var y=d({state:l,name:C,instance:v,options:P}),h=function(){};g.push(y||h)}})}function b(){g.forEach(function(x){return x()}),g=[]}return v}}var fn=[Br,Zr,$r,Pr,Jr,zr,on,jr,Yr],mn=dn({defaultModifiers:fn});function vn(e){return co("MuiPopper",e)}uo("MuiPopper",["root"]);const hn=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],gn=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function bn(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function wt(e){return typeof e=="function"?e():e}function yn(e){return e.nodeType!==void 0}const xn=e=>{const{classes:t}=e;return fo({root:["root"]},vn,t)},wn={},Pn=m.forwardRef(function(t,o){var r;const{anchorEl:n,children:s,direction:p,disablePortal:i,modifiers:a,open:u,placement:l,popperOptions:g,popperRef:O,slotProps:v={},slots:R={},TransitionProps:b}=t,x=pt(t,hn),C=m.useRef(null),D=bt(C,o),P=m.useRef(null),d=bt(P,O),y=m.useRef(d);Vt(()=>{y.current=d},[d]),m.useImperativeHandle(O,()=>P.current,[]);const h=bn(l,p),[T,M]=m.useState(h),[A,S]=m.useState(wt(n));m.useEffect(()=>{P.current&&P.current.forceUpdate()}),m.useEffect(()=>{n&&S(wt(n))},[n]),Vt(()=>{if(!A||!u)return;const q=H=>{M(H.placement)};let L=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:H})=>{q(H)}}];a!=null&&(L=L.concat(a)),g&&g.modifiers!=null&&(L=L.concat(g.modifiers));const N=mn(A,C.current,k({placement:h},g,{modifiers:L}));return y.current(N),()=>{N.destroy(),y.current(null)}},[A,i,a,u,g,h]);const E={placement:T};b!==null&&(E.TransitionProps=b);const I=xn(t),$=(r=R.root)!=null?r:"div",U=Uo({elementType:$,externalSlotProps:v.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:D},ownerState:t,className:I.root});return c.jsx($,k({},U,{children:typeof s=="function"?s(E):s}))}),On=m.forwardRef(function(t,o){const{anchorEl:r,children:n,container:s,direction:p="ltr",disablePortal:i=!1,keepMounted:a=!1,modifiers:u,open:l,placement:g="bottom",popperOptions:O=wn,popperRef:v,style:R,transition:b=!1,slotProps:x={},slots:C={}}=t,D=pt(t,gn),[P,d]=m.useState(!0),y=()=>{d(!1)},h=()=>{d(!0)};if(!a&&!l&&(!b||P))return null;let T;if(s)T=s;else if(r){const S=wt(r);T=S&&yn(S)?Ht(S).body:Ht(null).body}const M=!l&&a&&(!b||P)?"none":void 0,A=b?{in:l,onEnter:y,onExited:h}:void 0;return c.jsx(Vo,{disablePortal:i,container:T,children:c.jsx(Pn,k({anchorEl:r,direction:p,disablePortal:i,modifiers:u,ref:o,open:b?!P:l,placement:g,popperOptions:O,popperRef:v,slotProps:x,slots:C},D,{style:k({position:"fixed",top:0,left:0,display:M},R),TransitionProps:A,children:n}))})}),Cn=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Sn=ct(On,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),To=m.forwardRef(function(t,o){var r;const n=go(),s=mo({props:t,name:"MuiPopper"}),{anchorEl:p,component:i,components:a,componentsProps:u,container:l,disablePortal:g,keepMounted:O,modifiers:v,open:R,placement:b,popperOptions:x,popperRef:C,transition:D,slots:P,slotProps:d}=s,y=pt(s,Cn),h=(r=P==null?void 0:P.root)!=null?r:a==null?void 0:a.Root,T=k({anchorEl:p,container:l,disablePortal:g,keepMounted:O,modifiers:v,open:R,placement:b,popperOptions:x,popperRef:C,transition:D},y);return c.jsx(Sn,k({as:i,direction:n==null?void 0:n.direction,slots:{root:h},slotProps:d??u},T,{ref:o}))});function An(e){return co("MuiTooltip",e)}const xe=uo("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Rn=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Tn(e){return Math.round(e*1e5)/1e5}const jn=e=>{const{classes:t,disableInteractive:o,arrow:r,touch:n,placement:s}=e,p={popper:["popper",!o&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",n&&"touch",`tooltipPlacement${vo(s.split("-")[0])}`],arrow:["arrow"]};return fo(p,An,t)},Dn=ct(To,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popper,!o.disableInteractive&&t.popperInteractive,o.arrow&&t.popperArrow,!o.open&&t.popperClose]}})(({theme:e,ownerState:t,open:o})=>k({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!o&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${xe.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${xe.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${xe.arrow}`]:k({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${xe.arrow}`]:k({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),En=ct("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.tooltip,o.touch&&t.touch,o.arrow&&t.tooltipArrow,t[`tooltipPlacement${vo(o.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>k({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:ho(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Tn(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${xe.popper}[data-popper-placement*="left"] &`]:k({transformOrigin:"right center"},t.isRtl?k({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):k({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${xe.popper}[data-popper-placement*="right"] &`]:k({transformOrigin:"left center"},t.isRtl?k({marginRight:"14px"},t.touch&&{marginRight:"24px"}):k({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${xe.popper}[data-popper-placement*="top"] &`]:k({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${xe.popper}[data-popper-placement*="bottom"] &`]:k({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),Mn=ct("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:ho(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let nt=!1;const to=new Yo;let Fe={x:0,y:0};function st(e,t){return(o,...r)=>{t&&t(o,...r),e(o,...r)}}const oo=m.forwardRef(function(t,o){var r,n,s,p,i,a,u,l,g,O,v,R,b,x,C,D,P,d,y;const h=mo({props:t,name:"MuiTooltip"}),{arrow:T=!1,children:M,components:A={},componentsProps:S={},describeChild:E=!1,disableFocusListener:I=!1,disableHoverListener:$=!1,disableInteractive:U=!1,disableTouchListener:q=!1,enterDelay:L=100,enterNextDelay:N=0,enterTouchDelay:H=700,followCursor:z=!1,id:fe,leaveDelay:ae=0,leaveTouchDelay:w=1500,onClose:V,onOpen:W,open:X,placement:le="bottom",PopperComponent:pe,PopperProps:F={},slotProps:Y={},slots:me={},title:ee,TransitionComponent:ke=Ut,TransitionProps:Se}=h,Ae=pt(h,Rn),te=m.isValidElement(M)?M:c.jsx("span",{children:M}),Pe=Pt(),Re=qo(),[ve,Te]=m.useState(),[J,ce]=m.useState(null),he=m.useRef(!1),f=U||z,B=Ze(),_=Ze(),ge=Ze(),Be=Ze(),[Ge,Et]=zo({controlled:X,default:!1,name:"Tooltip",state:"open"});let be=Ge;const dt=Xo(fe),Le=m.useRef(),Ke=qt(()=>{Le.current!==void 0&&(document.body.style.WebkitUserSelect=Le.current,Le.current=void 0),Be.clear()});m.useEffect(()=>Ke,[Ke]);const Mt=j=>{to.clear(),nt=!0,Et(!0),W&&!be&&W(j)},Je=qt(j=>{to.start(800+ae,()=>{nt=!1}),Et(!1),V&&be&&V(j),B.start(Pe.transitions.duration.shortest,()=>{he.current=!1})}),Qe=j=>{he.current&&j.type!=="touchstart"||(ve&&ve.removeAttribute("title"),_.clear(),ge.clear(),L||nt&&N?_.start(nt?N:L,()=>{Mt(j)}):Mt(j))},ft=j=>{_.clear(),ge.start(ae,()=>{Je(j)})},{isFocusVisibleRef:$t,onBlur:jo,onFocus:Do,ref:Eo}=Go(),[,kt]=m.useState(!1),Bt=j=>{jo(j),$t.current===!1&&(kt(!1),ft(j))},Lt=j=>{ve||Te(j.currentTarget),Do(j),$t.current===!0&&(kt(!0),Qe(j))},Wt=j=>{he.current=!0;const Q=te.props;Q.onTouchStart&&Q.onTouchStart(j)},Mo=j=>{Wt(j),ge.clear(),B.clear(),Ke(),Le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Be.start(H,()=>{document.body.style.WebkitUserSelect=Le.current,Qe(j)})},$o=j=>{te.props.onTouchEnd&&te.props.onTouchEnd(j),Ke(),ge.start(w,()=>{Je(j)})};m.useEffect(()=>{if(!be)return;function j(Q){(Q.key==="Escape"||Q.key==="Esc")&&Je(Q)}return document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[Je,be]);const ko=bt(Ko(te),Eo,Te,o);!ee&&ee!==0&&(be=!1);const mt=m.useRef(),Bo=j=>{const Q=te.props;Q.onMouseMove&&Q.onMouseMove(j),Fe={x:j.clientX,y:j.clientY},mt.current&&mt.current.update()},We={},vt=typeof ee=="string";E?(We.title=!be&&vt&&!$?ee:null,We["aria-describedby"]=be?dt:null):(We["aria-label"]=vt?ee:null,We["aria-labelledby"]=be&&!vt?dt:null);const ie=k({},We,Ae,te.props,{className:et(Ae.className,te.props.className),onTouchStart:Wt,ref:ko},z?{onMouseMove:Bo}:{}),Ie={};q||(ie.onTouchStart=Mo,ie.onTouchEnd=$o),$||(ie.onMouseOver=st(Qe,ie.onMouseOver),ie.onMouseLeave=st(ft,ie.onMouseLeave),f||(Ie.onMouseOver=Qe,Ie.onMouseLeave=ft)),I||(ie.onFocus=st(Lt,ie.onFocus),ie.onBlur=st(Bt,ie.onBlur),f||(Ie.onFocus=Lt,Ie.onBlur=Bt));const Lo=m.useMemo(()=>{var j;let Q=[{name:"arrow",enabled:!!J,options:{element:J,padding:4}}];return(j=F.popperOptions)!=null&&j.modifiers&&(Q=Q.concat(F.popperOptions.modifiers)),k({},F.popperOptions,{modifiers:Q})},[J,F]),Ne=k({},h,{isRtl:Re,arrow:T,disableInteractive:f,placement:le,PopperComponentProp:pe,touch:he.current}),ht=jn(Ne),It=(r=(n=me.popper)!=null?n:A.Popper)!=null?r:Dn,Nt=(s=(p=(i=me.transition)!=null?i:A.Transition)!=null?p:ke)!=null?s:Ut,_t=(a=(u=me.tooltip)!=null?u:A.Tooltip)!=null?a:En,Ft=(l=(g=me.arrow)!=null?g:A.Arrow)!=null?l:Mn,Wo=tt(It,k({},F,(O=Y.popper)!=null?O:S.popper,{className:et(ht.popper,F==null?void 0:F.className,(v=(R=Y.popper)!=null?R:S.popper)==null?void 0:v.className)}),Ne),Io=tt(Nt,k({},Se,(b=Y.transition)!=null?b:S.transition),Ne),No=tt(_t,k({},(x=Y.tooltip)!=null?x:S.tooltip,{className:et(ht.tooltip,(C=(D=Y.tooltip)!=null?D:S.tooltip)==null?void 0:C.className)}),Ne),_o=tt(Ft,k({},(P=Y.arrow)!=null?P:S.arrow,{className:et(ht.arrow,(d=(y=Y.arrow)!=null?y:S.arrow)==null?void 0:d.className)}),Ne);return c.jsxs(m.Fragment,{children:[m.cloneElement(te,ie),c.jsx(It,k({as:pe??To,placement:le,anchorEl:z?{getBoundingClientRect:()=>({top:Fe.y,left:Fe.x,right:Fe.x,bottom:Fe.y,width:0,height:0})}:ve,popperRef:mt,open:ve?be:!1,id:dt,transition:!0},Ie,Wo,{popperOptions:Lo,children:({TransitionProps:j})=>c.jsx(Nt,k({timeout:Pe.transitions.duration.shorter},j,Io,{children:c.jsxs(_t,k({},No,{children:[ee,T?c.jsx(Ft,k({},_o,{ref:ce})):null]}))}))}))]})}),$n=[{id:"asst_1",title:"Algebra Worksheet",dueDate:"2025-06-10",description:"Solve 20 algebra problems covering linear equations.",submissions:[{studentId:"stu_1"}]},{id:"asst_2",title:"English Essay",dueDate:"2025-06-12",description:"Write a 500-word essay on Shakespeareâ€™s Macbeth.",submissions:[]},{id:"asst_3",title:"Science Lab Report",dueDate:"2025-06-15",description:"Submit a report on the recent chemistry experiment.",submissions:[{studentId:"stu_2"}]},{id:"asst_4",title:"History Timeline",dueDate:"2025-06-17",description:"Create a timeline of World War II events.",submissions:[]},{id:"asst_5",title:"PE Fitness Plan",dueDate:"2025-06-20",description:"Design a personal fitness plan for the semester.",submissions:[{studentId:"stu_1"}]}],kn=()=>{const e=Pt();no(e.palette.mode);const[t]=m.useState($n),[o,r]=m.useState(null),[n,s]=m.useState(!1),[p,i]=m.useState(!1),[a,u]=m.useState(!1),[l,g]=m.useState(null),[O,v]=m.useState("id"),[R,b]=m.useState("asc"),[x,C]=m.useState(0),[D,P]=m.useState(5),[d,y]=m.useState({error:null,message:null}),h="stu_1",T=t.map((w,V)=>({id:V+1,title:w.title,dueDate:w.dueDate?new Date(w.dueDate).toLocaleDateString():"N/A",description:String(w.description||"N/A"),assignmentId:w.id,hasSubmitted:w.submissions.some(W=>W.studentId===h)})),M=(w=null)=>{r(w),s(!0)},A=()=>{s(!1),r(null)},S=(w=null)=>{r(w),u(!0)},E=()=>{u(!1),g(null),r(null)},I=()=>{i(!1),y({error:null,message:null})},$=w=>{g(w.target.files[0])},U=w=>{l?(setAssignments(V=>V.map(W=>W.id===w?{...W,submissions:[...W.submissions,{studentId:h}]}:W)),y({error:null,message:"Assignment submitted successfully!"}),i(!0)):(y({error:"No file selected",message:null}),i(!0)),E()},q=w=>{l?(setAssignments(V=>V.map(W=>W.id===w?{...W,submissions:[...W.submissions.filter(X=>X.studentId!==h),{studentId:h}]}:W)),y({error:null,message:"Assignment resubmitted successfully!"}),i(!0)):(y({error:"No file selected",message:null}),i(!0)),E()},ae={columns:[{id:"id",label:"ID",flex:.5},{id:"title",label:"Title",flex:1,renderCell:w=>c.jsx(je,{children:String(w.title||"N/A")})},{id:"dueDate",label:"Due Date",flex:1,renderCell:w=>c.jsx(je,{children:w.dueDate||"N/A"})},{id:"description",label:"Description",flex:2,renderCell:w=>c.jsx(je,{children:String(w.description||"N/A")})},{id:"actions",label:"Actions",flex:1,renderCell:w=>c.jsxs(c.Fragment,{children:[c.jsx(oo,{title:"View assignment",children:c.jsx(Qo,{onClick:()=>M(w),children:c.jsx(ao,{})})}),c.jsx(oo,{title:w.hasSubmitted?"Resubmit assignment":"Submit assignment",children:c.jsx(Jo,{onClick:()=>S(w),variant:"contained",color:"primary",children:w.hasSubmitted?"Resubmit":"Submit"})})]})}],tableHeader:"Overview of Assignments",data:T,sortBy:O,sortDirection:R,onSortChange:w=>{b(O===w&&R==="asc"?"desc":"asc"),v(w)},page:x,rowsPerPage:D,onPageChange:(w,V)=>{C(V)},onRowsPerPageChange:w=>{P(parseInt(w.target.value,10)),C(0)},onRowClick:w=>{console.log("Row clicked:",w)},hiddenColumnsSmallScreen:["dueDate","description"]};return c.jsxs(oe,{children:[c.jsx(so,{title:"ASSIGNMENTS",subtitle:"Overview of Assignments"}),c.jsx(oe,{height:"75vh",children:c.jsx(io,{...ae})}),c.jsx(He,{open:n,onClose:A,title:"View Assignment Details",onConfirm:A,children:o&&c.jsxs(oe,{children:[c.jsxs(je,{variant:"h6",children:["Title: ",o.title]}),c.jsxs(je,{variant:"body1",children:["Due Date: ",o.dueDate]}),c.jsxs(je,{variant:"body2",children:["Description: ",o.description]})]})}),c.jsx(He,{open:a,onClose:E,title:`Submit assignment for ${o==null?void 0:o.title}`,noConfirm:!0,children:c.jsxs(oe,{display:"flex",children:[c.jsx(it,{type:"file",onChange:$,fullWidth:!0}),c.jsx(lo,{onClick:()=>o!=null&&o.hasSubmitted?q(o==null?void 0:o.assignmentId):U(o==null?void 0:o.assignmentId),content:o!=null&&o.hasSubmitted?"Resubmit":"Submit",sx:{margin:"10px"}})]})}),c.jsx(po,{open:p,onClose:I,isLoading:!1,title:"Assignment Submission Confirmation",message:d.message||d.error})]})},Bn=()=>{const e=Pt();no(e.palette.mode);const[t,o]=m.useState([]),[r,n]=m.useState(null),[s,p]=m.useState(!1),[i,a]=m.useState({title:"",dueDate:"",description:""}),[u,l]=m.useState("sn"),[g,O]=m.useState("asc"),[v,R]=m.useState(0),[b,x]=m.useState(5),[C,D]=m.useState(!1),[P,d]=m.useState([]),[y,h]=m.useState(!1),[T,M]=m.useState(null),[A,S]=m.useState(!1),[E,I]=m.useState(!1),[$,U]=m.useState(!1),q=()=>{A===!0&&S(!1),E===!0&&I(!1),$===!0&&U(!1)},N=ro(f=>f.users.user).cohort,H=`${Fo.ASSIGNMENT}/${N}`,{loading:z,callApi:fe}=ot(),{callApi:ae}=ot(),{loading:w,error:V,callApi:W}=ot(),{loading:X,error:le,callApi:pe}=ot();m.useEffect(()=>{(async()=>{if(H){console.log(H);const B=await ae(H,"GET");o(B)}})()},[]);const F=f=>f.sort((B,_)=>((_==null?void 0:_.id)||0)-((B==null?void 0:B.id)||0)),Y=(f=null)=>{f?(n(f),a({title:f.title,dueDate:f.dueDate,description:f.description})):(n(null),a({title:"",dueDate:"",description:""})),p(!0)},me=()=>{p(!1)},ee=async()=>{try{if(r)if(await W(`${H}/${r._id}`,"PUT",i)){const B=t.map(_=>_.id===r.id?{..._,...i}:_);o(F(B)),I(!0)}else I(!0);else if(await fe(H,"POST",i)){const B={...i,id:t.length+1},_=[...t,B];o(F(_)),U(!0)}else U(!0);me()}catch(f){console.error("Error submitting assignment: ",f)}},ke=f=>{M(f),h(!0)},Se=async()=>{try{if(await pe(`${H}/${T._id}`,"DELETE")){const B=t.filter(_=>_.id!==T.id);o(F(B)),S(!0),S(!0)}else S(!0);h(!1)}catch(f){console.error("Error deleting assignment: ",f),h(!1)}},Ae=()=>{h(!1)},te=f=>{n(f),d(f.submissions||[]),console.log(P),D(!0)},Pe=()=>{D(!1)},Re=f=>{O(u===f&&g==="asc"?"desc":"asc"),l(f)},ve=(f,B)=>{R(B)},Te=f=>{x(parseInt(f.target.value,10))},J=f=>{console.log(f)},ce=f=>{const{name:B,value:_}=f.target;a(ge=>({...ge,[B]:_}))},he=[{id:"sn",label:"S/N",minWidth:50},{id:"title",label:"Title",minWidth:100},{id:"dueDate",label:"Due Date",minWidth:100},{id:"description",label:"Description",minWidth:150},{id:"actions",label:"Actions",minWidth:150,renderCell:f=>c.jsxs(oe,{display:"flex",justifyContent:"start",children:[c.jsx(gt,{title:"Edit assignment",onClick:()=>Y(f),icon:c.jsx(Zo,{})}),c.jsx(gt,{onClick:()=>ke(f),title:"Delete assignment",icon:c.jsx(tr,{})}),c.jsx(gt,{onClick:()=>te(f),title:"View submissions",icon:c.jsx(ao,{})})]})}];return c.jsxs(oe,{children:[c.jsx(so,{title:"ASSIGNMENTS",subtitle:"Overview of Assignments"}),c.jsx(lo,{onClick:()=>Y(),content:"Add Assignment"}),c.jsx(io,{columns:he,tableHeader:"Overview of Assignments",data:t.map((f,B)=>({...f,sn:B+1})),sortBy:u,sortDirection:g,onSortChange:Re,page:v,rowsPerPage:b,onPageChange:ve,onRowsPerPageChange:Te,onRowClick:J,hiddenColumnsSmallScreen:["dueDate","description"]}),c.jsx(He,{open:s,onClose:me,title:r?"Update Assignment":"Add Assignment",onConfirm:ee,children:c.jsxs(oe,{component:"form",sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsx(it,{type:"text",name:"title",label:"Title",value:i.title,onChange:ce,required:!0}),c.jsx(it,{type:"date",name:"dueDate",label:"Due Date",value:i.dueDate,onChange:ce,required:!0,InputLabelProps:{shrink:!0}}),c.jsx(it,{type:"text",name:"description",label:"Description",value:i.description,onChange:ce,required:!0,multiline:!0,rows:4})]})}),c.jsx(He,{open:y,onClose:Ae,title:"Confirm Deletion",onConfirm:Se,children:c.jsx(oe,{children:c.jsx("p",{children:"Are you sure you want to delete this assignment?"})})}),c.jsx(He,{open:C,onClose:Pe,title:"View Submissions",noConfirm:!0,children:c.jsx(oe,{children:P.length===0?c.jsx("p",{children:"No submissions yet."}):c.jsx(oe,{children:P.map((f,B)=>c.jsxs(oe,{sx:{display:"flex",alignItems:"center",marginBottom:"1rem",padding:"1rem",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.5)"},children:[c.jsx(er,{alt:`${f.firstName} ${f.lastName}`,src:f.profilePictureUrl,sx:{width:50,height:50,marginRight:"1rem"}}),c.jsxs(oe,{children:[c.jsx("p",{children:c.jsxs("strong",{children:[f.firstName," ",f.lastName]})}),c.jsxs("p",{children:["Student ID: ",f.studentId]}),c.jsxs("p",{children:["Submitted At: ",new Date(f.submittedAt).toLocaleString()]}),c.jsx("p",{children:c.jsx("a",{href:f.submission,download:!0,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"blue"},children:"Download Submission"})})]})]},B))})})}),c.jsx(po,{open:A||E||$,onClose:q,title:A?"Delete Confirmation":$?"Assignment created":"Update confirmation",isLoading:A?X:$?z:w,message:A?"Assignment successfully deleted":E?"Assignment successfully updated":A&&le||E&&V?"Could not update assignemnt, something went wrong":$?"Assignment successfully posted":"something went wrong"})]})},Ln=()=>{const e=ro(o=>o.users.user),t=e.role;return c.jsx("div",{children:t==="student"?c.jsx(kn,{}):c.jsx(Bn,{babtechUser:e})})},os=or(Ln);export{os as default};
