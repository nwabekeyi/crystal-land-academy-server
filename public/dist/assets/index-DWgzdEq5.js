import{j as e,r as a,a as me,J as Ue,K as Je,M as Ce,N as Xe,n as Ke}from"./index-22HUb1_z.js";import{r as ie,t as Z,M as Me}from"./modal-CFzM2TvC.js";import{c as we,g as Qe,a as Ze,s as oe,f as Ee,_ as I,an as et,u as tt,b as Ie,ab as De,ac as nt,ao as st,$ as it,p as ot,d as se,e as at,ap as rt,t as ae,A as G,j as ee,w as r,T as o,z as U,a1 as lt,a2 as ct,a3 as dt}from"./constants-BJW4J9P5.js";import{H as ut}from"./Header-CXtHvVsg.js";import{G as he,d as mt}from"./index-dxrUZtLq.js";import{u as q}from"./useApi-BivKV4bK.js";import{u as xt,M as ce}from"./MenuItem-38XN_-vW.js";import"./main-C5sD9gCq.js";import{u as Fe}from"./useMediaQuery-vabypUKQ.js";import{w as ht}from"./dasboardPagesContainer-qh7jt9JW.js";import{C as Ve,A as de}from"./confirmationModal-BxJ-28ob.js";import"./IconButton-xWupQFdG.js";import"./index-DF2Knd0X.js";import"./loadingButton-DUprIo-A.js";import"./useSlot-Bb0ot7dQ.js";const ft={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},pt=we(e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),gt=we(e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function jt(n){return Ze("MuiRating",n)}const Q=Qe("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),vt=["value"],bt=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function yt(n){const t=n.toString().split(".")[1];return t?t.length:0}function ue(n,t){if(n==null)return n;const i=Math.round(n/t)*t;return Number(i.toFixed(yt(t)))}const St=n=>{const{classes:t,size:i,readOnly:u,disabled:s,emptyValueFocused:f,focusVisible:p}=n,y={root:["root",`size${Ee(i)}`,s&&"disabled",p&&"focusVisible",u&&"readOnly"],label:["label","pristine"],labelEmptyValue:[f&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return at(y,jt,t)},At=oe("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[{[`& .${Q.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${Ee(i.size)}`],i.readOnly&&t.readOnly]}})(({theme:n,ownerState:t})=>I({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Q.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Q.focusVisible} .${Q.iconActive}`]:{outline:"1px solid #999"},[`& .${Q.visuallyHidden}`]:ft},t.size==="small"&&{fontSize:n.typography.pxToRem(18)},t.size==="large"&&{fontSize:n.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),ze=oe("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},t)=>[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:n})=>I({cursor:"inherit"},n.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Ct=oe("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.icon,i.iconEmpty&&t.iconEmpty,i.iconFilled&&t.iconFilled,i.iconHover&&t.iconHover,i.iconFocus&&t.iconFocus,i.iconActive&&t.iconActive]}})(({theme:n,ownerState:t})=>I({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(n.vars||n).palette.action.disabled})),Ft=oe("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>et(n)&&n!=="iconActive",overridesResolver:(n,t)=>{const{iconActive:i}=n;return[t.decimal,i&&t.iconActive]}})(({iconActive:n})=>I({position:"relative"},n&&{transform:"scale(1.2)"}));function Rt(n){const t=Ie(n,vt);return e.jsx("span",I({},t))}function Re(n){const{classes:t,disabled:i,emptyIcon:u,focus:s,getLabelText:f,highlightSelectedOnly:p,hover:y,icon:x,IconContainerComponent:A,isActive:C,itemValue:h,labelProps:l,name:b,onBlur:R,onChange:g,onClick:S,onFocus:j,readOnly:H,ownerState:M,ratingValue:w,ratingValueRounded:_}=n,V=p?h===w:h<=w,O=h<=y,z=h<=s,N=h===_,L=De(),v=e.jsx(Ct,{as:A,value:h,className:se(t.icon,V?t.iconFilled:t.iconEmpty,O&&t.iconHover,z&&t.iconFocus,C&&t.iconActive),ownerState:I({},M,{iconEmpty:!V,iconFilled:V,iconHover:O,iconFocus:z,iconActive:C}),children:u&&!V?u:x});return H?e.jsx("span",I({},l,{children:v})):e.jsxs(a.Fragment,{children:[e.jsxs(ze,I({ownerState:I({},M,{emptyValueFocused:void 0}),htmlFor:L},l,{children:[v,e.jsx("span",{className:t.visuallyHidden,children:f(h)})]})),e.jsx("input",{className:t.visuallyHidden,onFocus:j,onBlur:R,onChange:g,onClick:S,disabled:i,value:h,id:L,type:"radio",name:b,checked:N})]})}const Mt=e.jsx(pt,{fontSize:"inherit"}),wt=e.jsx(gt,{fontSize:"inherit"});function Et(n){return`${n} Star${n!==1?"s":""}`}const It=a.forwardRef(function(t,i){const u=tt({name:"MuiRating",props:t}),{className:s,defaultValue:f=null,disabled:p=!1,emptyIcon:y=wt,emptyLabelText:x="Empty",getLabelText:A=Et,highlightSelectedOnly:C=!1,icon:h=Mt,IconContainerComponent:l=Rt,max:b=5,name:R,onChange:g,onChangeActive:S,onMouseLeave:j,onMouseMove:H,precision:M=1,readOnly:w=!1,size:_="medium",value:V}=u,O=Ie(u,bt),z=De(R),[N,L]=nt({controlled:V,default:f,name:"Rating"}),v=ue(N,M),J=st(),[{hover:E,focus:te},X]=a.useState({hover:-1,focus:-1});let Y=v;E!==-1&&(Y=E),te!==-1&&(Y=te);const{isFocusVisibleRef:be,onBlur:_e,onFocus:ke,ref:He}=it(),[Oe,re]=a.useState(!1),ye=a.useRef(),Ne=ot(He,ye,i),$e=m=>{H&&H(m);const F=ye.current,{right:D,left:ne,width:P}=F.getBoundingClientRect();let B;J?B=(D-m.clientX)/P:B=(m.clientX-ne)/P;let W=ue(b*B+M/2,M);W=rt(W,M,b),X($=>$.hover===W&&$.focus===W?$:{hover:W,focus:W}),re(!1),S&&E!==W&&S(m,W)},Ye=m=>{j&&j(m);const F=-1;X({hover:F,focus:F}),S&&E!==F&&S(m,F)},Se=m=>{let F=m.target.value===""?null:parseFloat(m.target.value);E!==-1&&(F=E),L(F),g&&g(m,F)},Pe=m=>{m.clientX===0&&m.clientY===0||(X({hover:-1,focus:-1}),L(null),g&&parseFloat(m.target.value)===v&&g(m,null))},Be=m=>{ke(m),be.current===!0&&re(!0);const F=parseFloat(m.target.value);X(D=>({hover:D.hover,focus:F}))},Ge=m=>{if(E!==-1)return;_e(m),be.current===!1&&re(!1);const F=-1;X(D=>({hover:D.hover,focus:F}))},[qe,Ae]=a.useState(!1),K=I({},u,{defaultValue:f,disabled:p,emptyIcon:y,emptyLabelText:x,emptyValueFocused:qe,focusVisible:Oe,getLabelText:A,icon:h,IconContainerComponent:l,max:b,precision:M,readOnly:w,size:_}),k=St(K);return e.jsxs(At,I({ref:Ne,onMouseMove:$e,onMouseLeave:Ye,className:se(k.root,s,w&&"MuiRating-readOnly"),ownerState:K,role:w?"img":null,"aria-label":w?A(Y):null},O,{children:[Array.from(new Array(b)).map((m,F)=>{const D=F+1,ne={classes:k,disabled:p,emptyIcon:y,focus:te,getLabelText:A,highlightSelectedOnly:C,hover:E,icon:h,IconContainerComponent:l,name:z,onBlur:Ge,onChange:Se,onClick:Pe,onFocus:Be,ratingValue:Y,ratingValueRounded:v,readOnly:w,ownerState:K},P=D===Math.ceil(Y)&&(E!==-1||te!==-1);if(M<1){const B=Array.from(new Array(1/M));return e.jsx(Ft,{className:se(k.decimal,P&&k.iconActive),ownerState:K,iconActive:P,children:B.map((W,$)=>{const le=ue(D-1+($+1)*M,M);return e.jsx(Re,I({},ne,{isActive:!1,itemValue:le,labelProps:{style:B.length-1===$?{}:{width:le===Y?`${($+1)*M*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),le)})},D)}return e.jsx(Re,I({},ne,{isActive:P,itemValue:D}),D)}),!w&&!p&&e.jsxs(ze,{className:se(k.label,k.labelEmptyValue),ownerState:K,children:[e.jsx("input",{className:k.visuallyHidden,value:"",id:`${z}-empty`,type:"radio",name:z,checked:v==null,onFocus:()=>Ae(!0),onBlur:()=>Ae(!1),onChange:Se}),e.jsx("span",{className:k.visuallyHidden,children:x})]})]}))});var fe={},Dt=ae;Object.defineProperty(fe,"__esModule",{value:!0});var Le=fe.default=void 0,Vt=Dt(ie()),zt=e;Le=fe.default=(0,Vt.default)((0,zt.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z"}),"DownloadOutlined");var pe={},Lt=ae;Object.defineProperty(pe,"__esModule",{value:!0});var We=pe.default=void 0,Wt=Lt(ie()),Tt=e;We=pe.default=(0,Wt.default)((0,Tt.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups");var ge={},_t=ae;Object.defineProperty(ge,"__esModule",{value:!0});var Te=ge.default=void 0,kt=_t(ie()),Ht=e;Te=ge.default=(0,kt.default)((0,Ht.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd");const Ot=()=>{const[n,t]=a.useState([]),[i,u]=a.useState([]),s=xt(),f=me(v=>v.adminData.academicYears)||[],p=me(v=>v.adminData.currentAcademicYear),{loading:y,data:x,error:A,callApi:C}=q(),{loading:h,data:l,error:b,callApi:R}=q(),{loading:g,data:S,error:j,callApi:H}=q(),{loading:M,data:w,error:_,callApi:V}=q(),O=a.useCallback(()=>C(G.STUDENTS,"GET"),[C]),z=a.useCallback(()=>R(G.TEACHERS,"GET"),[R]),N=a.useCallback(()=>H(G.ACADEMIC_YEARS,"GET"),[H]),L=a.useCallback(()=>V(G.CURRENT_ACADEMIC_YEAR,"GET"),[V]);return a.useEffect(()=>{O(),z(),N(),L()},[O,z,N,L]),a.useEffect(()=>{if(x||l){const v=(x==null?void 0:x.data)||[],J=(l==null?void 0:l.data)||[];t(E=>JSON.stringify(E)!==JSON.stringify(v)?v:E),u(E=>JSON.stringify(E)!==JSON.stringify(J)?J:E),s(Ue({students:v,instructors:J}))}},[x,l,s]),a.useEffect(()=>{if(S){const v=(S==null?void 0:S.data)||[];s(Je(v))}j&&s(Ce(j.message||"Failed to fetch academic years."))},[S,j,s]),a.useEffect(()=>{if(w){const v=(w==null?void 0:w.data)||null;s(Xe(v))}_&&s(Ce(_.message||"Failed to fetch current academic year."))},[w,_,s]),{usersData:{students:(x==null?void 0:x.data)||[],instructors:(l==null?void 0:l.data)||[]},academicYears:f,currentAcademicYear:p,loading:y||h||g||M,error:A||b||j||_,refetchAcademicYears:N,refetchCurrentYear:L}},c=({children:n,noFlex:t,height:i,moreStyles:u={}})=>{const s=ee(),f=Z(s.palette.mode);return e.jsxs(r,{backgroundColor:f.primary[400],p:"20px",borderRadius:"10px",textAlign:"center",display:!t&&"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",sx:{height:i||"100%",boxShadow:s.palette.mode==="light"?"0px 2px 10px rgba(0, 0, 0, 0.1)":"0px 4px 12px rgba(0, 0, 0, 0.3)",...u},children:[n," "]})},je=({children:n,...t})=>e.jsxs(he,{container:!0,spacing:2,...t,children:[n," "]}),T=({children:n})=>e.jsxs(he,{container:!0,item:!0,xs:12,spacing:2,children:[n," "]}),d=({children:n,...t})=>e.jsxs(he,{item:!0,xs:12,...t,children:[n," "]}),Nt=()=>{const n=ee(),t=Z(n.palette.mode),[i,u]=a.useState(!0),[s,f]=a.useState(0),[p,y]=a.useState(0),[x,A]=a.useState(0),{usersData:C,loading:h,currentAcademicYear:l}=Ot();console.log(l),a.useEffect(()=>{var R,g,S;C&&(l||l===null)&&(u(!1),y(((R=C.instructors)==null?void 0:R.length)||0),f(((g=C.students)==null?void 0:g.length)||0),A(((S=l==null?void 0:l.students)==null?void 0:S.length)||0))},[C,l]);const b={mt:"15px",fontWeight:"bold"};return i||h?e.jsx(Ke,{}):e.jsx(r,{children:e.jsxs(je,{children:[e.jsxs(T,{children:[e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Students"}),e.jsxs(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(We,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:b,children:`${s} students`}),e.jsx(o,{children:"Total students"})]})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Teachers"}),e.jsxs(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(mt,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:b,children:`${p} teachers`}),e.jsx(o,{children:"Total teachers"})]})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"New Students"}),e.jsxs(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:[e.jsx(Te,{sx:{fontSize:"70px",color:t.blueAccent[200]}}),e.jsx(o,{variant:"h4",color:t.blueAccent[200],sx:b,children:`${x} students`}),e.jsx(o,{children:"New students this academic year"})]})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Unread Enquiries"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})})]}),e.jsxs(T,{children:[e.jsx(d,{md:8,children:e.jsxs(c,{noFlex:!0,children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Revenue Generated"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})}),e.jsx(d,{md:4,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Outstanding Payments"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})})]}),e.jsxs(T,{children:[e.jsx(d,{md:4,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Subject Stats"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})}),e.jsx(d,{md:4,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Top Teachers"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})}),e.jsx(d,{md:4,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",gutterBottom:!0,children:"Classes"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px",children:e.jsx(o,{variant:"body1",children:" "})})]})})]})]})})},$t=()=>{const n=ee();return Z(n.palette.mode),e.jsx(r,{children:e.jsxs(je,{children:[e.jsxs(T,{children:[[1,2].map((t,i)=>e.jsx(d,{sm:6,md:3,children:e.jsx(c,{children:e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Title"})})},i)),e.jsx(d,{sm:6,md:3,children:e.jsx(c,{children:e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Payment Rate"})})}),e.jsx(d,{sm:6,md:3,children:e.jsx(c,{noFlex:!0,children:e.jsx(o,{variant:"h6",fontWeight:"600",mb:"5px",children:"Next Class"})})})]}),e.jsxs(T,{children:[e.jsx(d,{md:8,children:e.jsx(c,{height:"350px",noFlex:!0})}),e.jsx(d,{md:4,children:e.jsx(c,{noFlex:!0,children:e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Missed Classes"})})})]}),e.jsxs(T,{children:[e.jsx(d,{md:6,children:e.jsx(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"})})}),e.jsx(d,{md:6,children:e.jsx(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Useful Resources"})})})]})]})})},Yt=()=>{const n=ee(),t=Z(n.palette.mode);return Fe(n.breakpoints.down("sm")),Fe(n.breakpoints.between("sm","md")),`${n.palette.mode==="light"?t.blueAccent[800]:t.greenAccent[600]}`,e.jsx(r,{children:e.jsxs(je,{children:[e.jsxs(T,{children:[e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Course Progress"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px"})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Attendance"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px"})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",textAlign:"center",children:"Assignment submissions"}),e.jsx(r,{display:"flex",flexDirection:"column",alignItems:"center",mt:"25px"})]})}),e.jsx(d,{sm:6,md:3,children:e.jsxs(c,{children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",textAlign:"center",children:"Next Class"}),e.jsx(r,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"})]})})]}),e.jsxs(T,{children:[e.jsx(d,{md:8,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Event calendar"}),e.jsx(r,{})]})}),e.jsx(d,{md:4,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"500px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Announcements"}),e.jsx(r,{})]})})]}),e.jsxs(T,{children:[e.jsx(d,{md:6,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Top Students by Activity"}),e.jsx(r,{})]})}),e.jsx(d,{md:6,children:e.jsxs(c,{noFlex:!0,moreStyles:{height:"400px",overflowY:"auto"},children:[e.jsx(o,{variant:"h5",fontWeight:"600",mb:"15px",children:"Least Active Students"}),e.jsx(r,{})]})})]})]})})};var ve={},Pt=ae;Object.defineProperty(ve,"__esModule",{value:!0});var xe=ve.default=void 0,Bt=Pt(ie()),Gt=e;xe=ve.default=(0,Bt.default)((0,Gt.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 9h-2V5h2zm0 4h-2v-2h2z"}),"Announcement");const qt=({openAnnoucementModal:n,setModalOpen:t})=>{const[i,u]=a.useState({title:"",message:"",dueDate:""}),{data:s,loading:f,callApi:p}=q(),[y,x]=a.useState(!1),A=h=>{const{name:l,value:b}=h.target;u(R=>({...R,[l]:b}))},C=async()=>{const{title:h,message:l,dueDate:b}=i,R={title:h,message:l,date:b},g=await p(G.ANNOUNCEMENT,"POST",R);g&&(g!=null&&g.announcement)&&(t(!1),x(!0),u({title:"",message:"",dueDate:""}))};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{open:n,onClose:()=>t(!1),title:"Make Announcement",onConfirm:C,children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(U,{label:"Title",name:"title",value:i.title,onChange:A,fullWidth:!0,required:!0}),e.jsx(U,{label:"Message",name:"message",value:i.message,onChange:A,fullWidth:!0,multiline:!0,rows:4,required:!0}),e.jsx(U,{label:"Due Date",name:"dueDate",type:"date",value:i.dueDate,onChange:A,fullWidth:!0,InputLabelProps:{shrink:!0},required:!0})]})}),e.jsx(Ve,{open:y,isLoading:f,onClose:()=>x(!1),title:"Confirm Announcement Submission",message:s?"Announcement submitted successfully!":"Could not submit announcement."})]})},Ut=({openFeedbackModal:n,setModalOpen:t})=>{const[i,u]=a.useState(""),[s,f]=a.useState(""),[p,y]=a.useState(""),[x,A]=a.useState(""),{data:C,loading:h,error:l,callApi:b}=q(),[R,g]=a.useState(!1),S=async()=>{const j={name:i,role:s,date:p,comments:x};await b(G.FEEDBACKS,"POST",j),l||(g(!0),u(""),f(""),y(""),A(""))};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{open:n,onClose:()=>t(!1),title:"Send Feedbacks",onConfirm:S,children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(U,{label:"Name",value:i,onChange:j=>u(j.target.value),fullWidth:!0,margin:"normal"}),e.jsxs(lt,{fullWidth:!0,margin:"normal",children:[e.jsx(ct,{children:"Role"}),e.jsxs(dt,{value:s,onChange:j=>f(j.target.value),children:[e.jsx(ce,{value:"student",children:"Student"}),e.jsx(ce,{value:"instructor",children:"Instructor"}),e.jsx(ce,{value:"worker",children:"Worker"})]})]}),e.jsx(U,{label:"Date",type:"date",value:p,onChange:j=>y(j.target.value),fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0}}),e.jsx(U,{label:"Comments",value:x,onChange:j=>A(j.target.value),fullWidth:!0,margin:"normal",multiline:!0,rows:4})]})}),e.jsx(Ve,{open:R,isLoading:h,onClose:()=>g(!1),title:"Feedback confirmantion",message:C?"Feeback submitted successfully!":"Could not submit announcement."})]})},Jt=({home:n})=>{const[t,i]=a.useState(!1),u=ee();Z(u.palette.mode);const s=me(y=>y.users.user),[f,p]=a.useState(!1);return e.jsxs(r,{children:[e.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(ut,{home:!0,title:s.firstName,subtitle:"Welcome to your dashboard"}),e.jsxs(r,{sx:{display:"flex"},children:[s.role==="superadmin"&&e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(de,{icon:e.jsx(Le,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Download Reports"}),e.jsx(de,{icon:e.jsx(xe,{sx:{fontSize:{xs:"16px",sm:"18px",md:"20px"}}}),content:"Make announcement",onClick:()=>p(!0)}),e.jsx(qt,{openAnnoucementModal:f,setModalOpen:p})]}),s.role==="student"&&e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row"},alignItems:"center",justifyContent:"center",gap:"10px"},children:[e.jsx(de,{icon:e.jsx(xe,{sx:{fontSize:{xs:"16px"}}}),content:"Submit Feedback",onClick:()=>i(!0)}),e.jsx(Ut,{openFeedbackModal:t,setModalOpen:i})]}),s.role==="teacher"&&e.jsxs(r,{children:[e.jsx(It,{sx:{fontSize:{xs:"1em",sm:"1.2em"}},value:s.rating,readOnly:!0,precision:.1}),e.jsxs(o,{variant:"h6",sx:{fontSize:{xs:"0.8em",sm:"1em"}},children:["Rating: ",s.rating]})]})]})]}),s.role==="admin"||s.role==="superadmin"?e.jsx(Nt,{user:s}):s.role==="student"?e.jsx($t,{user:s}):s.role==="teacher"?e.jsx(Yt,{user:s}):null]})},Xt=ht(Jt),xn=()=>e.jsx("div",{children:e.jsx(Xt,{home:!0})});export{xn as default};
