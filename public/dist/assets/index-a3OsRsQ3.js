import{j as e,r as m}from"./index-Cqf_02g-.js";import{r as K,t as M}from"./modal-DHHk_nL3.js";import{H as z}from"./Header-DzbEG90q.js";import{a as L,b as p,T as I}from"./table-D-PQDQOS.js";import{P as _}from"./PieChart-Drprn45O.js";import{C as u}from"./accordion-Dt3sPLnl.js";import{A as b}from"./confirmationModal-B6osjM9X.js";import{X as q}from"./nivo-bar-DSxMPeEQ.js";import{p as X}from"./nivo-line.es-C9CE3ztH.js";import{q as U,j as B,v as n,T as s}from"./TextField-CTuTe783.js";import{w as Y}from"./dasboardPagesContainer-F3CP2AQX.js";import"./IconButton-BC7LALcm.js";import"./index-BL7cbZCj.js";import"./MenuItem-Jxhsl5nH.js";import"./useApi-CG0k0pMk.js";import"./index-j3Sz-YoR.js";import"./loadingButton-CNGXwwaA.js";import"./CircularProgress-WQtbeDcs.js";import"./crystal-land-log-removebg-DVF-nlbN.js";import"./useSlot-Bq2cA_lW.js";import"./useMediaQuery-DK0lFkLQ.js";import"./nivo-pie.es-DmpjzAvA.js";import"./nivo-legends.es-B-ePy38G.js";import"./_baseIsEqual-BG5Yu70e.js";import"./_baseForOwn-Ce3tUgGj.js";import"./_baseSlice-z0Zd1-Ev.js";var O={},V=U;Object.defineProperty(O,"__esModule",{value:!0});var g=O.default=void 0,Q=V(K()),Z=e;g=O.default=(0,Q.default)((0,Z.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");const f=[{id:1,class:"Primary 1",avgGrade:85,passRate:95,mathAvg:88,englishAvg:82,attendanceRate:92,date:"2025-06-01"},{id:2,class:"Primary 2",avgGrade:80,passRate:90,mathAvg:85,englishAvg:78,attendanceRate:90,date:"2025-06-01"},{id:3,class:"JSS 1",avgGrade:75,passRate:85,mathAvg:80,englishAvg:70,attendanceRate:88,date:"2025-06-01"},{id:4,class:"SSS 1",avgGrade:70,passRate:80,mathAvg:75,englishAvg:65,attendanceRate:85,date:"2025-06-01"}],$=[{id:1,name:"John Doe",subject:"Math",attendanceRate:98,rating:4.5,classesTaught:["Primary 1","JSS 1"],studentFeedback:"Excellent",date:"2025-06-01"},{id:2,name:"Jane Smith",subject:"English",attendanceRate:95,rating:4,classesTaught:["Primary 2","SSS 1"],studentFeedback:"Good",date:"2025-06-01"},{id:3,name:"Alice Brown",subject:"Science",attendanceRate:90,rating:3.8,classesTaught:["JSS 1","SSS 1"],studentFeedback:"Needs improvement",date:"2025-06-01"}],ee=[{week:"2025-05-05","Primary 1":92,"Primary 2":90,"JSS 1":88,"SSS 1":85},{week:"2025-05-12","Primary 1":93,"Primary 2":91,"JSS 1":87,"SSS 1":86},{week:"2025-05-19","Primary 1":91,"Primary 2":89,"JSS 1":86,"SSS 1":84}],te={studentToTeacherRatio:20,facultyRetentionRate:85,techUsageClasses:90,facultyAdvancedCertifications:60},ae=()=>{const v=B(),a=M(v.palette.mode),[r,C]=m.useState(0),[j,R]=m.useState("id"),[S,P]=m.useState("asc"),[k,x]=m.useState(0),[y,w]=m.useState(20),T=t=>{P(j===t&&S==="asc"?"desc":"asc"),R(t)},D=(t,l)=>{x(l)},i=t=>{w(parseInt(t.target.value,10)),x(0)},E=(t,l)=>{C(l),x(0)},N=()=>{console.log("Exporting report for tab:",r)},A=[{id:"sn",label:"S/N",width:90},{id:"id",label:"ID",width:100},{id:"class",label:"Class",flex:1,renderCell:t=>e.jsx(s,{children:String(t.class||"N/A")})},{id:"avgGrade",label:"Avg Grade (%)",flex:1,renderCell:t=>e.jsx(s,{children:t.avgGrade||"N/A"})},{id:"passRate",label:"Pass Rate (%)",flex:1,renderCell:t=>e.jsx(s,{color:a.greenAccent[500],children:t.passRate||"N/A"})},{id:"mathAvg",label:"Math Avg (%)",flex:1,renderCell:t=>e.jsx(s,{children:t.mathAvg||"N/A"})},{id:"englishAvg",label:"English Avg (%)",flex:1,renderCell:t=>e.jsx(s,{children:t.englishAvg||"N/A"})},{id:"attendanceRate",label:"Attendance Rate (%)",flex:1,renderCell:t=>e.jsx(s,{color:a.blueAccent[500],children:t.attendanceRate||"N/A"})},{id:"date",label:"Date",flex:1}],c=[{id:"sn",label:"S/N",width:90},{id:"id",label:"ID",width:100},{id:"name",label:"Name",flex:1,renderCell:t=>e.jsx(s,{children:String(t.name||"N/A")})},{id:"subject",label:"Subject",flex:1,renderCell:t=>e.jsx(s,{children:String(t.subject||"N/A")})},{id:"attendanceRate",label:"Attendance Rate (%)",flex:1,renderCell:t=>e.jsx(s,{color:a.blueAccent[500],children:t.attendanceRate||"N/A"})},{id:"rating",label:"Rating (1-5)",flex:1,renderCell:t=>e.jsx(s,{color:a.greenAccent[500],children:t.rating||"N/A"})},{id:"classesTaught",label:"Classes Taught",flex:1,renderCell:t=>e.jsx(s,{children:t.classesTaught.join(", ")||"N/A"})},{id:"studentFeedback",label:"Feedback",flex:1,renderCell:t=>e.jsx(s,{children:String(t.studentFeedback||"N/A")})},{id:"date",label:"Date",flex:1}],h=f.map((t,l)=>({id:t.id,sn:l+1,class:t.class,avgGrade:t.avgGrade,passRate:t.passRate,mathAvg:t.mathAvg,englishAvg:t.englishAvg,attendanceRate:t.attendanceRate,date:t.date?new Date(t.date).toLocaleDateString():"N/A"})),o=$.map((t,l)=>({id:t.id,sn:l+1,name:t.name,subject:t.subject,attendanceRate:t.attendanceRate,rating:t.rating,classesTaught:t.classesTaught,studentFeedback:t.studentFeedback,date:t.date?new Date(t.date).toLocaleDateString():"N/A"})),d=f.map(t=>({id:t.class,label:t.class,value:t.passRate,color:a.blueAccent[Math.floor(Math.random()*4)+1]})),F=f.map(t=>({class:t.class,Math:t.mathAvg,English:t.englishAvg})),G=()=>{switch(r){case 0:return{columns:[],data:[],header:"School Analytics Overview"};case 1:return{columns:A,data:h,header:"Class Performance"};case 2:return{columns:c,data:o,header:"Teacher Performance"};case 3:return{columns:A,data:h,header:"Class Attendance Rates"};case 4:return{columns:[],data:[],header:"Other Key Performance Indicators"};default:return{columns:[],data:[],header:"School Analytics Overview"}}},{columns:H,data:W,header:J}=G();return{tabIndex:r,handleTabChange:E,columns:H,data:W,header:J,sortBy:j,sortDirection:S,page:k,rowsPerPage:y,handleSortChange:T,handlePageChange:D,handleRowsPerPageChange:i,handleExportReport:N,passRatePieData:d,subjectBarData:F,attendanceTrends:ee,otherKPIs:te}},se=()=>{const v=B(),a=M(v.palette.mode),{tabIndex:r,handleTabChange:C,columns:j,data:R,header:S,sortBy:P,sortDirection:k,page:x,rowsPerPage:y,handleSortChange:w,handlePageChange:T,handleRowsPerPageChange:D,handleExportReport:i,passRatePieData:E,subjectBarData:N,attendanceTrends:A,otherKPIs:c}=ae(),h={columns:j,tableHeader:S,data:R,sortBy:P,sortDirection:k,onSortChange:w,page:x,rowsPerPage:y,onPageChange:T,onRowsPerPageChange:D};return e.jsxs(n,{children:[e.jsx(z,{title:"SCHOOL ANALYTICS & REPORTING",subtitle:"Performance metrics for classes, teachers, and attendance"}),e.jsxs(L,{value:r,onChange:C,"aria-label":"analytics dashboard tabs",sx:{backgroundColor:a.primary[400],"& .MuiTabs-indicator":{backgroundColor:a.blueAccent[700]}},children:[e.jsx(p,{label:"Overview",sx:{color:"white !important",textTransform:"none",fontWeight:"bold","&.Mui-selected":{color:"white !important",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.3)",backgroundColor:a.blueAccent[700]},boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:a.primary[400]}}),e.jsx(p,{label:"Class Performance",sx:{color:"white !important",textTransform:"none",fontWeight:"bold","&.Mui-selected":{color:"white !important",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.3)",backgroundColor:a.blueAccent[700]},boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:a.primary[400]}}),e.jsx(p,{label:"Teacher Performance",sx:{color:"white !important",textTransform:"none",fontWeight:"bold","&.Mui-selected":{color:"white !important",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.3)",backgroundColor:a.blueAccent[700]},boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:a.primary[400]}}),e.jsx(p,{label:"Attendance",sx:{color:"white !important",textTransform:"none",fontWeight:"bold","&.Mui-selected":{color:"white !important",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.3)",backgroundColor:a.blueAccent[700]},boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:a.primary[400]}}),e.jsx(p,{label:"Other KPIs",sx:{color:"white !important",textTransform:"none",fontWeight:"bold","&.Mui-selected":{color:"white !important",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.3)",backgroundColor:a.blueAccent[700]},boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:a.primary[400]}})]}),e.jsxs(n,{m:"40px 0 0 0",height:"75vh",children:[r===0&&e.jsx(n,{children:e.jsx(u,{title:"School Overview",details:e.jsxs(n,{children:[e.jsx(s,{variant:"h6",children:"Key Metrics"}),e.jsx(n,{height:"300px",mt:2,children:e.jsx(_,{data:E})}),e.jsxs(s,{mt:2,children:["Average Attendance Rate: ",f.reduce((o,d)=>o+d.attendanceRate,0)/f.length,"%"]}),e.jsxs(s,{children:["Student-to-Teacher Ratio: ",c.studentToTeacherRatio,":1"]}),e.jsx(b,{onClick:i,icon:e.jsx(g,{}),title:"Export Overview Report",sx:{mt:2}})]}),defaultExpanded:!0})}),r===1&&e.jsx(n,{children:e.jsx(u,{title:"Class Performance Insights",details:e.jsxs(n,{children:[e.jsx(n,{height:"300px",mb:2,children:e.jsx(q,{data:N,keys:["Math","English"],indexBy:"class",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},animate:!0,motionConfig:"default",theme:{axis:{ticks:{text:{fill:a.grey[100]}},legend:{text:{fill:a.grey[100]}}},legends:{text:{fill:a.grey[100]}}},axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Class",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Score (%)",legendPosition:"middle",legendOffset:-40},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20}]})}),e.jsx(I,{...h}),e.jsx(b,{onClick:i,icon:e.jsx(g,{}),title:"Export Class Performance Report",sx:{mt:2}})]}),defaultExpanded:!0})}),r===2&&e.jsx(n,{children:e.jsx(u,{title:"Teacher Performance Insights",details:e.jsxs(n,{children:[e.jsx(I,{...h}),e.jsx(b,{onClick:i,icon:e.jsx(g,{}),title:"Export Teacher Performance Report",sx:{mt:2}})]}),defaultExpanded:!0})}),r===3&&e.jsx(n,{children:e.jsx(u,{title:"Attendance Trends",details:e.jsxs(n,{children:[e.jsx(n,{height:"300px",mb:2,children:e.jsx(X,{data:A.map(o=>({id:o.week,data:Object.keys(o).filter(d=>d!=="week").map(d=>({x:o.week,y:o[d]}))})),animate:!0,motionConfig:"default",margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisBottom:{tickSize:5,tickPadding:5,tickRotation:45,legend:"Week",legendOffset:36,legendPosition:"middle"},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Attendance Rate (%)",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},theme:{axis:{ticks:{text:{fill:a.grey[100]}},legend:{text:{fill:a.grey[100]}}},legends:{text:{fill:a.grey[100]}}},legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemWidth:80,itemHeight:20}]})}),e.jsx(I,{...h}),e.jsx(b,{onClick:i,icon:e.jsx(g,{}),title:"Export Attendance Report",sx:{mt:2}})]}),defaultExpanded:!0})}),r===4&&e.jsx(n,{children:e.jsx(u,{title:"Other KPIs",details:e.jsxs(n,{children:[e.jsxs(s,{children:["Student-to-Teacher Ratio: ",c.studentToTeacherRatio,":1"]}),e.jsxs(s,{children:["Faculty Retention Rate: ",c.facultyRetentionRate,"%"]}),e.jsxs(s,{children:["Classes Using Technology: ",c.techUsageClasses,"%"]}),e.jsxs(s,{children:["Faculty with Advanced Certifications: ",c.facultyAdvancedCertifications,"%"]}),e.jsx(b,{onClick:i,icon:e.jsx(g,{}),title:"Export KPI Report",sx:{mt:2}})]}),defaultExpanded:!0})})]})]})},De=Y(se);export{De as default};
