import{r as s,a as S,e as d,S as x,P as M,T as Y,Q as D,U as H}from"./index-BKlc4Mb3.js";import{u as l}from"./useApi-CmAUaqmj.js";import{u as P}from"./MenuItem-BNprT_Ft.js";const K=()=>{const[Q,N]=s.useState([]),[V,b]=s.useState([]),a=P(),k=S(e=>e.adminData.academicYears)||[],w=S(e=>e.adminData.currentAcademicYear),z=S(e=>e.adminData.classLevels)||[],{loading:R,data:t,error:I,callApi:L}=l(),{loading:J,data:r,error:O,callApi:p}=l(),{loading:U,data:c,error:u,callApi:T}=l(),{loading:_,data:n,error:m,callApi:G}=l(),{loading:F,data:o,error:f,callApi:h}=l(),v=s.useCallback(()=>L(d.STUDENTS,"GET"),[L]),y=s.useCallback(()=>p(d.TEACHERS,"GET"),[p]),E=s.useCallback(()=>T(d.ACADEMIC_YEARS,"GET"),[T]),g=s.useCallback(()=>G(d.CURRENT_ACADEMIC_YEAR,"GET"),[G]),A=s.useCallback(()=>h(d.CLASS_LEVEL,"GET"),[h]);return s.useEffect(()=>{v(),y(),E(),g(),A()},[v,y,E,g,A]),s.useEffect(()=>{if(t||r){const e=(t==null?void 0:t.data)||[],C=(r==null?void 0:r.data)||[];N(i=>JSON.stringify(i)!==JSON.stringify(e)?e:i),b(i=>JSON.stringify(i)!==JSON.stringify(C)?C:i),a(x({students:e,instructors:C}))}},[t,r,a]),s.useEffect(()=>{if(c){const e=(c==null?void 0:c.data)||[];a(M(e))}u&&a(Y(u.message||"Failed to fetch academic years."))},[c,u,a]),s.useEffect(()=>{if(n){const e=(n==null?void 0:n.data)||null;a(D(e))}m&&a(Y(m.message||"Failed to fetch current academic year."))},[n,m,a]),s.useEffect(()=>{if(o){const e=(o==null?void 0:o.data)||[];a(H(e))}f&&a(Y(f.message||"Failed to fetch class levels."))},[o,f,a]),{usersData:{students:(t==null?void 0:t.data)||[],instructors:(r==null?void 0:r.data)||[]},academicYears:k,currentAcademicYear:w,classLevels:z,loading:R||J||U||_||F,error:I||O||u||m||f,refetchAcademicYears:E,refetchCurrentYear:g,refetchClassLevels:A}};export{K as u};
