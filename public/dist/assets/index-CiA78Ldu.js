import{B as Tr,J as ke,r as k,j as _,a as Wi}from"./index-DA7CL_TF.js";import{H as Yi}from"./Header-BlzJdVFL.js";import{c as Ii,i as hn,r as Vn,_ as Li,a as Xn,o as Ni,b as ae,e as xe,f as Cr,d as Ri,g as bn,n as dt,h as Ye,j as be,k as Ie,t as Sr,u as Hi,w as zi,l as Gi,s as Vi,m as lt,x as Xi,y as qi,p as _r,q as Ar,v as jr,z as $r,A as Er,B as Fr,C as Or,D as xt,E as Dr,F as Pr,G as yt,H as Le,I as Ne,J as Ur,K as Br,L as Wr,M as Ki,N as Ji,O as Qi,P as Zi,Q as to,R as eo,S as no,T as ro,U as io,V as oo,W as ao,X as so,Y as lo,Z as uo,$ as co,a0 as ho,a1 as fo,a2 as go,a3 as mo,a4 as qn,a5 as Kn,a6 as fn,a7 as po,a8 as vo,a9 as Pt,aa as yo,ab as Mn,ac as Yr,ad as Ir,ae as xo,af as Jn,ag as bo,ah as Lr,ai as Mo,aj as Xe,ak as Nr,al as Rr,am as ko,an as wo,ao as To,ap as Hr,aq as Co,ar as So,as as zr,at as Re,au as _o,av as Ao,aw as jo,ax as Qn,ay as $o,az as Eo,aA as Fo,aB as Zn,aC as Oo,aD as Gr}from"./nivo-legends.es-Bx-M9K3H.js";import{b as Vr,c as Do,d as Po,e as Uo,i as Xr,f as Bo,g as Wo,h as Yo,j as Io,k as Lo,l as qr,m as No,n as Ro,o as Ho,t as zo}from"./identity-D2f7I48a.js";import{_ as Kr,a as Go}from"./_baseIteratee-C46H95qx.js";import{t as Vo}from"./modal-wWp9HhCh.js";import{j as Xo,w as He}from"./TextField-DsWKLBt2.js";import"./index-T8L-m1Uk.js";import"./MenuItem-BCUhhSjD.js";import"./IconButton-B3zrSn9q.js";import"./useApi-ml5YL047.js";import"./confirmationModal-CbjipPnn.js";import"./CircularProgress-DO8NoW4k.js";import"./index-5ke-byr1.js";import"./loadingButton-CvGiH4xI.js";import"./useSlot-DI2k78L0.js";import"./index-C9TGJjGj.js";function qo(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=t[r]*(1-o)+e[r]*o;return i}}function Ko(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jo(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),a;for(a=0;a<i;++a)r[a]=kn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<i;++a)o[a]=r[a](s);return o}}function Qo(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Zo(t,e){var n={},i={},r;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in t?n[r]=kn(t[r],e[r]):i[r]=e[r];return function(o){for(r in n)i[r]=n[r](o);return i}}function kn(t,e){var n=typeof e,i;return e==null||n==="boolean"?Ii(e):(n==="number"?hn:n==="string"?(i=Xn(e))?(e=i,Vn):Li:e instanceof Xn?Vn:e instanceof Date?Qo:Ko(e)?qo:Array.isArray(e)?Jo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zo:hn)(t,e)}function ta(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ue(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ea(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wn(t){let e,n,i;t.length!==2?(e=Ue,n=(s,l)=>Ue(t(s),l),i=(s,l)=>t(s)-l):(e=t===Ue||t===ea?t:na,n=t,i=t);function r(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){const c=r(s,l,u,f-1);return c>u&&i(s[c-1],l)>-i(s[c],l)?c-1:c}return{left:r,center:a,right:o}}function na(){return 0}function ra(t){return t===null?NaN:+t}const ia=wn(Ue),oa=ia.right;wn(ra).center;const aa=Math.sqrt(50),sa=Math.sqrt(10),la=Math.sqrt(2);function ze(t,e,n){const i=(e-t)/Math.max(0,n),r=Math.floor(Math.log10(i)),o=i/Math.pow(10,r),a=o>=aa?10:o>=sa?5:o>=la?2:1;let s,l,u;return r<0?(u=Math.pow(10,-r)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?ze(t,e,n*2):[s,l,u]}function dn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[r,o,a]=i?ze(e,t,n):ze(t,e,n);if(!(o>=r))return[];const s=o-r+1,l=new Array(s);if(i)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(r+u)/-a;else for(let u=0;u<s;++u)l[u]=(r+u)*a;return l}function gn(t,e,n){return e=+e,t=+t,n=+n,ze(t,e,n)[2]}function mn(t,e,n){e=+e,t=+t,n=+n;const i=e<t,r=i?gn(e,t,n):gn(t,e,n);return(i?-1:1)*(r<0?1/-r:r)}function ua(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(r);++i<r;)o[i]=t+i*n;return o}function Tn(){var t=Ni().unknown(void 0),e=t.domain,n=t.range,i=0,r=1,o,a,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,d=r<i,g=d?r:i,m=d?i:r;o=(m-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(m-g-o*(h-l))*f,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var p=ua(h).map(function(v){return g+o*v});return n(d?p.reverse():p)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([i,r]=h,i=+i,r=+r,c()):[i,r]},t.rangeRound=function(h){return[i,r]=h,i=+i,r=+r,s=!0,c()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return Tn(e(),[i,r]).round(s).paddingInner(l).paddingOuter(u).align(f)},ae.apply(c(),arguments)}function Jr(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Jr(e())},t}function ca(){return Jr(Tn.apply(null,arguments).paddingInner(1))}function ha(t){return function(){return t}}function fa(t){return+t}var tr=[0,1];function re(t){return t}function pn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ha(isNaN(e)?NaN:.5)}function da(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function ga(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=pn(r,i),o=n(a,o)):(i=pn(i,r),o=n(o,a)),function(s){return o(i(s))}}function ma(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=pn(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=oa(t,s,1,i)-1;return o[l](r[l](s))}}function qe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Cn(){var t=tr,e=tr,n=kn,i,r,o,a=re,s,l,u;function f(){var h=Math.min(t.length,e.length);return a!==re&&(a=da(t[0],t[h-1])),s=h>2?ma:ga,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(i),e,n)))(i(a(h)))}return c.invert=function(h){return a(r((u||(u=s(e,t.map(i),hn)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,fa),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=ta,f()},c.clamp=function(h){return arguments.length?(a=h?!0:re,f()):a!==re},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return i=h,r=d,f()}}function Qr(){return Cn()(re,re)}function pa(t){return Math.max(0,-xe(Math.abs(t)))}function va(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xe(e)/3)))*3-xe(Math.abs(t)))}function ya(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xe(e)-xe(t))+1}function xa(t,e,n,i){var r=mn(t,e,n),o;switch(i=Cr(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(o=va(r,a))&&(i.precision=o),Ri(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=ya(r,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=pa(r))&&(i.precision=o-(i.type==="%")*2);break}}return bn(i)}function Zr(t){var e=t.domain;return t.ticks=function(n){var i=e();return dn(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var r=e();return xa(r[0],r[r.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),r=0,o=i.length-1,a=i[r],s=i[o],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=r,r=o,o=u);f-- >0;){if(u=gn(a,s,n),u===l)return i[r]=a,i[o]=s,e(i);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function ti(){var t=Qr();return t.copy=function(){return qe(t,ti())},ae.apply(t,arguments),Zr(t)}function ei(t,e){t=t.slice();var n=0,i=t.length-1,r=t[n],o=t[i],a;return o<r&&(a=n,n=i,i=a,a=r,r=o,o=a),t[n]=e.floor(r),t[i]=e.ceil(o),t}function er(t){return Math.log(t)}function nr(t){return Math.exp(t)}function ba(t){return-Math.log(-t)}function Ma(t){return-Math.exp(-t)}function ka(t){return isFinite(t)?+("1e"+t):t<0?0:t}function wa(t){return t===10?ka:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ta(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rr(t){return(e,n)=>-t(-e,n)}function Ca(t){const e=t(er,nr),n=e.domain;let i=10,r,o;function a(){return r=Ta(i),o=wa(i),n()[0]<0?(r=rr(r),o=rr(o),t(ba,Ma)):t(er,nr),e}return e.base=function(s){return arguments.length?(i=+s,a()):i},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=r(u),d=r(f),g,m;const p=s==null?10:+s;let v=[];if(!(i%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(g=1;g<i;++g)if(m=h<0?g/o(-h):g*o(h),!(m<u)){if(m>f)break;v.push(m)}}else for(;h<=d;++h)for(g=i-1;g>=1;--g)if(m=h>0?g/o(-h):g*o(h),!(m<u)){if(m>f)break;v.push(m)}v.length*2<p&&(v=dn(u,f,p))}else v=dn(h,d,Math.min(d-h,p)).map(o);return c?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=Cr(l)).precision==null&&(l.trim=!0),l=bn(l)),s===1/0)return l;const u=Math.max(1,i*s/e.ticks().length);return f=>{let c=f/o(Math.round(r(f)));return c*i<i-.5&&(c*=i),c<=u?l(f):""}},e.nice=()=>n(ei(n(),{floor:s=>o(Math.floor(r(s))),ceil:s=>o(Math.ceil(r(s)))})),e}function ni(){const t=Ca(Cn()).domain([1,10]);return t.copy=()=>qe(t,ni()).base(t.base()),ae.apply(t,arguments),t}function ir(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function or(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Sa(t){var e=1,n=t(ir(e),or(e));return n.constant=function(i){return arguments.length?t(ir(e=+i),or(e)):e},Zr(n)}function ri(){var t=Sa(Cn());return t.copy=function(){return qe(t,ri()).constant(t.constant())},ae.apply(t,arguments)}const en=new Date,nn=new Date;function J(t,e,n,i){function r(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return r.floor=o=>(t(o=new Date(+o)),o),r.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),r.round=o=>{const a=r(o),s=r.ceil(o);return o-a<s-o?a:s},r.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),r.range=(o,a,s)=>{const l=[];if(o=r.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},r.filter=o=>J(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(r.count=(o,a)=>(en.setTime(+o),nn.setTime(+a),t(en),t(nn),Math.floor(n(en,nn))),r.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?r.filter(i?a=>i(a)%o===0:a=>r.count(0,a)%o===0):r)),r}const Ge=J(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ge.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?J(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ge);Ge.range;const St=1e3,ut=St*60,_t=ut*60,jt=_t*24,Sn=jt*7,ar=jt*30,rn=jt*365,zt=J(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*St)},(t,e)=>(e-t)/St,t=>t.getUTCSeconds());zt.range;const _n=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*St)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getMinutes());_n.range;const An=J(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ut)},(t,e)=>(e-t)/ut,t=>t.getUTCMinutes());An.range;const jn=J(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*St-t.getMinutes()*ut)},(t,e)=>{t.setTime(+t+e*_t)},(t,e)=>(e-t)/_t,t=>t.getHours());jn.range;const $n=J(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_t)},(t,e)=>(e-t)/_t,t=>t.getUTCHours());$n.range;const En=J(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ut)/jt,t=>t.getDate()-1);En.range;const ii=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jt,t=>t.getUTCDate()-1);ii.range;const oi=J(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jt,t=>Math.floor(t/jt));oi.range;function Vt(t){return J(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ut)/Sn)}const Fn=Vt(0),_a=Vt(1),Aa=Vt(2),ja=Vt(3),$a=Vt(4),Ea=Vt(5),Fa=Vt(6);Fn.range;_a.range;Aa.range;ja.range;$a.range;Ea.range;Fa.range;function Xt(t){return J(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Sn)}const On=Xt(0),Oa=Xt(1),Da=Xt(2),Pa=Xt(3),Ua=Xt(4),Ba=Xt(5),Wa=Xt(6);On.range;Oa.range;Da.range;Pa.range;Ua.range;Ba.range;Wa.range;const Dn=J(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Dn.range;const Pn=J(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Pn.range;const Ke=J(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ke.range;const Je=J(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Je.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:J(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Je.range;function ai(t,e,n,i,r,o){const a=[[zt,1,St],[zt,5,5*St],[zt,15,15*St],[zt,30,30*St],[o,1,ut],[o,5,5*ut],[o,15,15*ut],[o,30,30*ut],[r,1,_t],[r,3,3*_t],[r,6,6*_t],[r,12,12*_t],[i,1,jt],[i,2,2*jt],[n,1,Sn],[e,1,ar],[e,3,3*ar],[t,1,rn]];function s(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const d=c&&typeof c.range=="function"?c:l(u,f,c),g=d?d.range(u,+f+1):[];return h?g.reverse():g}function l(u,f,c){const h=Math.abs(f-u)/c,d=wn(([,,p])=>p).right(a,h);if(d===a.length)return t.every(mn(u/rn,f/rn,c));if(d===0)return Ge.every(Math.max(mn(u,f,c),1));const[g,m]=a[h/a[d-1][2]<a[d][2]/h?d-1:d];return g.every(m)}return[s,l]}const[Ya,Ia]=ai(Je,Pn,On,oi,$n,An),[La,Na]=ai(Ke,Dn,Fn,En,jn,_n);var Me=dt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Me.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Me};Me.range;var vn=dt(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ye)},function(t,e){return(e-t)/Ye},function(t){return t.getUTCSeconds()});vn.range;var si=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ye)},function(t,e){t.setTime(+t+e*be)},function(t,e){return(e-t)/be},function(t){return t.getMinutes()});si.range;var li=dt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ye-t.getMinutes()*be)},function(t,e){t.setTime(+t+e*Ie)},function(t,e){return(e-t)/Ie},function(t){return t.getHours()});li.range;var ui=dt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});ui.range;var ci=dt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*be)},function(t,e){return(e-t)/be},function(t){return t.getUTCMinutes()});ci.range;var hi=dt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Ie)},function(t,e){return(e-t)/Ie},function(t){return t.getUTCHours()});hi.range;var fi=dt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});fi.range;function Ra(t){return new Date(t)}function Ha(t){return t instanceof Date?+t:+new Date(+t)}function Un(t,e,n,i,r,o,a,s,l,u){var f=Qr(),c=f.invert,h=f.domain,d=u(".%L"),g=u(":%S"),m=u("%I:%M"),p=u("%I %p"),v=u("%a %d"),x=u("%b %d"),w=u("%B"),T=u("%Y");function A(b){return(l(b)<b?d:s(b)<b?g:a(b)<b?m:o(b)<b?p:i(b)<b?r(b)<b?v:x:n(b)<b?w:T)(b)}return f.invert=function(b){return new Date(c(b))},f.domain=function(b){return arguments.length?h(Array.from(b,Ha)):h().map(Ra)},f.ticks=function(b){var $=h();return t($[0],$[$.length-1],b??10)},f.tickFormat=function(b,$){return $==null?A:u($)},f.nice=function(b){var $=h();return(!b||typeof b.range!="function")&&(b=e($[0],$[$.length-1],b??10)),b?h(ei($,b)):f},f.copy=function(){return qe(f,Un(t,e,n,i,r,o,a,s,l,u))},f}function za(){return ae.apply(Un(La,Na,Ke,Dn,Fn,En,jn,_n,zt,Sr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ga(){return ae.apply(Un(Ya,Ia,Je,Pn,On,ii,$n,An,zt,Hi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Va(t,e,n){var i=null,r=lt(!0),o=null,a=Vi,s=null,l=zi(u);t=typeof t=="function"?t:t===void 0?Xi:lt(+t),e=typeof e=="function"?e:e===void 0?lt(0):lt(+e),n=typeof n=="function"?n:n===void 0?qi:lt(+n);function u(c){var h,d,g,m=(c=Gi(c)).length,p,v=!1,x,w=new Array(m),T=new Array(m);for(o==null&&(s=a(x=l())),h=0;h<=m;++h){if(!(h<m&&r(p=c[h],h,c))===v)if(v=!v)d=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=d;--g)s.point(w[g],T[g]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+t(p,h,c),T[h]=+e(p,h,c),s.point(i?+i(p,h,c):w[h],n?+n(p,h,c):T[h]))}if(x)return s=null,x+""||null}function f(){return _r().defined(r).curve(a).context(o)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),i=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:lt(+c),u):t},u.x1=function(c){return arguments.length?(i=c==null?null:typeof c=="function"?c:lt(+c),u):i},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:lt(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:lt(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(i).y(e)},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:lt(!!c),u):r},u.curve=function(c){return arguments.length?(a=c,o!=null&&(s=a(o)),u):a},u.context=function(c){return arguments.length?(c==null?o=s=null:s=a(o=c),u):o},u}var di=/^--/;function Xa(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!di.test(t)&&!(ve.hasOwnProperty(t)&&ve[t])?e+"px":(""+e).trim()}var sr={};function qa(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:r,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...u}=e,f=Object.values(u),c=Object.keys(u).map(h=>n||t.hasAttribute(h)?h:sr[h]||(sr[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));o!==void 0&&(t.textContent=o);for(const h in r)if(r.hasOwnProperty(h)){const d=Xa(h,r[h]);di.test(h)?t.style.setProperty(h,d):t.style[h]=d}c.forEach((h,d)=>{t.setAttribute(h,f[d])}),i!==void 0&&(t.className=i),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),l!==void 0&&t.setAttribute("viewBox",l)}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ka=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Ja=["Webkit","Ms","Moz","O"];ve=Object.keys(ve).reduce((t,e)=>(Ja.forEach(n=>t[Ka(n,e)]=t[e]),t),ve);var Qa=/^(matrix|translate|scale|rotate|skew)/,Za=/^(translate)/,ts=/^(rotate|skew)/,on=(t,e)=>xt.num(t)&&t!==0?t+e:t,Be=(t,e)=>xt.arr(t)?t.every(n=>Be(n,e)):xt.num(t)?t===e:parseFloat(t)===e,es=class extends Fr{constructor({x:e,y:n,z:i,...r}){const o=[],a=[];(e||n||i)&&(o.push([e||0,n||0,i||0]),a.push(s=>[`translate3d(${s.map(l=>on(l,"px")).join(",")})`,Be(s,0)])),Or(r,(s,l)=>{if(l==="transform")o.push([s||""]),a.push(u=>[u,u===""]);else if(Qa.test(l)){if(delete r[l],xt.und(s))return;const u=Za.test(l)?"px":ts.test(l)?"deg":"";o.push(Dr(s)),a.push(l==="rotate3d"?([f,c,h,d])=>[`rotate3d(${f},${c},${h},${on(d,u)})`,Be(d,0)]:f=>[`${l}(${f.map(c=>on(c,u)).join(",")})`,Be(f,l.startsWith("scale")?1:0)])}}),o.length&&(r.transform=new ns(o,a)),super(r)}},ns=class extends Pr{constructor(e,n){super(),this.inputs=e,this.transforms=n,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",n=!0;return yt(this.inputs,(i,r)=>{const o=Le(i[0]),[a,s]=this.transforms[r](xt.arr(o)?o:i.map(Le));e+=" "+a,n=n&&s}),n?"none":e}observerAdded(e){e==1&&yt(this.inputs,n=>yt(n,i=>Ne(i)&&Ur(i,this)))}observerRemoved(e){e==0&&yt(this.inputs,n=>yt(n,i=>Ne(i)&&Br(i,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Wr(this,e)}},rs=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ar.assign({batchedUpdates:Tr.unstable_batchedUpdates,createStringInterpolator:$r,colors:jr});var is=Er(rs,{applyAnimatedValues:qa,createAnimatedStyle:t=>new es(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),oe=is.animated;function os(){}var as=os,an=Do,ss=as,ls=Vr,us=1/0,cs=an&&1/ls(new an([,-0]))[1]==us?function(t){return new an(t)}:ss,hs=cs,fs=Po,ds=Ki,gs=Ji,ms=Uo,ps=hs,vs=Vr,ys=200;function xs(t,e,n){var i=-1,r=ds,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=gs;else if(o>=ys){var u=e?null:ps(t);if(u)return vs(u);a=!1,r=ms,l=new fs}else l=e?[]:s;t:for(;++i<o;){var f=t[i],c=e?e(f):f;if(f=n||f!==0?f:0,a&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue t;e&&l.push(c),s.push(f)}else r(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var gi=xs,bs=gi;function Ms(t){return t&&t.length?bs(t):[]}var ks=Ms;const lr=ke(ks);var ws=Kr,Ts=gi;function Cs(t,e){return t&&t.length?Ts(t,ws(e)):[]}var Ss=Cs;const _s=ke(Ss);var As=Xr;function js(t,e){return function(n,i){if(n==null)return n;if(!As(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}var $s=js,Es=Go,Fs=$s,Os=Fs(Es),Ds=Os,Ps=Ds,Us=Xr;function Bs(t,e){var n=-1,i=Us(t)?Array(t.length):[];return Ps(t,function(r,o,a){i[++n]=e(r,o,a)}),i}var Ws=Bs;function Ys(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Is=Ys,ur=Bo;function Ls(t,e){if(t!==e){var n=t!==void 0,i=t===null,r=t===t,o=ur(t),a=e!==void 0,s=e===null,l=e===e,u=ur(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}var Ns=Ls,Rs=Ns;function Hs(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Rs(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*(u=="desc"?-1:1)}}return t.index-e.index}var zs=Hs,sn=Wo,Gs=Io,Vs=Kr,Xs=Ws,qs=Is,Ks=qr,Js=zs,Qs=Lo,Zs=Yo;function tl(t,e,n){e.length?e=sn(e,function(o){return Zs(o)?function(a){return Gs(a,o.length===1?o[0]:o)}:o}):e=[Qs];var i=-1;e=sn(e,Ks(Vs));var r=Xs(t,function(o,a,s){var l=sn(e,function(u){return u(o)});return{criteria:l,index:++i,value:o}});return qs(r,function(o,a){return Js(o,a,n)})}var el=tl,nl=to,rl=el,il=Qi,cr=Zi,ol=il(function(t,e){if(t==null)return[];var n=e.length;return n>1&&cr(t,e[0],e[1])?e=[]:n>2&&cr(e[0],e[1],e[2])&&(e=[e[0]]),rl(t,nl(e,1),[])}),al=ol;const sl=ke(al);var ll=Ro,ul=No,cl="[object Date]";function hl(t){return ul(t)&&ll(t)==cl}var fl=hl,dl=fl,gl=qr,hr=Ho,fr=hr&&hr.isDate,ml=fr?gl(fr):dl,pl=ml;const vl=ke(pl);function Ht(){return Ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ht.apply(this,arguments)}var te=[function(t){return t.setMilliseconds(0)},function(t){return t.setSeconds(0)},function(t){return t.setMinutes(0)},function(t){return t.setHours(0)},function(t){return t.setDate(1)},function(t){return t.setMonth(0)}],yl={millisecond:[],second:te.slice(0,1),minute:te.slice(0,2),hour:te.slice(0,3),day:te.slice(0,4),month:te.slice(0,5),year:te.slice(0,6)},xl=function(t){return function(e){return yl[t].forEach(function(n){n(e)}),e}},mi=function(t){var e=t.format,n=e===void 0?"native":e,i=t.precision,r=i===void 0?"millisecond":i,o=t.useUTC,a=o===void 0||o,s=xl(r);return function(l){if(l===void 0)return l;if(n==="native"||l instanceof Date)return s(l);var u=a?po(n):vo(n);return s(u(l))}},bl=function(t,e,n,i){var r,o,a,s,l=t.min,u=l===void 0?0:l,f=t.max,c=f===void 0?"auto":f,h=t.stacked,d=h!==void 0&&h,g=t.reverse,m=g!==void 0&&g,p=t.clamp,v=p!==void 0&&p,x=t.nice,w=x!==void 0&&x;u==="auto"?r=d===!0?(o=e.minStacked)!=null?o:0:e.min:r=u,c==="auto"?a=d===!0?(s=e.maxStacked)!=null?s:0:e.max:a=c;var T=ti().rangeRound(i==="x"?[0,n]:[n,0]).domain(m?[a,r]:[r,a]).clamp(v);return w===!0?T.nice():typeof w=="number"&&T.nice(w),Ml(T,d)},Ml=function(t,e){e===void 0&&(e=!1);var n=t;return n.type="linear",n.stacked=e,n},kl=function(t,e,n){var i=ca().range([0,n]).domain(e.all);return i.type="point",i},wl=function(t,e,n,i){var r=t.round,o=r===void 0||r,a=Tn().range(i==="x"?[0,n]:[n,0]).domain(e.all).round(o);return Tl(a)},Tl=function(t){var e=t;return e.type="band",e},Cl=function(t,e,n){var i,r,o=t.format,a=o===void 0?"native":o,s=t.precision,l=s===void 0?"millisecond":s,u=t.min,f=u===void 0?"auto":u,c=t.max,h=c===void 0?"auto":c,d=t.useUTC,g=d===void 0||d,m=t.nice,p=m!==void 0&&m,v=mi({format:a,precision:l,useUTC:g});i=f==="auto"?v(e.min):a!=="native"?v(f):f,r=h==="auto"?v(e.max):a!=="native"?v(h):h;var x=g?Ga():za();x.range([0,n]),i&&r&&x.domain([i,r]),p===!0?x.nice():typeof p!="object"&&typeof p!="number"||x.nice(p);var w=x;return w.type="time",w.useUTC=g,w},Sl=function(t,e,n,i){var r,o=t.base,a=o===void 0?10:o,s=t.min,l=s===void 0?"auto":s,u=t.max,f=u===void 0?"auto":u;if(e.all.some(function(m){return m===0}))throw new Error("a log scale domain must not include or cross zero");var c,h,d=!1;if(e.all.filter(function(m){return m!=null}).forEach(function(m){d||(r===void 0?r=Math.sign(m):Math.sign(m)!==r&&(d=!0))}),d)throw new Error("a log scale domain must be strictly-positive or strictly-negative");c=l==="auto"?e.min:l,h=f==="auto"?e.max:f;var g=ni().domain([c,h]).rangeRound(i==="x"?[0,n]:[n,0]).base(a).nice();return g.type="log",g},_l=function(t,e,n,i){var r,o,a=t.constant,s=a===void 0?1:a,l=t.min,u=l===void 0?"auto":l,f=t.max,c=f===void 0?"auto":f,h=t.reverse,d=h!==void 0&&h;r=u==="auto"?e.min:u,o=c==="auto"?e.max:c;var g=ri().constant(s).rangeRound(i==="x"?[0,n]:[n,0]).nice();d===!0?g.domain([o,r]):g.domain([r,o]);var m=g;return m.type="symlog",m},Al=function(t){return t==="x"?"y":"x"},jl=function(t,e){return t===e},$l=function(t,e){return t.getTime()===e.getTime()};function dr(t,e,n,i){switch(t.type){case"linear":return bl(t,e,n,i);case"point":return kl(t,e,n);case"band":return wl(t,e,n,i);case"time":return Cl(t,e,n);case"log":return Sl(t,e,n,i);case"symlog":return _l(t,e,n,i);default:throw new Error("invalid scale spec")}}var gr=function(t,e,n){var i;if("stacked"in n&&n.stacked){var r=t.data[e==="x"?"xStacked":"yStacked"];return r==null?null:n(r)}return(i=n(t.data[e]))!=null?i:null},El=function(t,e,n,i,r){var o=t.map(function(f){return function(c){return Ht({},c,{data:c.data.map(function(h){return{data:Ht({},h)}})})}(f)}),a=Fl(o,e,n);"stacked"in e&&e.stacked===!0&&Ol(a,o),"stacked"in n&&n.stacked===!0&&Dl(a,o);var s=dr(e,a.x,i,"x"),l=dr(n,a.y,r,"y"),u=o.map(function(f){return Ht({},f,{data:f.data.map(function(c){return Ht({},c,{position:{x:gr(c,"x",s),y:gr(c,"y",l)}})})})});return Ht({},a,{series:u,xScale:s,yScale:l})},Fl=function(t,e,n){return{x:mr(t,"x",e),y:mr(t,"y",n)}},mr=function(t,e,n,i){var r={},o=r.getValue,a=o===void 0?function(g){return g.data[e]}:o,s=r.setValue,l=s===void 0?function(g,m){g.data[e]=m}:s;if(n.type==="linear")t.forEach(function(g){g.data.forEach(function(m){var p=a(m);p&&l(m,parseFloat(String(p)))})});else if(n.type==="time"&&n.format!=="native"){var u=mi(n);t.forEach(function(g){g.data.forEach(function(m){var p=a(m);p&&l(m,u(p))})})}var f=[];switch(t.forEach(function(g){g.data.forEach(function(m){f.push(a(m))})}),n.type){case"linear":var c=sl(lr(f).filter(function(g){return g!==null}),function(g){return g});return{all:c,min:Math.min.apply(Math,c),max:Math.max.apply(Math,c)};case"time":var h=_s(f,function(g){return g.getTime()}).slice(0).sort(function(g,m){return m.getTime()-g.getTime()}).reverse();return{all:h,min:h[0],max:fn(h)};default:var d=lr(f);return{all:d,min:d[0],max:fn(d)}}},pi=function(t,e,n){var i=Al(t),r=[];e[i].all.forEach(function(o){var a=vl(o)?$l:jl,s=[];n.forEach(function(l){var u=l.data.find(function(d){return a(d.data[i],o)}),f=null,c=null;if(u!==void 0){if((f=u.data[t])!==null){var h=fn(s);h===void 0?c=f:h!==null&&(c=h+f)}u.data[t==="x"?"xStacked":"yStacked"]=c}s.push(c),c!==null&&r.push(c)})}),e[t].minStacked=Math.min.apply(Math,r),e[t].maxStacked=Math.max.apply(Math,r)},Ol=function(t,e){return pi("x",t,e)},Dl=function(t,e){return pi("y",t,e)},vi=function(t){var e=t.bandwidth();if(e===0)return t;var n=e/2;return t.round()&&(n=Math.round(n)),function(i){var r;return((r=t(i))!=null?r:0)+n}},yi={millisecond:[Me,Me],second:[vn,vn],minute:[si,ci],hour:[li,hi],day:[dt(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)}),dt(function(t){return t.setUTCHours(0,0,0,0)},function(t,e){return t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e.getTime()-t.getTime())/864e5},function(t){return Math.floor(t.getTime()/864e5)})],week:[qn,Kn],sunday:[qn,Kn],monday:[go,mo],tuesday:[ho,fo],wednesday:[uo,co],thursday:[so,lo],friday:[oo,ao],saturday:[ro,io],month:[ui,fi],year:[eo,no]},Pl=Object.keys(yi),Ul=new RegExp("^every\\s*(\\d+)?\\s*("+Pl.join("|")+")s?$","i"),xi=function(t,e){if(Array.isArray(e))return e;if(typeof e=="string"&&"useUTC"in t){var n=e.match(Ul);if(n){var i=n[1],r=n[2],o=yi[r][t.useUTC?1:0];if(r==="day"){var a,s,l=t.domain(),u=l[0],f=l[1],c=new Date(f);return c.setDate(c.getDate()+1),(a=(s=o.every(Number(i??1)))==null?void 0:s.range(u,c))!=null?a:[]}if(i===void 0)return t.ticks(o);var h=o.every(Number(i));if(h)return t.ticks(h)}throw new Error("Invalid tickValues: "+e)}if("ticks"in t){if(e===void 0)return t.ticks();if(typeof(d=e)=="number"&&isFinite(d)&&Math.floor(d)===d)return t.ticks(e)}var d;return t.domain()};function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ct.apply(this,arguments)}var bi=function(t){var e,n=t.axis,i=t.scale,r=t.ticksPosition,o=t.tickValues,a=t.tickSize,s=t.tickPadding,l=t.tickRotation,u=t.truncateTickAt,f=t.engine,c=f===void 0?"svg":f,h=xi(i,o),d=xo[c],g="bandwidth"in i?vi(i):i,m={lineX:0,lineY:0},p={textX:0,textY:0},v=typeof document=="object"&&document.dir==="rtl",x=d.align.center,w=d.baseline.center;return n==="x"?(e=function(T){var A;return{x:(A=g(T))!=null?A:0,y:0}},m.lineY=a*(r==="after"?1:-1),p.textY=(a+s)*(r==="after"?1:-1),w=r==="after"?d.baseline.top:d.baseline.bottom,l===0?x=d.align.center:r==="after"&&l<0||r==="before"&&l>0?(x=d.align[v?"left":"right"],w=d.baseline.center):(r==="after"&&l>0||r==="before"&&l<0)&&(x=d.align[v?"right":"left"],w=d.baseline.center)):(e=function(T){var A;return{x:0,y:(A=g(T))!=null?A:0}},m.lineX=a*(r==="after"?1:-1),p.textX=(a+s)*(r==="after"?1:-1),x=r==="after"?d.align.left:d.align.right),{ticks:h.map(function(T){var A=typeof T=="string"?function(b){var $=String(b).length;return u&&u>0&&$>u?""+String(b).slice(0,u).concat("..."):""+b}(T):T;return ct({key:T instanceof Date?""+T.valueOf():""+T,value:A},e(T),m,p)}),textAlign:x,textBaseline:w}},Mi=function(t,e){if(t===void 0||typeof t=="function")return t;if(e.type==="time"){var n=Sr(t);return function(i){return n(i instanceof Date?i:new Date(i))}}return bn(t)},yn=function(t){var e,n=t.width,i=t.height,r=t.scale,o=t.axis,a=t.values,s=(e=a,(Array.isArray(e)?a:void 0)||xi(r,a)),l="bandwidth"in r?vi(r):r,u=o==="x"?s.map(function(f){var c,h;return{key:f instanceof Date?""+f.valueOf():""+f,x1:(c=l(f))!=null?c:0,x2:(h=l(f))!=null?h:0,y1:0,y2:i}}):s.map(function(f){var c,h;return{key:f instanceof Date?""+f.valueOf():""+f,x1:0,x2:n,y1:(c=l(f))!=null?c:0,y2:(h=l(f))!=null?h:0}});return u},Bl=k.memo(function(t){var e,n=t.value,i=t.format,r=t.lineX,o=t.lineY,a=t.onClick,s=t.textBaseline,l=t.textAnchor,u=t.animatedProps,f=Pt(),c=f.axis.ticks.line,h=f.axis.ticks.text,d=(e=i==null?void 0:i(n))!=null?e:n,g=k.useMemo(function(){var m={opacity:u.opacity};return a?{style:ct({},m,{cursor:"pointer"}),onClick:function(p){return a(p,d)}}:{style:m}},[u.opacity,a,d]);return _.jsxs(oe.g,ct({transform:u.transform},g,{children:[_.jsx("line",{x1:0,x2:r,y1:0,y2:o,style:c}),h.outlineWidth>0&&_.jsx(oe.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:h,strokeWidth:2*h.outlineWidth,stroke:h.outlineColor,strokeLinejoin:"round",children:""+d}),_.jsx(oe.text,{dominantBaseline:s,textAnchor:l,transform:u.textTransform,style:yo(h),children:""+d})]}))}),Wl=function(t){var e=t.axis,n=t.scale,i=t.x,r=i===void 0?0:i,o=t.y,a=o===void 0?0:o,s=t.length,l=t.ticksPosition,u=t.tickValues,f=t.tickSize,c=f===void 0?5:f,h=t.tickPadding,d=h===void 0?5:h,g=t.tickRotation,m=g===void 0?0:g,p=t.format,v=t.renderTick,x=v===void 0?Bl:v,w=t.truncateTickAt,T=t.legend,A=t.legendPosition,b=A===void 0?"end":A,$=t.legendOffset,j=$===void 0?0:$,y=t.onClick,M=t.ariaHidden,C=Pt(),E=C.axis.legend.text,S=k.useMemo(function(){return Mi(p,n)},[p,n]),P=bi({axis:e,scale:n,ticksPosition:l,tickValues:u,tickSize:c,tickPadding:d,tickRotation:m,truncateTickAt:w}),B=P.ticks,F=P.textAlign,Y=P.textBaseline,I=null;if(T!==void 0){var O,L=0,z=0,tt=0;e==="y"?(tt=-90,L=j,b==="start"?(O="start",z=s):b==="middle"?(O="middle",z=s/2):b==="end"&&(O="end")):(z=j,b==="start"?O="start":b==="middle"?(O="middle",L=s/2):b==="end"&&(O="end",L=s)),I=_.jsxs(_.Fragment,{children:[E.outlineWidth>0&&_.jsx("text",{transform:"translate("+L+", "+z+") rotate("+tt+")",textAnchor:O,style:ct({dominantBaseline:"central"},E),strokeWidth:2*E.outlineWidth,stroke:E.outlineColor,strokeLinejoin:"round",children:T}),_.jsx("text",{transform:"translate("+L+", "+z+") rotate("+tt+")",textAnchor:O,style:ct({dominantBaseline:"central"},E),children:T})]})}var ot=Mn(),at=ot.animate,ht=ot.config,R=Ir({transform:"translate("+r+","+a+")",lineX2:e==="x"?s:0,lineY2:e==="x"?0:s,config:ht,immediate:!at}),X=k.useCallback(function(N){return{opacity:1,transform:"translate("+N.x+","+N.y+")",textTransform:"translate("+N.textX+","+N.textY+") rotate("+m+")"}},[m]),D=k.useCallback(function(N){return{opacity:0,transform:"translate("+N.x+","+N.y+")",textTransform:"translate("+N.textX+","+N.textY+") rotate("+m+")"}},[m]),U=Yr(B,{keys:function(N){return N.key},initial:X,from:D,enter:X,update:X,leave:{opacity:0},config:ht,immediate:!at});return _.jsxs(oe.g,{transform:R.transform,"aria-hidden":M,children:[U(function(N,q,Q,G){return k.createElement(x,ct({tickIndex:G,format:S,rotate:m,textBaseline:Y,textAnchor:F,truncateTickAt:w,animatedProps:N},q,y?{onClick:y}:{}))}),_.jsx(oe.line,{style:C.axis.domain.line,x1:0,x2:R.lineX2,y1:0,y2:R.lineY2}),I]})},Yl=k.memo(Wl),ki=["top","right","bottom","left"],Il=k.memo(function(t){var e=t.xScale,n=t.yScale,i=t.width,r=t.height,o={top:t.top,right:t.right,bottom:t.bottom,left:t.left};return _.jsx(_.Fragment,{children:ki.map(function(a){var s=o[a];if(!s)return null;var l=a==="top"||a==="bottom";return _.jsx(Yl,ct({},s,{axis:l?"x":"y",x:a==="right"?i:0,y:a==="bottom"?r:0,scale:l?e:n,length:l?i:r,ticksPosition:a==="top"||a==="left"?"before":"after",truncateTickAt:s.truncateTickAt}),a)})})}),Ll=k.memo(function(t){var e=t.animatedProps,n=Pt();return _.jsx(oe.line,ct({},e,n.grid.line))}),pr=k.memo(function(t){var e=t.lines,n=Mn(),i=n.animate,r=n.config,o=Yr(e,{keys:function(a){return a.key},initial:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},from:function(a){return{opacity:0,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},enter:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},update:function(a){return{opacity:1,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2}},leave:{opacity:0},config:r,immediate:!i});return _.jsx("g",{children:o(function(a,s){return k.createElement(Ll,ct({},s,{key:s.key,animatedProps:a}))})})}),Nl=k.memo(function(t){var e=t.width,n=t.height,i=t.xScale,r=t.yScale,o=t.xValues,a=t.yValues,s=k.useMemo(function(){return!!i&&yn({width:e,height:n,scale:i,axis:"x",values:o})},[i,o,e,n]),l=k.useMemo(function(){return!!r&&yn({width:e,height:n,scale:r,axis:"y",values:a})},[n,e,r,a]);return _.jsxs(_.Fragment,{children:[s&&_.jsx(pr,{lines:s}),l&&_.jsx(pr,{lines:l})]})}),Rl=function(t,e){var n,i=e.axis,r=e.scale,o=e.x,a=o===void 0?0:o,s=e.y,l=s===void 0?0:s,u=e.length,f=e.ticksPosition,c=e.tickValues,h=e.tickSize,d=h===void 0?5:h,g=e.tickPadding,m=g===void 0?5:g,p=e.tickRotation,v=p===void 0?0:p,x=e.format,w=e.legend,T=e.legendPosition,A=T===void 0?"end":T,b=e.legendOffset,$=b===void 0?0:b,j=e.theme,y=bi({axis:i,scale:r,ticksPosition:f,tickValues:c,tickSize:d,tickPadding:m,tickRotation:v,engine:"canvas"}),M=y.ticks,C=y.textAlign,E=y.textBaseline;t.save(),t.translate(a,l),t.textAlign=C,t.textBaseline=E;var S=j.axis.ticks.text;t.font=(S.fontWeight?S.fontWeight+" ":"")+S.fontSize+"px "+S.fontFamily,((n=j.axis.domain.line.strokeWidth)!=null?n:0)>0&&(t.lineWidth=Number(j.axis.domain.line.strokeWidth),t.lineCap="square",j.axis.domain.line.stroke&&(t.strokeStyle=j.axis.domain.line.stroke),t.beginPath(),t.moveTo(0,0),t.lineTo(i==="x"?u:0,i==="x"?0:u),t.stroke());var P=typeof x=="function"?x:function(O){return""+O};if(M.forEach(function(O){var L;((L=j.axis.ticks.line.strokeWidth)!=null?L:0)>0&&(t.lineWidth=Number(j.axis.ticks.line.strokeWidth),t.lineCap="square",j.axis.ticks.line.stroke&&(t.strokeStyle=j.axis.ticks.line.stroke),t.beginPath(),t.moveTo(O.x,O.y),t.lineTo(O.x+O.lineX,O.y+O.lineY),t.stroke());var z=P(O.value);t.save(),t.translate(O.x+O.textX,O.y+O.textY),t.rotate(Jn(v)),S.outlineWidth>0&&(t.strokeStyle=S.outlineColor,t.lineWidth=2*S.outlineWidth,t.lineJoin="round",t.strokeText(""+z,0,0)),j.axis.ticks.text.fill&&(t.fillStyle=S.fill),t.fillText(""+z,0,0),t.restore()}),w!==void 0){var B=0,F=0,Y=0,I="center";i==="y"?(Y=-90,B=$,A==="start"?(I="start",F=u):A==="middle"?(I="center",F=u/2):A==="end"&&(I="end")):(F=$,A==="start"?I="start":A==="middle"?(I="center",B=u/2):A==="end"&&(I="end",B=u)),t.translate(B,F),t.rotate(Jn(Y)),t.font=(j.axis.legend.text.fontWeight?j.axis.legend.text.fontWeight+" ":"")+j.axis.legend.text.fontSize+"px "+j.axis.legend.text.fontFamily,j.axis.legend.text.fill&&(t.fillStyle=j.axis.legend.text.fill),t.textAlign=I,t.textBaseline="middle",t.fillText(w,0,0)}t.restore()},Hl=function(t,e){var n=e.xScale,i=e.yScale,r=e.width,o=e.height,a=e.top,s=e.right,l=e.bottom,u=e.left,f=e.theme,c={top:a,right:s,bottom:l,left:u};ki.forEach(function(h){var d=c[h];if(!d)return null;var g=h==="top"||h==="bottom",m=h==="top"||h==="left"?"before":"after",p=g?n:i,v=Mi(d.format,p);Rl(t,ct({},d,{axis:g?"x":"y",x:h==="right"?r:0,y:h==="bottom"?o:0,scale:p,format:v,length:g?r:o,ticksPosition:m,theme:f}))})},vr=function(t,e){var n=e.width,i=e.height,r=e.scale,o=e.axis,a=e.values;yn({width:n,height:i,scale:r,axis:o,values:a}).forEach(function(s){t.beginPath(),t.moveTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.stroke()})},zl=zo,Gl=0;function Vl(t){var e=++Gl;return zl(t)+e}var Xl=Vl;const ql=ke(Xl);var wi=/^--/;function Kl(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!wi.test(t)&&!(ye.hasOwnProperty(t)&&ye[t])?e+"px":(""+e).trim()}var yr={};function Jl(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:i,style:r,children:o,scrollTop:a,scrollLeft:s,viewBox:l,...u}=e,f=Object.values(u),c=Object.keys(u).map(h=>n||t.hasAttribute(h)?h:yr[h]||(yr[h]=h.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));o!==void 0&&(t.textContent=o);for(const h in r)if(r.hasOwnProperty(h)){const d=Kl(h,r[h]);wi.test(h)?t.style.setProperty(h,d):t.style[h]=d}c.forEach((h,d)=>{t.setAttribute(h,f[d])}),i!==void 0&&(t.className=i),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),l!==void 0&&t.setAttribute("viewBox",l)}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ql=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Zl=["Webkit","Ms","Moz","O"];ye=Object.keys(ye).reduce((t,e)=>(Zl.forEach(n=>t[Ql(n,e)]=t[e]),t),ye);var tu=/^(matrix|translate|scale|rotate|skew)/,eu=/^(translate)/,nu=/^(rotate|skew)/,ln=(t,e)=>xt.num(t)&&t!==0?t+e:t,We=(t,e)=>xt.arr(t)?t.every(n=>We(n,e)):xt.num(t)?t===e:parseFloat(t)===e,ru=class extends Fr{constructor({x:t,y:e,z:n,...i}){const r=[],o=[];(t||e||n)&&(r.push([t||0,e||0,n||0]),o.push(a=>[`translate3d(${a.map(s=>ln(s,"px")).join(",")})`,We(a,0)])),Or(i,(a,s)=>{if(s==="transform")r.push([a||""]),o.push(l=>[l,l===""]);else if(tu.test(s)){if(delete i[s],xt.und(a))return;const l=eu.test(s)?"px":nu.test(s)?"deg":"";r.push(Dr(a)),o.push(s==="rotate3d"?([u,f,c,h])=>[`rotate3d(${u},${f},${c},${ln(h,l)})`,We(h,0)]:u=>[`${s}(${u.map(f=>ln(f,l)).join(",")})`,We(u,s.startsWith("scale")?1:0)])}}),r.length&&(i.transform=new iu(r,o)),super(i)}},iu=class extends Pr{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return yt(this.inputs,(n,i)=>{const r=Le(n[0]),[o,a]=this.transforms[i](xt.arr(r)?r:n.map(Le));t+=" "+o,e=e&&a}),e?"none":t}observerAdded(t){t==1&&yt(this.inputs,e=>yt(e,n=>Ne(n)&&Ur(n,this)))}observerRemoved(t){t==0&&yt(this.inputs,e=>yt(e,n=>Ne(n)&&Br(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Wr(this,t)}},ou=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Ar.assign({batchedUpdates:Tr.unstable_batchedUpdates,createStringInterpolator:$r,colors:jr});var au=Er(ou,{applyAnimatedValues:Jl,createAnimatedStyle:t=>new ru(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),Ti=au.animated;const At=11102230246251565e-32,Z=134217729,su=(3+8*At)*At;function un(t,e,n,i,r){let o,a,s,l,u=e[0],f=i[0],c=0,h=0;f>u==f>-u?(o=u,u=e[++c]):(o=f,f=i[++h]);let d=0;if(c<t&&h<n)for(f>u==f>-u?(a=u+o,s=o-(a-u),u=e[++c]):(a=f+o,s=o-(a-f),f=i[++h]),o=a,s!==0&&(r[d++]=s);c<t&&h<n;)f>u==f>-u?(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++c]):(a=o+f,l=a-o,s=o-(a-l)+(f-l),f=i[++h]),o=a,s!==0&&(r[d++]=s);for(;c<t;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=e[++c],o=a,s!==0&&(r[d++]=s);for(;h<n;)a=o+f,l=a-o,s=o-(a-l)+(f-l),f=i[++h],o=a,s!==0&&(r[d++]=s);return(o!==0||d===0)&&(r[d++]=o),d}function lu(t,e){let n=e[0];for(let i=1;i<t;i++)n+=e[i];return n}function we(t){return new Float64Array(t)}const uu=(3+16*At)*At,cu=(2+12*At)*At,hu=(9+64*At)*At*At,ee=we(4),xr=we(8),br=we(12),Mr=we(16),et=we(4);function fu(t,e,n,i,r,o,a){let s,l,u,f,c,h,d,g,m,p,v,x,w,T,A,b,$,j;const y=t-r,M=n-r,C=e-o,E=i-o;T=y*E,h=Z*y,d=h-(h-y),g=y-d,h=Z*E,m=h-(h-E),p=E-m,A=g*p-(T-d*m-g*m-d*p),b=C*M,h=Z*C,d=h-(h-C),g=C-d,h=Z*M,m=h-(h-M),p=M-m,$=g*p-(b-d*m-g*m-d*p),v=A-$,c=A-v,ee[0]=A-(v+c)+(c-$),x=T+v,c=x-T,w=T-(x-c)+(v-c),v=w-b,c=w-v,ee[1]=w-(v+c)+(c-b),j=x+v,c=j-x,ee[2]=x-(j-c)+(v-c),ee[3]=j;let S=lu(4,ee),P=cu*a;if(S>=P||-S>=P||(c=t-y,s=t-(y+c)+(c-r),c=n-M,u=n-(M+c)+(c-r),c=e-C,l=e-(C+c)+(c-o),c=i-E,f=i-(E+c)+(c-o),s===0&&l===0&&u===0&&f===0)||(P=hu*a+su*Math.abs(S),S+=y*f+E*s-(C*u+M*l),S>=P||-S>=P))return S;T=s*E,h=Z*s,d=h-(h-s),g=s-d,h=Z*E,m=h-(h-E),p=E-m,A=g*p-(T-d*m-g*m-d*p),b=l*M,h=Z*l,d=h-(h-l),g=l-d,h=Z*M,m=h-(h-M),p=M-m,$=g*p-(b-d*m-g*m-d*p),v=A-$,c=A-v,et[0]=A-(v+c)+(c-$),x=T+v,c=x-T,w=T-(x-c)+(v-c),v=w-b,c=w-v,et[1]=w-(v+c)+(c-b),j=x+v,c=j-x,et[2]=x-(j-c)+(v-c),et[3]=j;const B=un(4,ee,4,et,xr);T=y*f,h=Z*y,d=h-(h-y),g=y-d,h=Z*f,m=h-(h-f),p=f-m,A=g*p-(T-d*m-g*m-d*p),b=C*u,h=Z*C,d=h-(h-C),g=C-d,h=Z*u,m=h-(h-u),p=u-m,$=g*p-(b-d*m-g*m-d*p),v=A-$,c=A-v,et[0]=A-(v+c)+(c-$),x=T+v,c=x-T,w=T-(x-c)+(v-c),v=w-b,c=w-v,et[1]=w-(v+c)+(c-b),j=x+v,c=j-x,et[2]=x-(j-c)+(v-c),et[3]=j;const F=un(B,xr,4,et,br);T=s*f,h=Z*s,d=h-(h-s),g=s-d,h=Z*f,m=h-(h-f),p=f-m,A=g*p-(T-d*m-g*m-d*p),b=l*u,h=Z*l,d=h-(h-l),g=l-d,h=Z*u,m=h-(h-u),p=u-m,$=g*p-(b-d*m-g*m-d*p),v=A-$,c=A-v,et[0]=A-(v+c)+(c-$),x=T+v,c=x-T,w=T-(x-c)+(v-c),v=w-b,c=w-v,et[1]=w-(v+c)+(c-b),j=x+v,c=j-x,et[2]=x-(j-c)+(v-c),et[3]=j;const Y=un(F,br,4,et,Mr);return Mr[Y-1]}function De(t,e,n,i,r,o){const a=(e-o)*(n-r),s=(t-r)*(i-o),l=a-s,u=Math.abs(a+s);return Math.abs(l)>=uu*u?l:-fu(t,e,n,i,r,o,u)}const kr=Math.pow(2,-52),Pe=new Uint32Array(512);class Ve{static from(e,n=vu,i=yu){const r=e.length,o=new Float64Array(r*2);for(let a=0;a<r;a++){const s=e[a];o[2*a]=n(s),o[2*a+1]=i(s)}return new Ve(o)}constructor(e){const n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*n-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:e,_hullPrev:n,_hullNext:i,_hullTri:r,_hullHash:o}=this,a=e.length>>1;let s=1/0,l=1/0,u=-1/0,f=-1/0;for(let y=0;y<a;y++){const M=e[2*y],C=e[2*y+1];M<s&&(s=M),C<l&&(l=C),M>u&&(u=M),C>f&&(f=C),this._ids[y]=y}const c=(s+u)/2,h=(l+f)/2;let d,g,m;for(let y=0,M=1/0;y<a;y++){const C=cn(c,h,e[2*y],e[2*y+1]);C<M&&(d=y,M=C)}const p=e[2*d],v=e[2*d+1];for(let y=0,M=1/0;y<a;y++){if(y===d)continue;const C=cn(p,v,e[2*y],e[2*y+1]);C<M&&C>0&&(g=y,M=C)}let x=e[2*g],w=e[2*g+1],T=1/0;for(let y=0;y<a;y++){if(y===d||y===g)continue;const M=mu(p,v,x,w,e[2*y],e[2*y+1]);M<T&&(m=y,T=M)}let A=e[2*m],b=e[2*m+1];if(T===1/0){for(let C=0;C<a;C++)this._dists[C]=e[2*C]-e[0]||e[2*C+1]-e[1];ie(this._ids,this._dists,0,a-1);const y=new Uint32Array(a);let M=0;for(let C=0,E=-1/0;C<a;C++){const S=this._ids[C],P=this._dists[S];P>E&&(y[M++]=S,E=P)}this.hull=y.subarray(0,M),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(De(p,v,x,w,A,b)<0){const y=g,M=x,C=w;g=m,x=A,w=b,m=y,A=M,b=C}const $=pu(p,v,x,w,A,b);this._cx=$.x,this._cy=$.y;for(let y=0;y<a;y++)this._dists[y]=cn(e[2*y],e[2*y+1],$.x,$.y);ie(this._ids,this._dists,0,a-1),this._hullStart=d;let j=3;i[d]=n[m]=g,i[g]=n[d]=m,i[m]=n[g]=d,r[d]=0,r[g]=1,r[m]=2,o.fill(-1),o[this._hashKey(p,v)]=d,o[this._hashKey(x,w)]=g,o[this._hashKey(A,b)]=m,this.trianglesLen=0,this._addTriangle(d,g,m,-1,-1,-1);for(let y=0,M,C;y<this._ids.length;y++){const E=this._ids[y],S=e[2*E],P=e[2*E+1];if(y>0&&Math.abs(S-M)<=kr&&Math.abs(P-C)<=kr||(M=S,C=P,E===d||E===g||E===m))continue;let B=0;for(let L=0,z=this._hashKey(S,P);L<this._hashSize&&(B=o[(z+L)%this._hashSize],!(B!==-1&&B!==i[B]));L++);B=n[B];let F=B,Y;for(;Y=i[F],De(S,P,e[2*F],e[2*F+1],e[2*Y],e[2*Y+1])>=0;)if(F=Y,F===B){F=-1;break}if(F===-1)continue;let I=this._addTriangle(F,E,i[F],-1,-1,r[F]);r[E]=this._legalize(I+2),r[F]=I,j++;let O=i[F];for(;Y=i[O],De(S,P,e[2*O],e[2*O+1],e[2*Y],e[2*Y+1])<0;)I=this._addTriangle(O,E,Y,r[E],-1,r[O]),r[E]=this._legalize(I+2),i[O]=O,j--,O=Y;if(F===B)for(;Y=n[F],De(S,P,e[2*Y],e[2*Y+1],e[2*F],e[2*F+1])<0;)I=this._addTriangle(Y,E,F,-1,r[F],r[Y]),this._legalize(I+2),r[Y]=I,i[F]=F,j--,F=Y;this._hullStart=n[E]=F,i[F]=n[O]=E,i[E]=O,o[this._hashKey(S,P)]=E,o[this._hashKey(e[2*F],e[2*F+1])]=F}this.hull=new Uint32Array(j);for(let y=0,M=this._hullStart;y<j;y++)this.hull[y]=M,M=i[M];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(du(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:n,_halfedges:i,coords:r}=this;let o=0,a=0;for(;;){const s=i[e],l=e-e%3;if(a=l+(e+2)%3,s===-1){if(o===0)break;e=Pe[--o];continue}const u=s-s%3,f=l+(e+1)%3,c=u+(s+2)%3,h=n[a],d=n[e],g=n[f],m=n[c];if(gu(r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1],r[2*m],r[2*m+1])){n[e]=m,n[s]=h;const v=i[c];if(v===-1){let w=this._hullStart;do{if(this._hullTri[w]===c){this._hullTri[w]=e;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(e,v),this._link(s,i[a]),this._link(a,c);const x=u+(s+1)%3;o<Pe.length&&(Pe[o++]=x)}else{if(o===0)break;e=Pe[--o]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,i,r,o,a){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=n,this._triangles[s+2]=i,this._link(s,r),this._link(s+1,o),this._link(s+2,a),this.trianglesLen+=3,s}}function du(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function cn(t,e,n,i){const r=t-n,o=e-i;return r*r+o*o}function gu(t,e,n,i,r,o,a,s){const l=t-a,u=e-s,f=n-a,c=i-s,h=r-a,d=o-s,g=l*l+u*u,m=f*f+c*c,p=h*h+d*d;return l*(c*p-m*d)-u*(f*p-m*h)+g*(f*d-c*h)<0}function mu(t,e,n,i,r,o){const a=n-t,s=i-e,l=r-t,u=o-e,f=a*a+s*s,c=l*l+u*u,h=.5/(a*u-s*l),d=(u*f-s*c)*h,g=(a*c-l*f)*h;return d*d+g*g}function pu(t,e,n,i,r,o){const a=n-t,s=i-e,l=r-t,u=o-e,f=a*a+s*s,c=l*l+u*u,h=.5/(a*u-s*l),d=t+(u*f-s*c)*h,g=e+(a*c-l*f)*h;return{x:d,y:g}}function ie(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const o=t[r],a=e[o];let s=r-1;for(;s>=n&&e[t[s]]>a;)t[s+1]=t[s--];t[s+1]=o}else{const r=n+i>>1;let o=n+1,a=i;pe(t,r,o),e[t[n]]>e[t[i]]&&pe(t,n,i),e[t[o]]>e[t[i]]&&pe(t,o,i),e[t[n]]>e[t[o]]&&pe(t,n,o);const s=t[o],l=e[s];for(;;){do o++;while(e[t[o]]<l);do a--;while(e[t[a]]>l);if(a<o)break;pe(t,o,a)}t[n+1]=t[a],t[a]=s,i-o+1>=a-n?(ie(t,e,o,i),ie(t,e,n,a-1)):(ie(t,e,n,a-1),ie(t,e,o,i))}}function pe(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function vu(t){return t[0]}function yu(t){return t[1]}const wr=1e-6;class Gt{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,i){e=+e,n=+n,i=+i;const r=e+i,o=n;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${o}`:(Math.abs(this._x1-r)>wr||Math.abs(this._y1-o)>wr)&&(this._+="L"+r+","+o),i&&(this._+=`A${i},${i},0,1,1,${e-i},${n}A${i},${i},0,1,1,${this._x1=r},${this._y1=o}`)}rect(e,n,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class xn{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}}class xu{constructor(e,[n,i,r,o]=[0,0,960,500]){if(!((r=+r)>=(n=+n))||!((o=+o)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=n,this.ymax=o,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:n,triangles:i},vectors:r}=this;let o,a;const s=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let m=0,p=0,v=i.length,x,w;m<v;m+=3,p+=2){const T=i[m]*2,A=i[m+1]*2,b=i[m+2]*2,$=e[T],j=e[T+1],y=e[A],M=e[A+1],C=e[b],E=e[b+1],S=y-$,P=M-j,B=C-$,F=E-j,Y=(S*F-P*B)*2;if(Math.abs(Y)<1e-9){if(o===void 0){o=a=0;for(const O of n)o+=e[O*2],a+=e[O*2+1];o/=n.length,a/=n.length}const I=1e9*Math.sign((o-$)*F-(a-j)*B);x=($+C)/2-I*F,w=(j+E)/2+I*B}else{const I=1/Y,O=S*S+P*P,L=B*B+F*F;x=$+(F*O-P*L)*I,w=j+(S*L-B*O)*I}s[p]=x,s[p+1]=w}let l=n[n.length-1],u,f=l*4,c,h=e[2*l],d,g=e[2*l+1];r.fill(0);for(let m=0;m<n.length;++m)l=n[m],u=f,c=h,d=g,f=l*4,h=e[2*l],g=e[2*l+1],r[u+2]=r[f]=d-g,r[u+3]=r[f+1]=h-c}render(e){const n=e==null?e=new Gt:void 0,{delaunay:{halfedges:i,inedges:r,hull:o},circumcenters:a,vectors:s}=this;if(o.length<=1)return null;for(let f=0,c=i.length;f<c;++f){const h=i[f];if(h<f)continue;const d=Math.floor(f/3)*2,g=Math.floor(h/3)*2,m=a[d],p=a[d+1],v=a[g],x=a[g+1];this._renderSegment(m,p,v,x,e)}let l,u=o[o.length-1];for(let f=0;f<o.length;++f){l=u,u=o[f];const c=Math.floor(r[u]/3)*2,h=a[c],d=a[c+1],g=l*4,m=this._project(h,d,s[g+2],s[g+3]);m&&this._renderSegment(h,d,m[0],m[1],e)}return n&&n.value()}renderBounds(e){const n=e==null?e=new Gt:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){const i=n==null?n=new Gt:void 0,r=this._clip(e);if(r===null||!r.length)return;n.moveTo(r[0],r[1]);let o=r.length;for(;r[0]===r[o-2]&&r[1]===r[o-1]&&o>1;)o-=2;for(let a=2;a<o;a+=2)(r[a]!==r[a-2]||r[a+1]!==r[a-1])&&n.lineTo(r[a],r[a+1]);return n.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let n=0,i=e.length/2;n<i;++n){const r=this.cellPolygon(n);r&&(r.index=n,yield r)}}cellPolygon(e){const n=new xn;return this.renderCell(e,n),n.value()}_renderSegment(e,n,i,r,o){let a;const s=this._regioncode(e,n),l=this._regioncode(i,r);s===0&&l===0?(o.moveTo(e,n),o.lineTo(i,r)):(a=this._clipSegment(e,n,i,r,s,l))&&(o.moveTo(a[0],a[1]),o.lineTo(a[2],a[3]))}contains(e,n,i){return n=+n,n!==n||(i=+i,i!==i)?!1:this.delaunay._step(e,n,i)===e}*neighbors(e){const n=this._clip(e);if(n)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r){t:for(let o=0,a=n.length;o<a;o+=2)for(let s=0,l=r.length;s<l;s+=2)if(n[o]===r[s]&&n[o+1]===r[s+1]&&n[(o+2)%a]===r[(s+l-2)%l]&&n[(o+3)%a]===r[(s+l-1)%l]){yield i;break t}}}}_cell(e){const{circumcenters:n,delaunay:{inedges:i,halfedges:r,triangles:o}}=this,a=i[e];if(a===-1)return null;const s=[];let l=a;do{const u=Math.floor(l/3);if(s.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=r[l]}while(l!==a&&l!==-1);return s}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(e);if(n===null)return null;const{vectors:i}=this,r=e*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(e,n,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,n))}_clipFinite(e,n){const i=n.length;let r=null,o,a,s=n[i-2],l=n[i-1],u,f=this._regioncode(s,l),c,h=0;for(let d=0;d<i;d+=2)if(o=s,a=l,s=n[d],l=n[d+1],u=f,f=this._regioncode(s,l),u===0&&f===0)c=h,h=0,r?r.push(s,l):r=[s,l];else{let g,m,p,v,x;if(u===0){if((g=this._clipSegment(o,a,s,l,u,f))===null)continue;[m,p,v,x]=g}else{if((g=this._clipSegment(s,l,o,a,f,u))===null)continue;[v,x,m,p]=g,c=h,h=this._edgecode(m,p),c&&h&&this._edge(e,c,h,r,r.length),r?r.push(m,p):r=[m,p]}c=h,h=this._edgecode(v,x),c&&h&&this._edge(e,c,h,r,r.length),r?r.push(v,x):r=[v,x]}if(r)c=h,h=this._edgecode(r[0],r[1]),c&&h&&this._edge(e,c,h,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,n,i,r,o,a){const s=o<a;for(s&&([e,n,i,r,o,a]=[i,r,e,n,a,o]);;){if(o===0&&a===0)return s?[i,r,e,n]:[e,n,i,r];if(o&a)return null;let l,u,f=o||a;f&8?(l=e+(i-e)*(this.ymax-n)/(r-n),u=this.ymax):f&4?(l=e+(i-e)*(this.ymin-n)/(r-n),u=this.ymin):f&2?(u=n+(r-n)*(this.xmax-e)/(i-e),l=this.xmax):(u=n+(r-n)*(this.xmin-e)/(i-e),l=this.xmin),o?(e=l,n=u,o=this._regioncode(e,n)):(i=l,r=u,a=this._regioncode(i,r))}}_clipInfinite(e,n,i,r,o,a){let s=Array.from(n),l;if((l=this._project(s[0],s[1],i,r))&&s.unshift(l[0],l[1]),(l=this._project(s[s.length-2],s[s.length-1],o,a))&&s.push(l[0],l[1]),s=this._clipFinite(e,s))for(let u=0,f=s.length,c,h=this._edgecode(s[f-2],s[f-1]);u<f;u+=2)c=h,h=this._edgecode(s[u],s[u+1]),c&&h&&(u=this._edge(e,c,h,s,u),f=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,n,i,r,o){for(;n!==i;){let a,s;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,s=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,s=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,s=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,s=this.ymin;break}(r[o]!==a||r[o+1]!==s)&&this.contains(e,a,s)&&(r.splice(o,0,a,s),o+=2)}return o}_project(e,n,i,r){let o=1/0,a,s,l;if(r<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/r)<o&&(l=this.ymin,s=e+(o=a)*i)}else if(r>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/r)<o&&(l=this.ymax,s=e+(o=a)*i)}if(i>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/i)<o&&(s=this.xmax,l=n+(o=a)*r)}else if(i<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/i)<o&&(s=this.xmin,l=n+(o=a)*r)}return[s,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){const i=(n+2)%e.length,r=(n+4)%e.length;(e[n]===e[i]&&e[i]===e[r]||e[n+1]===e[i+1]&&e[i+1]===e[r+1])&&(e.splice(i,2),n-=2)}e.length||(e=null)}return e}}const bu=2*Math.PI,ne=Math.pow;function Mu(t){return t[0]}function ku(t){return t[1]}function wu(t){const{triangles:e,coords:n}=t;for(let i=0;i<e.length;i+=3){const r=2*e[i],o=2*e[i+1],a=2*e[i+2];if((n[a]-n[r])*(n[o+1]-n[r+1])-(n[o]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}function Tu(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Bn{static from(e,n=Mu,i=ku,r){return new Bn("length"in e?Cu(e,n,i,r):Float64Array.from(Su(e,n,i,r)))}constructor(e){this._delaunator=new Ve(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&wu(e)){this.collinear=Int32Array.from({length:n.length/2},(h,d)=>d).sort((h,d)=>n[2*h]-n[2*d]||n[2*h+1]-n[2*d+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],f=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],c=1e-8*Math.hypot(f[3]-f[1],f[2]-f[0]);for(let h=0,d=n.length/2;h<d;++h){const g=Tu(n[2*h],n[2*h+1],c);n[2*h]=g[0],n[2*h+1]=g[1]}this._delaunator=new Ve(n)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let l=0,u=i.length;l<u;++l){const f=o[l%3===2?l-2:l+1];(i[l]===-1||a[f]===-1)&&(a[f]=l)}for(let l=0,u=r.length;l<u;++l)s[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,r.length===2&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new xu(this,e)}*neighbors(e){const{inedges:n,hull:i,_hullIndex:r,halfedges:o,triangles:a,collinear:s}=this;if(s){const c=s.indexOf(e);c>0&&(yield s[c-1]),c<s.length-1&&(yield s[c+1]);return}const l=n[e];if(l===-1)return;let u=l,f=-1;do{if(yield f=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=o[u],u===-1){const c=i[(r[e]+1)%i.length];c!==f&&(yield c);return}}while(u!==l)}find(e,n,i=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;const r=i;let o;for(;(o=this._step(i,e,n))>=0&&o!==i&&o!==r;)i=o;return o}_step(e,n,i){const{inedges:r,hull:o,_hullIndex:a,halfedges:s,triangles:l,points:u}=this;if(r[e]===-1||!u.length)return(e+1)%(u.length>>1);let f=e,c=ne(n-u[e*2],2)+ne(i-u[e*2+1],2);const h=r[e];let d=h;do{let g=l[d];const m=ne(n-u[g*2],2)+ne(i-u[g*2+1],2);if(m<c&&(c=m,f=g),d=d%3===2?d-2:d+1,l[d]!==e)break;if(d=s[d],d===-1){if(d=o[(a[e]+1)%o.length],d!==g&&ne(n-u[d*2],2)+ne(i-u[d*2+1],2)<c)return d;break}}while(d!==h);return f}render(e){const n=e==null?e=new Gt:void 0,{points:i,halfedges:r,triangles:o}=this;for(let a=0,s=r.length;a<s;++a){const l=r[a];if(l<a)continue;const u=o[a]*2,f=o[l]*2;e.moveTo(i[u],i[u+1]),e.lineTo(i[f],i[f+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;const i=e==null?e=new Gt:void 0,{points:r}=this;for(let o=0,a=r.length;o<a;o+=2){const s=r[o],l=r[o+1];e.moveTo(s+n,l),e.arc(s,l,n,0,bu)}return i&&i.value()}renderHull(e){const n=e==null?e=new Gt:void 0,{hull:i,points:r}=this,o=i[0]*2,a=i.length;e.moveTo(r[o],r[o+1]);for(let s=1;s<a;++s){const l=2*i[s];e.lineTo(r[l],r[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){const e=new xn;return this.renderHull(e),e.value()}renderTriangle(e,n){const i=n==null?n=new Gt:void 0,{points:r,triangles:o}=this,a=o[e*=3]*2,s=o[e+1]*2,l=o[e+2]*2;return n.moveTo(r[a],r[a+1]),n.lineTo(r[s],r[s+1]),n.lineTo(r[l],r[l+1]),n.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let n=0,i=e.length/3;n<i;++n)yield this.trianglePolygon(n)}trianglePolygon(e){const n=new xn;return this.renderTriangle(e,n),n.value()}}function Cu(t,e,n,i){const r=t.length,o=new Float64Array(r*2);for(let a=0;a<r;++a){const s=t[a];o[a*2]=e.call(i,s,a,t),o[a*2+1]=n.call(i,s,a,t)}return o}function*Su(t,e,n,i){let r=0;for(const o of t)yield e.call(i,o,r,t),yield n.call(i,o,r,t),++r}var Wn=function(t){return[t.x,t.y]},Te=bo,Ci="cursor",Si="top",_u=function(t){var e=t.points,n=t.getNodePosition,i=n===void 0?Wn:n,r=t.margin,o=r===void 0?Te:r;return e.map(function(a){var s=i(a),l=s[0],u=s[1];return[l+o.left,u+o.top]})},Au=function(t){var e=t.points,n=t.width,i=t.height,r=t.margin,o=r===void 0?Te:r,a=t.debug,s=Bn.from(e),l=a?s.voronoi([0,0,o.left+n+o.right,o.top+i+o.bottom]):void 0;return{points:e,delaunay:s,voronoi:l}},_i=function(t){var e=t.points,n=t.getNodePosition,i=n===void 0?Wn:n,r=t.width,o=t.height,a=t.margin,s=a===void 0?Te:a,l=t.debug;return k.useMemo(function(){return Au({points:_u({points:e,margin:s,getNodePosition:i}),width:r,height:o,margin:s,debug:l})},[e,r,o,s,l])},ju=function(t){var e=t.elementRef,n=t.nodes,i=t.getNodePosition,r=i===void 0?Wn:i,o=t.delaunay,a=t.setCurrent,s=t.margin,l=s===void 0?Te:s,u=t.detectionRadius,f=u===void 0?1/0:u,c=t.isInteractive,h=c===void 0||c,d=t.onMouseEnter,g=t.onMouseMove,m=t.onMouseLeave,p=t.onClick,v=t.onTouchStart,x=t.onTouchMove,w=t.onTouchEnd,T=t.enableTouchCrosshair,A=T!==void 0&&T,b=t.tooltip,$=t.tooltipPosition,j=$===void 0?Ci:$,y=t.tooltipAnchor,M=y===void 0?Si:y,C=k.useState(null),E=C[0],S=C[1],P=k.useRef(null);k.useEffect(function(){P.current=E},[P,E]);var B=k.useCallback(function(D){if(!e.current)return null;var U=Lr(e.current,D),N=U[0],q=U[1],Q=o.find(N,q),G=Q!==void 0?n[Q]:null;if(G&&f!==1/0){var K=r(G),bt=K[0],rt=K[1];Mo(N,q,bt+l.left,rt+l.top)>f&&(Q=null,G=null)}return Q===null||G===null?null:[Q,G]},[e,o,n,r,l,f]),F=Xe(),Y=F.showTooltipAt,I=F.showTooltipFromEvent,O=F.hideTooltip,L=k.useMemo(function(){if(b)return j==="cursor"?function(D,U){I(b(D),U,M)}:function(D){var U=r(D),N=U[0],q=U[1];Y(b(D),[N+l.left,q+l.top],M)}},[Y,I,b,j,M,r,l]),z=k.useCallback(function(D){var U=B(D);if(S(U),a==null||a(U?U[1]:null),U){var N=U[1];L==null||L(N,D),d==null||d(U[1],D)}},[B,S,a,L,d]),tt=k.useCallback(function(D){var U=B(D);if(S(U),U){var N=U[0],q=U[1];if(a==null||a(q),L==null||L(q,D),P.current){var Q=P.current,G=Q[0],K=Q[1];N!==G?m==null||m(K,D):g==null||g(q,D)}else d==null||d(q,D)}else a==null||a(null),O==null||O(),P.current&&(m==null||m(P.current[1],D))},[B,S,P,d,g,m,L,O]),ot=k.useCallback(function(D){S(null),a==null||a(null),O(),m&&P.current&&m(P.current[1],D)},[S,a,P,O,m]),at=k.useCallback(function(D){var U=B(D);S(U),U&&(p==null||p(U[1],D))},[B,S,p]),ht=k.useCallback(function(D){var U=B(D);A&&(S(U),a==null||a(U?U[1]:null)),U&&(v==null||v(U[1],D))},[B,S,a,A,v]),R=k.useCallback(function(D){var U=B(D);A&&(S(U),a==null||a(U?U[1]:null)),U&&(x==null||x(U[1],D))},[B,S,a,A,x]),X=k.useCallback(function(D){A&&(S(null),a==null||a(null)),w&&P.current&&w(P.current[1],D)},[A,S,a,w,P]);return{current:E,handleMouseEnter:h?z:void 0,handleMouseMove:h?tt:void 0,handleMouseLeave:h?ot:void 0,handleClick:h?at:void 0,handleTouchStart:h?ht:void 0,handleTouchMove:h?R:void 0,handleTouchEnd:h?X:void 0}},$u=function(t){var e=t.nodes,n=t.width,i=t.height,r=t.margin,o=r===void 0?Te:r,a=t.getNodePosition,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd,m=t.enableTouchCrosshair,p=m!==void 0&&m,v=t.detectionRadius,x=v===void 0?1/0:v,w=t.tooltip,T=t.tooltipPosition,A=T===void 0?Ci:T,b=t.tooltipAnchor,$=b===void 0?Si:b,j=t.debug,y=k.useRef(null),M=_i({points:e,getNodePosition:a,width:n,height:i,margin:o,debug:j}),C=M.delaunay,E=M.voronoi,S=ju({elementRef:y,nodes:e,delaunay:C,margin:o,detectionRadius:x,setCurrent:s,onMouseEnter:l,onMouseMove:u,onMouseLeave:f,onClick:c,onTouchStart:h,onTouchMove:d,onTouchEnd:g,enableTouchCrosshair:p,tooltip:w,tooltipPosition:A,tooltipAnchor:$}),P=S.current,B=S.handleMouseEnter,F=S.handleMouseMove,Y=S.handleMouseLeave,I=S.handleClick,O=S.handleTouchStart,L=S.handleTouchMove,z=S.handleTouchEnd,tt=k.useMemo(function(){if(j&&E)return E.render()},[j,E]);return _.jsxs("g",{ref:y,transform:"translate("+-o.left+","+-o.top+")",children:[j&&E&&_.jsxs(_.Fragment,{children:[_.jsx("path",{d:tt,stroke:"red",strokeWidth:1,opacity:.75}),x<1/0&&_.jsx("path",{stroke:"red",strokeWidth:.35,fill:"none",d:C.renderPoints(void 0,x)}),P&&_.jsx("path",{fill:"pink",opacity:.35,d:E.renderCell(P[0])})]}),_.jsx("rect",{"data-ref":"mesh-interceptor",width:o.left+n+o.right,height:o.top+i+o.bottom,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:B,onMouseMove:F,onMouseLeave:Y,onTouchStart:O,onTouchMove:L,onTouchEnd:z,onClick:I})]})},Eu=function(t,e){t.save(),t.globalAlpha=.75,t.beginPath(),e.render(t),t.strokeStyle="red",t.lineWidth=1,t.stroke(),t.restore()},Fu=function(t,e,n){t.save(),t.globalAlpha=.35,t.beginPath(),e.renderCell(n,t),t.fillStyle="pink",t.fill(),t.restore()};function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nt.apply(this,arguments)}var Yn=k.memo(function(t){var e=t.point;return _.jsx(ko,{id:_.jsxs("span",{children:["x: ",_.jsx("strong",{children:e.data.xFormatted}),", y:"," ",_.jsx("strong",{children:e.data.yFormatted})]}),enableChip:!0,color:e.serieColor})}),Ai=k.memo(function(t){var e=t.slice,n=t.axis,i=Pt(),r=n==="x"?"y":"x";return _.jsx(wo,{rows:e.points.map(function(o){return[_.jsx(To,{color:o.serieColor,style:i.tooltip.chip},"chip"),o.serieId,_.jsx("span",{style:i.tooltip.tableCellValue,children:o.data[r+"Formatted"]},"value")]})})}),ji={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:Yn,enableSlices:!1,debugSlices:!1,sliceTooltip:Ai,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Dt=nt({},ji,{enablePointLabel:!1,useMesh:!1,enableTouchCrosshair:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"});nt({},ji,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Ou=function(t){var e=t.curve;return k.useMemo(function(){return _r().defined(function(n){return n.x!==null&&n.y!==null}).x(function(n){return n.x}).y(function(n){return n.y}).curve(Gr(e))},[e])},Du=function(t){var e=t.curve,n=t.yScale,i=t.areaBaselineValue;return k.useMemo(function(){return Va().defined(function(r){return r.x!==null&&r.y!==null}).x(function(r){return r.x}).y1(function(r){return r.y}).curve(Gr(e)).y0(n(i))},[e,n,i])},Pu=function(t){var e=t.componentId,n=t.enableSlices,i=t.points,r=t.width,o=t.height;return k.useMemo(function(){if(n===!1)return[];if(n==="x"){var a=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(a.has(l.x)?a.get(l.x).push(l):a.set(l.x,[l]))}),Array.from(a.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,f){var c,h,d=l[0],g=l[1],m=f[u-1],p=f[u+1];return c=m?d-(d-m[0])/2:d,h=p?d-c+(p[0]-d)/2:r-c,{id:"slice:"+e+":"+d,x0:c,x:d,y0:0,y:0,width:h,height:o,points:g.reverse()}})}if(n==="y"){var s=new Map;return i.forEach(function(l){l.data.x!==null&&l.data.y!==null&&(s.has(l.y)?s.get(l.y).push(l):s.set(l.y,[l]))}),Array.from(s.entries()).sort(function(l,u){return l[0]-u[0]}).map(function(l,u,f){var c,h,d=l[0],g=l[1],m=f[u-1],p=f[u+1];return c=m?d-(d-m[0])/2:d,h=p?d-c+(p[0]-d)/2:o-c,{id:d,x0:0,x:0,y0:c,y:d,width:r,height:h,points:g.reverse()}})}},[e,n,o,i,r])},Uu="line",$i=function(t){var e=t.data,n=t.xScale,i=n===void 0?Dt.xScale:n,r=t.xFormat,o=t.yScale,a=o===void 0?Dt.yScale:o,s=t.yFormat,l=t.width,u=t.height,f=t.colors,c=f===void 0?Dt.colors:f,h=t.curve,d=h===void 0?Dt.curve:h,g=t.areaBaselineValue,m=g===void 0?Dt.areaBaselineValue:g,p=t.pointColor,v=p===void 0?Dt.pointColor:p,x=t.pointBorderColor,w=x===void 0?Dt.pointBorderColor:x,T=t.enableSlices,A=T===void 0?Dt.enableSlicesTooltip:T,b=k.useState(ql(Uu))[0],$=Zn(r),j=Zn(s),y=Oo(c,"id"),M=Pt(),C=Re(v,M),E=Re(w,M),S=k.useState([]),P=S[0],B=S[1],F=k.useMemo(function(){return El(e.filter(function(R){return P.indexOf(R.id)===-1}),i,a,l,u)},[e,P,i,a,l,u]),Y=F.xScale,I=F.yScale,O=F.series,L=k.useMemo(function(){var R=e.map(function(D){return{id:D.id,label:D.id,color:y(D)}}),X=R.map(function(D){return nt({},O.find(function(U){return U.id===D.id}),{color:D.color})}).filter(function(D){return!!D.id});return{legendData:R.map(function(D){return nt({},D,{hidden:!X.find(function(U){return U.id===D.id})})}).reverse(),series:X}},[e,O,y]),z=L.legendData,tt=L.series,ot=k.useCallback(function(R){B(function(X){return X.indexOf(R)>-1?X.filter(function(D){return D!==R}):[].concat(X,[R])})},[]),at=function(R){var X=R.series,D=R.getPointColor,U=R.getPointBorderColor,N=R.formatX,q=R.formatY;return k.useMemo(function(){return X.reduce(function(Q,G){return[].concat(Q,G.data.filter(function(K){return K.position.x!==null&&K.position.y!==null}).map(function(K,bt){var rt={id:G.id+"."+bt,index:Q.length+bt,serieId:G.id,serieColor:G.color,x:K.position.x,y:K.position.y};return rt.color=D(G),rt.borderColor=U(rt),rt.data=nt({},K.data,{xFormatted:N(K.data.x),yFormatted:q(K.data.y)}),rt}))},[])},[X,D,U,N,q])}({series:tt,getPointColor:C,getPointBorderColor:E,formatX:$,formatY:j}),ht=Pu({componentId:b,enableSlices:A,points:at,width:l,height:u});return{legendData:z,toggleSerie:ot,lineGenerator:Ou({curve:d}),areaGenerator:Du({curve:d,yScale:I,areaBaselineValue:m}),getColor:y,series:tt,xScale:Y,yScale:I,slices:ht,points:at}},Bu=function(t){var e=t.areaBlendMode,n=t.areaOpacity,i=t.color,r=t.fill,o=t.path,a=Mn(),s=a.animate,l=a.config,u=Hr(o),f=Ir({color:i,config:l,immediate:!s});return _.jsx(Ti.path,{d:u,fill:r||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:e}})},Wu=k.memo(function(t){var e=t.areaGenerator,n=t.areaOpacity,i=t.areaBlendMode,r=t.lines.slice(0).reverse();return _.jsx("g",{children:r.map(function(o){return _.jsx(Bu,nt({path:e(o.data.map(function(a){return a.position}))},nt({areaOpacity:n,areaBlendMode:i},o)),o.id)})})}),Yu=k.memo(function(t){var e=t.lineGenerator,n=t.points,i=t.color,r=t.thickness,o=k.useMemo(function(){return e(n)},[e,n]),a=Hr(o);return _.jsx(Ti.path,{d:a,fill:"none",strokeWidth:r,stroke:i})}),Iu=k.memo(function(t){var e=t.lines,n=t.lineGenerator,i=t.lineWidth;return e.slice(0).reverse().map(function(r){var o=r.id,a=r.data,s=r.color;return _.jsx(Yu,{id:o,points:a.map(function(l){return l.position}),lineGenerator:n,color:s,thickness:i},o)})}),Lu=k.memo(function(t){var e=t.slice,n=t.slices,i=t.axis,r=t.debug,o=t.tooltip,a=t.isCurrent,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd,m=Xe(),p=m.showTooltipFromEvent,v=m.hideTooltip,x=k.useCallback(function(y){p(k.createElement(o,{slice:e,axis:i}),y,"right"),s(e),l&&l(e,y)},[p,o,e,i,s,l]),w=k.useCallback(function(y){p(k.createElement(o,{slice:e,axis:i}),y,"right"),u&&u(e,y)},[p,o,e,i,u]),T=k.useCallback(function(y){v(),s(null),f&&f(e,y)},[v,s,f,e]),A=k.useCallback(function(y){c&&c(e,y)},[e,c]),b=k.useCallback(function(y){p(k.createElement(o,{slice:e,axis:i}),y,"right"),s(e),h&&h(e,y)},[i,h,s,p,e,o]),$=k.useCallback(function(y){var M=y.touches[0],C=document.elementFromPoint(M.clientX,M.clientY),E=C==null?void 0:C.getAttribute("data-ref");if(E){var S=n.find(function(P){return P.id===E});S&&(p(k.createElement(o,{slice:S,axis:i}),y,"right"),s(S))}d&&d(e,y)},[i,d,s,p,e,n,o]),j=k.useCallback(function(y){v(),s(null),g&&g(e,y)},[v,s,g,e]);return _.jsx("rect",{x:e.x0,y:e.y0,width:e.width,height:e.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&r?.35:0,onMouseEnter:x,onMouseMove:w,onMouseLeave:T,onClick:A,onTouchStart:b,onTouchMove:$,onTouchEnd:j,"data-ref":e.id})}),Nu=k.memo(function(t){var e=t.slices,n=t.axis,i=t.debug,r=t.height,o=t.tooltip,a=t.current,s=t.setCurrent,l=t.onMouseEnter,u=t.onMouseMove,f=t.onMouseLeave,c=t.onClick,h=t.onTouchStart,d=t.onTouchMove,g=t.onTouchEnd;return e.map(function(m){return _.jsx(Lu,{slice:m,slices:e,axis:n,debug:i,height:r,tooltip:o,setCurrent:s,isCurrent:a!==null&&a.id===m.id,onMouseEnter:l,onMouseMove:u,onMouseLeave:f,onClick:c,onTouchStart:h,onTouchMove:d,onTouchEnd:g},m.id)})}),Ru=k.memo(function(t){var e=t.points,n=t.symbol,i=t.size,r=t.borderWidth,o=t.enableLabel,a=t.label,s=t.labelYOffset,l=Pt(),u=Co(a),f=e.slice(0).reverse().map(function(c){return{id:c.id,x:c.x,y:c.y,datum:c.data,fill:c.color,stroke:c.borderColor,label:o?u(c):null}});return _.jsx("g",{children:f.map(function(c){return _.jsx(So,{x:c.x,y:c.y,datum:c.datum,symbol:n,size:i,color:c.fill,borderWidth:r,borderColor:c.stroke,label:c.label,labelYOffset:s,theme:l},c.id)})})}),Hu=k.memo(function(t){var e=t.points,n=t.width,i=t.height,r=t.margin,o=t.setCurrent,a=t.onMouseEnter,s=t.onMouseMove,l=t.onMouseLeave,u=t.onClick,f=t.onTouchStart,c=t.onTouchMove,h=t.onTouchEnd,d=t.tooltip,g=t.debug,m=t.enableTouchCrosshair,p=Xe(),v=p.showTooltipAt,x=p.hideTooltip,w=k.useCallback(function(M,C){v(k.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),a&&a(M,C)},[v,d,a,r]),T=k.useCallback(function(M,C){v(k.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),s&&s(M,C)},[v,d,r.left,r.top,s]),A=k.useCallback(function(M,C){x(),l&&l(M,C)},[x,l]),b=k.useCallback(function(M,C){u&&u(M,C)},[u]),$=k.useCallback(function(M,C){v(k.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),f&&f(M,C)},[r.left,r.top,f,v,d]),j=k.useCallback(function(M,C){v(k.createElement(d,{point:M}),[M.x+r.left,M.y+r.top],"top"),c&&c(M,C)},[r.left,r.top,c,v,d]),y=k.useCallback(function(M,C){x(),h&&h(M,C)},[h,x]);return _.jsx($u,{nodes:e,width:n,height:i,setCurrent:o,onMouseEnter:w,onMouseMove:T,onMouseLeave:A,onClick:b,onTouchStart:$,onTouchMove:j,onTouchEnd:y,enableTouchCrosshair:m,debug:g})}),zu=Rr(function(t){var e=t.data,n=t.xScale,i=n===void 0?{type:"point"}:n,r=t.xFormat,o=t.yScale,a=o===void 0?{type:"linear",min:0,max:"auto"}:o,s=t.yFormat,l=t.layers,u=l===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:l,f=t.curve,c=f===void 0?"linear":f,h=t.areaBaselineValue,d=h===void 0?0:h,g=t.colors,m=g===void 0?{scheme:"nivo"}:g,p=t.margin,v=t.width,x=t.height,w=t.axisTop,T=t.axisRight,A=t.axisBottom,b=A===void 0?{}:A,$=t.axisLeft,j=$===void 0?{}:$,y=t.enableGridX,M=y===void 0||y,C=t.enableGridY,E=C===void 0||C,S=t.gridXValues,P=t.gridYValues,B=t.lineWidth,F=B===void 0?2:B,Y=t.enableArea,I=Y!==void 0&&Y,O=t.areaOpacity,L=O===void 0?.2:O,z=t.areaBlendMode,tt=z===void 0?"normal":z,ot=t.enablePoints,at=ot===void 0||ot,ht=t.pointSymbol,R=t.pointSize,X=R===void 0?6:R,D=t.pointColor,U=D===void 0?{from:"color"}:D,N=t.pointBorderWidth,q=N===void 0?0:N,Q=t.pointBorderColor,G=Q===void 0?{theme:"background"}:Q,K=t.enablePointLabel,bt=K!==void 0&&K,rt=t.pointLabel,Ut=rt===void 0?"data.yFormatted":rt,Ce=t.pointLabelYOffset,se=t.defs,le=se===void 0?[]:se,qt=t.fill,Se=qt===void 0?[]:qt,_e=t.markers,ue=t.legends,Bt=ue===void 0?[]:ue,gt=t.isInteractive,it=gt===void 0||gt,st=t.useMesh,Wt=st!==void 0&&st,$t=t.debugMesh,Mt=$t!==void 0&&$t,ce=t.onMouseEnter,kt=t.onMouseMove,Et=t.onMouseLeave,wt=t.onClick,Yt=t.onTouchStart,Kt=t.onTouchMove,mt=t.onTouchEnd,It=t.tooltip,Jt=It===void 0?Yn:It,Ft=t.enableSlices,Ot=Ft!==void 0&&Ft,he=t.debugSlices,Ae=he!==void 0&&he,Lt=t.sliceTooltip,je=Lt===void 0?Ai:Lt,fe=t.enableCrosshair,Qt=fe===void 0||fe,de=t.crosshairType,Qe=de===void 0?"bottom-left":de,$e=t.enableTouchCrosshair,W=$e!==void 0&&$e,H=t.role,Tt=H===void 0?"img":H,pt=zr(v,x,p),V=pt.margin,ft=pt.innerWidth,vt=pt.innerHeight,Ei=pt.outerWidth,Fi=pt.outerHeight,Ct=$i({data:e,xScale:i,xFormat:r,yScale:a,yFormat:s,width:ft,height:vt,colors:m,curve:c,areaBaselineValue:d,pointColor:U,pointBorderColor:G,enableSlices:Ot}),Oi=Ct.legendData,Di=Ct.toggleSerie,In=Ct.lineGenerator,Ln=Ct.areaGenerator,Ee=Ct.series,Fe=Ct.xScale,Oe=Ct.yScale,Nn=Ct.slices,Ze=Ct.points,Zt=Pt(),Pi=Re(U,Zt),Ui=Re(G,Zt),Rn=k.useState(null),ge=Rn[0],Hn=Rn[1],zn=k.useState(null),me=zn[0],Gn=zn[1],Nt={grid:_.jsx(Nl,{theme:Zt,width:ft,height:vt,xScale:M?Fe:null,yScale:E?Oe:null,xValues:S,yValues:P},"grid"),markers:_.jsx(Ao,{markers:_e,width:ft,height:vt,xScale:Fe,yScale:Oe,theme:Zt},"markers"),axes:_.jsx(Il,{xScale:Fe,yScale:Oe,width:ft,height:vt,theme:Zt,top:w,right:T,bottom:b,left:j},"axes"),areas:null,lines:_.jsx(Iu,{lines:Ee,lineGenerator:In,lineWidth:F},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Bt.map(function(Rt,tn){return _.jsx(_o,nt({},Rt,{containerWidth:ft,containerHeight:vt,data:Rt.data||Oi,theme:Zt,toggleSerie:Rt.toggleSerie?Di:void 0}),"legend."+tn)})},Bi=jo(le,Ee,Se);return I&&(Nt.areas=_.jsx(Wu,{areaGenerator:Ln,areaOpacity:L,areaBlendMode:tt,lines:Ee},"areas")),it&&Ot!==!1&&(Nt.slices=_.jsx(Nu,{slices:Nn,axis:Ot,debug:Ae,height:vt,tooltip:je,current:me,setCurrent:Gn,onMouseEnter:ce,onMouseMove:kt,onMouseLeave:Et,onClick:wt,onTouchStart:Yt,onTouchMove:Kt,onTouchEnd:mt},"slices")),at&&(Nt.points=_.jsx(Ru,{points:Ze,symbol:ht,size:X,color:Pi,borderWidth:q,borderColor:Ui,enableLabel:bt,label:Ut,labelYOffset:Ce},"points")),it&&Qt&&(ge!==null&&(Nt.crosshair=_.jsx(Qn,{width:ft,height:vt,x:ge.x,y:ge.y,type:Qe},"crosshair")),me!==null&&(Nt.crosshair=_.jsx(Qn,{width:ft,height:vt,x:me.x,y:me.y,type:Ot},"crosshair"))),it&&Wt&&Ot===!1&&(Nt.mesh=_.jsx(Hu,{points:Ze,width:ft,height:vt,margin:V,current:ge,setCurrent:Hn,onMouseEnter:ce,onMouseMove:kt,onMouseLeave:Et,onClick:wt,onTouchStart:Yt,onTouchMove:Kt,onTouchEnd:mt,tooltip:Jt,enableTouchCrosshair:W,debug:Mt},"mesh")),_.jsx($o,{defs:Bi,width:Ei,height:Fi,margin:V,role:Tt,children:u.map(function(Rt,tn){return typeof Rt=="function"?_.jsx(k.Fragment,{children:Rt(nt({},t,{innerWidth:ft,innerHeight:vt,series:Ee,slices:Nn,points:Ze,xScale:Fe,yScale:Oe,lineGenerator:In,areaGenerator:Ln,currentPoint:ge,setCurrentPoint:Hn,currentSlice:me,setCurrentSlice:Gn}))},tn):Nt[Rt]})})}),Gu=function(t){return _.jsx(Nr,{children:function(e){var n=e.width,i=e.height;return _.jsx(zu,nt({width:n,height:i},t))}})},Vu=Rr(function(t){var e=k.useRef(null),n=t.width,i=t.height,r=t.margin,o=t.pixelRatio,a=o===void 0?typeof window<"u"&&window.devicePixelRatio||1:o,s=t.data,l=t.xScale,u=l===void 0?{type:"point"}:l,f=t.xFormat,c=t.yScale,h=c===void 0?{type:"linear",min:0,max:"auto"}:c,d=t.yFormat,g=t.curve,m=g===void 0?"linear":g,p=t.layers,v=p===void 0?["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"]:p,x=t.colors,w=x===void 0?{scheme:"nivo"}:x,T=t.lineWidth,A=T===void 0?2:T,b=t.enableArea,$=b!==void 0&&b,j=t.areaBaselineValue,y=j===void 0?0:j,M=t.areaOpacity,C=M===void 0?.2:M,E=t.enablePoints,S=E===void 0||E,P=t.pointSize,B=P===void 0?6:P,F=t.pointColor,Y=F===void 0?{from:"color"}:F,I=t.pointBorderWidth,O=I===void 0?0:I,L=t.pointBorderColor,z=L===void 0?{theme:"background"}:L,tt=t.enableGridX,ot=tt===void 0||tt,at=t.gridXValues,ht=t.enableGridY,R=ht===void 0||ht,X=t.gridYValues,D=t.axisTop,U=t.axisRight,N=t.axisBottom,q=N===void 0?{}:N,Q=t.axisLeft,G=Q===void 0?{}:Q,K=t.legends,bt=K===void 0?[]:K,rt=t.isInteractive,Ut=rt===void 0||rt,Ce=t.debugMesh,se=Ce!==void 0&&Ce,le=t.onMouseLeave,qt=t.onClick,Se=t.tooltip,_e=Se===void 0?Yn:Se,ue=t.canvasRef,Bt=zr(n,i,r),gt=Bt.margin,it=Bt.innerWidth,st=Bt.innerHeight,Wt=Bt.outerWidth,$t=Bt.outerHeight,Mt=Pt(),ce=k.useState(null),kt=ce[0],Et=ce[1],wt=$i({data:s,xScale:u,xFormat:f,yScale:h,yFormat:d,width:it,height:st,colors:w,curve:m,areaBaselineValue:y,pointColor:Y,pointBorderColor:z}),Yt=wt.lineGenerator,Kt=wt.areaGenerator,mt=wt.series,It=wt.xScale,Jt=wt.yScale,Ft=wt.points,Ot=_i({points:Ft,width:it,height:st,debug:se}),he=Ot.delaunay,Ae=Ot.voronoi;k.useEffect(function(){ue&&(ue.current=e.current),e.current.width=Wt*a,e.current.height=$t*a;var W=e.current.getContext("2d");W.scale(a,a),W.fillStyle=Mt.background,W.fillRect(0,0,Wt,$t),W.translate(gt.left,gt.top),v.forEach(function(H){if(typeof H=="function"&&H({ctx:W,innerWidth:it,innerHeight:st,series:mt,points:Ft,xScale:It,yScale:Jt,lineWidth:A,lineGenerator:Yt,areaGenerator:Kt,currentPoint:kt,setCurrentPoint:Et}),H==="grid"&&Mt.grid.line.strokeWidth>0&&(W.lineWidth=Mt.grid.line.strokeWidth,W.strokeStyle=Mt.grid.line.stroke,ot&&vr(W,{width:it,height:st,scale:It,axis:"x",values:at}),R&&vr(W,{width:it,height:st,scale:Jt,axis:"y",values:X})),H==="axes"&&Hl(W,{xScale:It,yScale:Jt,width:it,height:st,top:D,right:U,bottom:q,left:G,theme:Mt}),H==="areas"&&$===!0){W.save(),W.globalAlpha=C,Kt.context(W);for(var Tt=mt.length-1;Tt>=0;Tt--)W.fillStyle=mt[Tt].color,W.beginPath(),Kt(mt[Tt].data.map(function(V){return V.position})),W.fill();W.restore()}if(H==="lines"&&(Yt.context(W),mt.forEach(function(V){W.strokeStyle=V.color,W.lineWidth=A,W.beginPath(),Yt(V.data.map(function(ft){return ft.position})),W.stroke()})),H==="points"&&S===!0&&B>0&&Ft.forEach(function(V){W.fillStyle=V.color,W.beginPath(),W.arc(V.x,V.y,B/2,0,2*Math.PI),W.fill(),O>0&&(W.strokeStyle=V.borderColor,W.lineWidth=O,W.stroke())}),H==="mesh"&&se===!0&&(Eu(W,Ae),kt&&Fu(W,Ae,kt.index)),H==="legends"){var pt=mt.map(function(V){return{id:V.id,label:V.id,color:V.color}}).reverse();bt.forEach(function(V){Eo(W,nt({},V,{data:V.data||pt,containerWidth:it,containerHeight:st,theme:Mt}))})}})},[e,Wt,$t,v,Mt,Yt,mt,It,Jt,ot,at,R,X,D,U,q,G,bt,Ft,S,B,kt]);var Lt=k.useCallback(function(W){var H=Lr(e.current,W),Tt=H[0],pt=H[1];if(!Fo(gt.left,gt.top,it,st,Tt,pt))return null;var V=he.find(Tt-gt.left,pt-gt.top);return Ft[V]},[e,gt,it,st,he]),je=Xe(),fe=je.showTooltipFromEvent,Qt=je.hideTooltip,de=k.useCallback(function(W){var H=Lt(W);Et(H),H?fe(k.createElement(_e,{point:H}),W):Qt()},[Lt,Et,fe,Qt,_e]),Qe=k.useCallback(function(W){Qt(),Et(null),kt&&le&&le(kt,W)},[Qt,Et,le]),$e=k.useCallback(function(W){if(qt){var H=Lt(W);H&&qt(H,W)}},[Lt,qt]);return _.jsx("canvas",{ref:e,width:Wt*a,height:$t*a,style:{width:Wt,height:$t,cursor:Ut?"auto":"normal"},onMouseEnter:Ut?de:void 0,onMouseMove:Ut?de:void 0,onMouseLeave:Ut?Qe:void 0,onClick:Ut?$e:void 0})}),Xu=k.forwardRef(function(t,e){return _.jsx(Vu,nt({},t,{canvasRef:e}))});k.forwardRef(function(t,e){return _.jsx(Nr,{children:function(n){var i=n.width,r=n.height;return _.jsx(Xu,nt({width:i,height:r},t,{ref:e}))}})});const qu=({isCustomLineColors:t=!1,isDashboard:e=!1})=>{const[n,i]=k.useState([]),[r,o]=k.useState(new Date().getFullYear()),a=Xo(),s=k.useMemo(()=>Vo(a.palette.mode),[a.palette.mode]),l=Wi(f=>f.adminData.usersData.students);console.log(l);const u=f=>`hsl(${f*360/10%360}, 70%, 60%)`;return k.useEffect(()=>{(()=>{try{if(l&&l.length>0){const c=["January","February","March","April","May","June","July","August","September","October","November","December"],h=Array.from(new Set(l.map(p=>new Date(p.createdAt).getFullYear()))),d=h.includes(r)?r:Math.max(...h);o(d);const g={};l.forEach(p=>{const v=p.program,x=p.createdAt?new Date(p.createdAt):new Date,w=x.getFullYear(),T=x.getMonth(),A=c[T];console.log(p),w===d&&(g[v]||(g[v]=c.map((b,$)=>({x:c[$],y:0}))),g[v][T]?g[v][T].y+=p.amountPaid:console.warn(`Data point with month index ${T} is undefined for program ${v}.`))}),console.log(g);const m=Object.keys(g).map((p,v)=>{const x=g[p].map(w=>({x:w.x||"Unknown",y:w.y||0}));return{id:p,color:t?u(v):s.primary[500],data:x}});i(m)}else console.warn("No data available or data array is empty.")}catch(c){console.error("Error fetching data from sessionStorage: ",c)}})()},[t,s.primary,r]),n.length===0?_.jsx(He,{children:"Loading data..."}):_.jsx(He,{width:"98%",height:"100%",children:_.jsx(Gu,{data:n,theme:{axis:{domain:{line:{stroke:s.grey[100]}},legend:{text:{fill:s.grey[100],fontSize:8}},ticks:{line:{stroke:s.grey[100],strokeWidth:1},text:{fill:s.grey[100],fontSize:8}}},legends:{text:{fill:s.grey[100],fontSize:8}},tooltip:{container:{color:s.primary[500]}}},colors:t?{datum:"color"}:{scheme:"nivo"},margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto",stacked:!1,reverse:!1},yFormat:" >-.2f",curve:"catmullRom",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:0,tickPadding:5,tickRotation:0,legend:e?void 0:"Month",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickValues:5,tickSize:3,tickPadding:5,tickRotation:0,legend:e?void 0:"Amount Paid",legendOffset:-40,legendPosition:"middle"},enableGridX:!1,enableGridY:!1,pointSize:8,pointColor:{theme:"background"},pointBorderWidth:1,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})})},mc=()=>_.jsxs(He,{m:"20px",children:[_.jsx(Yi,{title:"Line Chart",subtitle:"Simple Line Chart"}),_.jsx(He,{height:"75vh",children:_.jsx(qu,{})})]});export{mc as default};
