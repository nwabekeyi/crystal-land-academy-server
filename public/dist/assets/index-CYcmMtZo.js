import{j as e,r as m}from"./index-NZEBDXxQ.js";import{H as h}from"./Header-CPkEzEIh.js";import{t as I,M as R}from"./modal-BenOPica.js";import{T as z}from"./table-D4jZ3nya.js";import{F as D,c as F,a as l,b as N}from"./object-BQBPnLxy.js";import{u as W}from"./useMediaQuery-BPlChv1n.js";import{v as p,y as s,x as y,j as E}from"./TextField-DNvuwNON.js";import{u as k}from"./useApi-BVJLWYD8.js";import{w as B}from"./dasboardPagesContainer-BdOZP967.js";import"./index-D2Mru0Qa.js";import"./MenuItem-BvkakO0W.js";import"./IconButton-DuKgt8V1.js";import"./confirmationModal-PWKEq3Qt.js";import"./CircularProgress-BwrrL3V1.js";import"./index-C379hBbb.js";import"./loadingButton-B5aAP40a.js";import"./useSlot-wOToS5I0.js";import"./_baseIsEqual-CvucnIIP.js";import"./_baseSlice-z0Zd1-Ev.js";import"./_baseForOwn-0VGRkzH_.js";const M=({onSubmit:c})=>{const g=W("(min-width:600px)"),u=a=>{c(a)};return e.jsxs(p,{m:"20px",children:[e.jsx(h,{title:"ADD CONTACT",subtitle:"Add a New Contact Record"}),e.jsx(D,{onSubmit:u,initialValues:H,validationSchema:O,children:({values:a,errors:t,touched:i,handleBlur:n,handleChange:r,handleSubmit:f})=>e.jsxs("form",{onSubmit:f,children:[e.jsxs(p,{display:"grid",gap:"30px",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",sx:{"& > div":{gridColumn:g?void 0:"span 4"}},children:[e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"Registrar ID",onBlur:n,onChange:r,value:a.registrarId,name:"registrarId",error:!!i.registrarId&&!!t.registrarId,helperText:i.registrarId&&t.registrarId,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"Name",onBlur:n,onChange:r,value:a.name,name:"name",error:!!i.name&&!!t.name,helperText:i.name&&t.name,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"number",label:"Age",onBlur:n,onChange:r,value:a.age,name:"age",error:!!i.age&&!!t.age,helperText:i.age&&t.age,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"Phone Number",onBlur:n,onChange:r,value:a.phone,name:"phone",error:!!i.phone&&!!t.phone,helperText:i.phone&&t.phone,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"email",label:"Email",onBlur:n,onChange:r,value:a.email,name:"email",error:!!i.email&&!!t.email,helperText:i.email&&t.email,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"Address",onBlur:n,onChange:r,value:a.address,name:"address",error:!!i.address&&!!t.address,helperText:i.address&&t.address,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"City",onBlur:n,onChange:r,value:a.city,name:"city",error:!!i.city&&!!t.city,helperText:i.city&&t.city,sx:{gridColumn:"span 4"}}),e.jsx(s,{fullWidth:!0,variant:"filled",type:"text",label:"Zip Code",onBlur:n,onChange:r,value:a.zipCode,name:"zipCode",error:!!i.zipCode&&!!t.zipCode,helperText:i.zipCode&&t.zipCode,sx:{gridColumn:"span 4"}})]}),e.jsx(p,{display:"flex",justifyContent:"end",mt:"20px",children:e.jsx(y,{type:"submit",color:"secondary",variant:"contained",children:"Save Contact"})})]})})]})},O=F().shape({registrarId:l().required("Registrar ID is required"),name:l().required("Name is required"),age:N().required("Age is required").min(0,"Age must be positive"),phone:l().required("Phone number is required"),email:l().email("Invalid email").required("Email is required"),address:l().required("Address is required"),city:l().required("City is required"),zipCode:l().required("Zip Code is required")}),H={registrarId:"",name:"",age:"",phone:"",email:"",address:"",city:"",zipCode:""},Z=()=>{const c=E();I(c.palette.mode);const[g,u]=m.useState(!1),[a,t]=m.useState(0),[i,n]=m.useState(10),[r,f]=m.useState("id"),[b,j]=m.useState("asc"),T=[{id:"id",label:"ID",flex:.5},{id:"registrarId",label:"Registrar ID"},{id:"name",label:"Name",flex:1},{id:"age",label:"Age",type:"number"},{id:"phone",label:"Phone",flex:1},{id:"email",label:"Email",flex:1},{id:"address",label:"Address",flex:1},{id:"city",label:"City",flex:1},{id:"zipCode",label:"Zip Code",flex:1}],{loading:v,data:d,error:S,callApi:x}=k();m.useEffect(()=>{x("GET")},[a,i,r,b,x]);const q=async o=>{try{await x("POST",o),u(!1),x("GET")}catch(C){console.error("Failed to add contact:",C)}},A=o=>{t(o)},P=o=>{n(o),t(0)},w=o=>{f(o),j(C=>C==="asc"?"desc":"asc")};return e.jsxs(p,{children:[e.jsx(h,{title:"CONTACTS",subtitle:"List of Contacts for Future Reference"}),e.jsx(p,{display:"flex",justifyContent:"flex-end",mb:2,children:e.jsx(y,{variant:"contained",color:"primary",onClick:()=>u(!0),children:"Add Contact"})}),e.jsx(p,{m:"40px 0 0 0",height:"75vh",children:e.jsx(z,{columns:T,tableHeader:"List of Contacts for Future Reference",data:(d==null?void 0:d.data)||[],page:a,rowsPerPage:i,totalRows:(d==null?void 0:d.totalRows)||0,sortBy:r,sortDirection:b,onPageChange:A,onRowsPerPageChange:P,onSortChange:w,loading:v,error:S,onRowClick:o=>console.log("Row clicked:",o)})}),e.jsx(R,{open:g,onClose:()=>u(!1),title:"Add New Contact",onConfirm:null,noConfirm:!0,children:e.jsx(M,{onSubmit:q})})]})},de=B(Z);export{de as default};
