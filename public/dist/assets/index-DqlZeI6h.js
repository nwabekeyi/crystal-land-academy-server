import{r,j as o,f as P}from"./index-Crajziag.js";import{t as j}from"./modal-BxSZIXpZ.js";import{H as w}from"./Header-DEjrRT75.js";import{T as A}from"./table-BYEakSrK.js";import{w as T}from"./dasboardPagesContainer-BNOxaAPh.js";import{u as R}from"./useApi-BHeEGMLZ.js";import{j as y,v as i,T as a}from"./TextField-CFy9rWQ5.js";import"./IconButton-CyfN-QTB.js";import"./index-nIG9dKGK.js";import"./confirmationModal-DIJZeCIh.js";import"./CircularProgress-B68jtOui.js";import"./MenuItem-CwQCBUF3.js";import"./index-CXq0dDQS.js";import"./loadingButton-B3YlAn5t.js";import"./crystal-land-log-removebg-DVF-nlbN.js";import"./useSlot-hCJ7RCMh.js";import"./useMediaQuery-BB3uwTyy.js";const B=()=>{const m=y(),s=j(m.palette.mode),[h,p]=r.useState([]),[n,g]=r.useState("_id"),[l,b]=r.useState("asc"),[u,c]=r.useState(0),[f,x]=r.useState(5),{loading:C,error:S,callApi:d}=R();r.useEffect(()=>{(async()=>{const t=await d(P.FEEDBACKS,"GET");t&&t.data&&t.data.feedbacks&&(console.log("Fetched feedbacks:",t.data.feedbacks),p(t.data.feedbacks))})()},[d]);const k={columns:[{id:"_id",label:"S/N",flex:.5,renderCell:(e,t)=>o.jsx(a,{children:t+1})},{id:"name",label:"Name",flex:1,renderCell:e=>o.jsx(a,{children:String(e.name||"N/A")})},{id:"role",label:"Role",flex:1,renderCell:e=>o.jsx(a,{children:String(e.role||"N/A")})},{id:"date",label:"Date",flex:1,renderCell:e=>o.jsx(a,{children:e.date?new Date(e.date).toLocaleDateString():"N/A"})},{id:"comments",label:"Comments",flex:2,renderCell:e=>o.jsx(a,{children:String(e.comments||"N/A")})}],tableHeader:"Feedbacks",data:h,sortBy:n,sortDirection:l,onSortChange:e=>{b(n===e&&l==="asc"?"desc":"asc"),g(e)},page:u,rowsPerPage:f,onPageChange:(e,t)=>{c(t)},onRowsPerPageChange:e=>{x(parseInt(e.target.value,10)),c(0)},onRowClick:e=>{console.log("Row clicked:",e)}};return o.jsxs(i,{children:[o.jsx(w,{title:"Feedbacks",subtitle:"List of all feedbacks"}),o.jsx(i,{height:"75vh",sx:{"& .MuiTable-root":{border:"none"},"& .MuiTable-cell":{borderBottom:"none"},"& .MuiTableHead-root":{backgroundColor:s.blueAccent[700],borderBottom:"none"},"& .MuiTableBody-root":{backgroundColor:s.primary[400]},"& .MuiTableFooter-root":{borderTop:"none",backgroundColor:s.blueAccent[700]},"& .MuiCheckbox-root":{color:`${s.greenAccent[200]} !important`}},children:C?o.jsx(a,{children:"Loading..."}):S?o.jsx(a,{children:"Error fetching feedbacks"}):o.jsx(A,{...k})})]})},Y=T(B);export{Y as default};
